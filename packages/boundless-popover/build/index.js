module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=require("boundless-dialog")},function(e,t){e.exports=require("boundless-portal")},function(e,t){e.exports=require("boundless-utils-omit-keys")},function(e,t){e.exports=require("boundless-utils-transform-property")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}function c(e,t){return e.filter(function(e){return t.indexOf(e)===-1})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(5),p=(r.n(s),r(6)),h=(r.n(p),r(4)),l=r.n(h),u=r(0),d=r.n(u),f=r(1),y=r.n(f),g=r(2),m=r.n(g),x=r(3),v=r.n(x),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),R=/\s?b-popover-(anchor|self)-(start|middle|end)/g,P=r.i(s.createElement)("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},r.i(s.createElement)("g",null,r.i(s.createElement)("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),r.i(s.createElement)("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"}))),N=0,E=1,O=2,W=[{name:"NNW",ax:N,ay:N,dx:N,dy:O},{name:"N",ax:E,ay:N,dx:E,dy:O},{name:"NNE",ax:O,ay:N,dx:O,dy:O},{name:"ENE",ax:O,ay:N,dx:N,dy:N},{name:"E",ax:O,ay:E,dx:N,dy:E},{name:"ESE",ax:O,ay:O,dx:N,dy:O},{name:"SSE",ax:O,ay:O,dx:O,dy:N},{name:"S",ax:E,ay:O,dx:E,dy:N},{name:"SSW",ax:N,ay:O,dx:N,dy:N},{name:"WSW",ax:N,ay:O,dx:O,dy:O},{name:"W",ax:N,ay:E,dx:O,dy:E},{name:"WNW",ax:N,ay:N,dx:O,dy:N}],T=function(e){function t(){var e,i,a,c;n(this,t);for(var s=arguments.length,h=Array(s),l=0;l<s;l++)h[l]=arguments[l];return i=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(h))),a.align=function(){var e=a.props.anchor instanceof HTMLElement?a.props.anchor:r.i(p.findDOMNode)(a.props.anchor),n=a.props.caretAnchor?a.props.caretAnchor instanceof HTMLElement?a.props.caretAnchor:r.i(p.findDOMNode)(a.props.caretAnchor):e;a.cacheViewportCartography(e,n);var o=a.getValidAlignmentPreset(),i=t.getAlignmentClassFragment;a.dialog.$wrapper.className=a.dialog.$wrapper.className.replace(R,"")+(" b-popover-anchor-x-"+i(o.ax))+(" b-popover-anchor-y-"+i(o.ay))+(" b-popover-self-x-"+i(o.dx))+(" b-popover-self-y-"+i(o.dy));var c=Math.round(a.getNextDialogXPosition(o)),s=Math.round(a.getNextDialogYPosition(o));a.dialog.$wrapper.style[v.a]="translate("+c+"px, "+s+"px)";var h=o.name[0],l="N"===h||"S"===h;a.$caret.style[l?"left":"top"]=Math.round(a.getNextCaretXPosition(o))+"px",a.$caret.style[l?"top":"left"]="0px"},c=i,o(a,c)}return i(t,e),b(t,[{key:"cacheViewportCartography",value:function(e,t){var r=document.body.getBoundingClientRect();this.anchorRect=e.getBoundingClientRect(),this.caretAnchorRect=t.getBoundingClientRect(),this.bodyLeft=r.left*-1,this.bodyTop=r.top*-1}},{key:"getNextCaretXPosition",value:function(e){var t=e.name,r=(e.ax,e.dx),n=(e.ay,e.dy),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$caret,i=0;return"N"===t[0]||"S"===t[0]?(i=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2,r===E?i+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2:r===O&&(i+=this.dialog.$wrapper.clientWidth-this.anchorRect.width)):(i=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2,n===E?i+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2:n===O&&(i+=this.dialog.$wrapper.clientHeight-this.anchorRect.height)),i-=o.clientWidth/2}},{key:"getNextDialogXPosition",value:function(e){var t=e.ax,r=e.dx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.left+this.bodyLeft;switch(t){case E:o+=this.anchorRect.width/2;break;case O:o+=this.anchorRect.width}switch(r){case E:o-=n.clientWidth/2;break;case O:o-=n.clientWidth}return o}},{key:"getNextDialogYPosition",value:function(e){var t=e.ay,r=e.dy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.top+this.bodyTop;switch(t){case E:o+=this.anchorRect.height/2;break;case O:o+=this.anchorRect.height}switch(r){case E:o-=n.clientHeight/2;break;case O:o-=n.clientHeight}return o}},{key:"isPositionValid",value:function(e,t,r){var n=e.name,o=e.ax,i=e.ay,a=(e.dx,e.dy,n[0]);return"N"===a||"S"===a?!("N"===a&&this.anchorRect.top-t<0)&&(!("S"===a&&this.anchorRect.bottom+t>window.innerHeight)&&(o===N?!(this.anchorRect.left+r>window.innerWidth||this.anchorRect.left<0):o===E?!(this.anchorRect.left-r/2<0||this.anchorRect.left+r/2>window.innerWidth):!(this.anchorRect.left-r<0||this.anchorRect.right>window.innerWidth))):"W"!==a&&"E"!==a||!("W"===a&&this.anchorRect.left-r<0)&&(!("E"===a&&this.anchorRect.right+r>window.innerWidth)&&(i===N?!(this.anchorRect.top+t>window.innerHeight||this.anchorRect.top<0):i===E?!(this.anchorRect.top+this.anchorRect.height/2-t/2<0||this.anchorRect.top+this.anchorRect.height/2+t/2>window.innerHeight):!(this.anchorRect.top-t<0||this.anchorRect.bottom>window.innerHeight)))}},{key:"getValidAlignmentPreset",value:function(){var e=this,t=this.dialog.$wrapper.clientWidth,r=this.dialog.$wrapper.clientHeight,n=W.filter(function(n){return e.isPositionValid(n,r,t)});if(n.indexOf(this.props.preset)!==-1||!this.props.autoReposition||!n.length)return this.props.preset;var o=n.filter(function(t){var r=t.name;return r[0]===e.props.preset.name[0]});if(o.length)return o[0];var i=a(this.props.preset.name),c=n.filter(function(e){var t=e.name;return t[0]===i});return c.length?c[0]:n[0]}},{key:"componentDidMount",value:function(){this.align(),window.addEventListener("resize",this.align,!0)}},{key:"componentDidUpdate",value:function(){this.align()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.align,!0)}},{key:"render",value:function(){var e=this,n=this.props;return r.i(s.createElement)(y.a,n.portalProps,r.i(s.createElement)(d.a,w({},m()(n,t.internalKeys),{ref:function(t){return e.dialog=t},before:r.i(s.cloneElement)(n.caretComponent,{ref:function(t){return e.$caret=t},className:l()("b-popover-caret",n.caretComponent.props.className)}),className:l()("b-popover",n.className)})))}}],[{key:"getAlignmentClassFragment",value:function(e){switch(e){case N:return"start";case E:return"middle";case O:return"end"}}}]),t}(s.PureComponent);T.preset=W.reduce(function(e,t){return e[t.name]=t,e},{}),T.propTypes=w({},d.a.propTypes,{anchor:s.PropTypes.oneOfType([s.PropTypes.instanceOf(HTMLElement),s.PropTypes.shape({props:s.PropTypes.object})]).isRequired,autoReposition:s.PropTypes.bool,caretAnchor:s.PropTypes.oneOfType([s.PropTypes.instanceOf(HTMLElement),s.PropTypes.shape({props:s.PropTypes.object})]),caretComponent:s.PropTypes.element,portalProps:s.PropTypes.shape(y.a.PropTypes),preset:s.PropTypes.oneOf([T.preset.NNW,T.preset.N,T.preset.NNE,T.preset.ENE,T.preset.E,T.preset.ESE,T.preset.SSE,T.preset.S,T.preset.SSW,T.preset.WSW,T.preset.W,T.preset.WNW])}),T.defaultProps=w({},d.a.defaultProps,{anchor:void 0,autoReposition:!0,captureFocus:!1,caretAnchor:void 0,caretComponent:P,closeOnEscKey:!0,closeOnOutsideClick:!0,closeOnOutsideScroll:!0,portalProps:{},preset:T.preset.S}),T.internalKeys=c(Object.keys(T.defaultProps),d.a.internalKeys),t.default=T}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDE5Y2U4OGM3ZmNkZmIzODExYWE4Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1kaWFsb2dcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXBvcnRhbFwifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiY2xhc3NuYW1lc1wifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdFwifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIn0iLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJ2YWx1ZSIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmVxdWlyZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJnZXRPcHBvc2l0ZUNhcmRpbmFsIiwiZGlyZWN0aW9uIiwid2l0aG91dCIsImFycjEiLCJhcnIyIiwiZmlsdGVyIiwiaXRlbSIsImluZGV4T2YiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9kb21fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9jbGFzc25hbWVzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfY2xhc3NuYW1lc19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYm91bmRsZXNzX2RpYWxvZ19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19wb3J0YWxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfX19kZWZhdWx0IiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiQ0xBU1NfUkVNT1ZBTF9SRUdFWCIsIkRFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UIiwidmlld0JveCIsInhtbG5zIiwiY2xhc3NOYW1lIiwiZmlsbCIsInBvaW50cyIsIlNUQVJUIiwiTUlERExFIiwiRU5EIiwiY29tYmluYXRpb25zIiwiYXgiLCJheSIsImR4IiwiZHkiLCJQb3BvdmVyIiwiX1B1cmVDb21wb25lbnQiLCJfcmVmIiwiX3RlbXAiLCJfdGhpcyIsIl9yZXQiLCJ0aGlzIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiY29uY2F0IiwiYWxpZ24iLCJhbmNob3IiLCJIVE1MRWxlbWVudCIsImNhcmV0QW5jaG9yIiwiY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5IiwicHJlc2V0IiwiZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQiLCJmcmFnIiwiZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudCIsImRpYWxvZyIsIiR3cmFwcGVyIiwicmVwbGFjZSIsIk1hdGgiLCJyb3VuZCIsImdldE5leHREaWFsb2dYUG9zaXRpb24iLCJnZXROZXh0RGlhbG9nWVBvc2l0aW9uIiwic3R5bGUiLCJhIiwiY2FyZGluYWwiLCJsb25naXR1ZGluYWwiLCIkY2FyZXQiLCJnZXROZXh0Q2FyZXRYUG9zaXRpb24iLCJib2R5UmVjdCIsImRvY3VtZW50IiwiYm9keSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFuY2hvclJlY3QiLCJjYXJldEFuY2hvclJlY3QiLCJib2R5TGVmdCIsImxlZnQiLCJib2R5VG9wIiwidG9wIiwiX3JlZjIiLCJjYXJldCIsInVuZGVmaW5lZCIsIm5leHRYIiwid2lkdGgiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsImNsaWVudEhlaWdodCIsIl9yZWYzIiwiX3JlZjQiLCJuZXh0WSIsIl9yZWY1IiwicEhlaWdodCIsInBXaWR0aCIsImJvdHRvbSIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsInJpZ2h0IiwiX3RoaXMyIiwidmFsaWRDb21ib3MiLCJjb25maWciLCJpc1Bvc2l0aW9uVmFsaWQiLCJhdXRvUmVwb3NpdGlvbiIsImJlc3RDb21ib3MiLCJfcmVmNiIsIm9wcG9zaXRlQ2FyZGluYWwiLCJva2F5Q29tYm9zIiwiX3JlZjciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl90aGlzMyIsInBvcnRhbFByb3BzIiwiaW50ZXJuYWxLZXlzIiwicmVmIiwiYmVmb3JlIiwiY2FyZXRDb21wb25lbnQiLCJub2RlIiwiY29uc3RhbnQiLCJyZWR1Y2UiLCJtYXAiLCJkZWYiLCJwcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJpbnN0YW5jZU9mIiwic2hhcGUiLCJpc1JlcXVpcmVkIiwiYm9vbCIsImVsZW1lbnQiLCJQcm9wVHlwZXMiLCJvbmVPZiIsIk5OVyIsIk4iLCJOTkUiLCJFTkUiLCJFIiwiRVNFIiwiU1NFIiwiUyIsIlNTVyIsIldTVyIsIlciLCJXTlciLCJkZWZhdWx0UHJvcHMiLCJjYXB0dXJlRm9jdXMiLCJjbG9zZU9uRXNjS2V5IiwiY2xvc2VPbk91dHNpZGVDbGljayIsImNsb3NlT25PdXRzaWRlU2Nyb2xsIiwia2V5cyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFFBQ0UsU0FBVUMsR0NHbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFILE9BR0EsSUFBQUQsR0FBQUssRUFBQUQsSUFDQUUsRUFBQUYsRUFDQUcsR0FBQSxFQUNBTixXQVVBLE9BTkFDLEdBQUFFLEdBQUFJLEtBQUFSLEVBQUFDLFFBQUFELElBQUFDLFFBQUFFLEdBR0FILEVB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QUFVaUksV0FDbkJqSSxFQUFBLFVBQVVrSSxXQUFXMUUsYUFDckJ4RCxFQUFBLFVBQVVtSSxPQUNOOUcsTUFBT3JCLEVBQUEsVUFBVS9CLFdBT3pCeUosZUFBZ0IxSCxFQUFBLFVBQVVzSSxRQUUxQmhCLFlBQWF0SCxFQUFBLFVBQVVtSSxNQUFNNUgsRUFBQWdFLEVBQU9nRSxXQVlwQzVFLE9BQVEzRCxFQUFBLFVBQVV3SSxPQUNkaEcsRUFBUW1CLE9BQU84RSxJQUNmakcsRUFBUW1CLE9BQU8rRSxFQUNmbEcsRUFBUW1CLE9BQU9nRixJQUNmbkcsRUFBUW1CLE9BQU9pRixJQUNmcEcsRUFBUW1CLE9BQU9rRixFQUNmckcsRUFBUW1CLE9BQU9tRixJQUNmdEcsRUFBUW1CLE9BQU9vRixJQUNmdkcsRUFBUW1CLE9BQU9xRixFQUNmeEcsRUFBUW1CLE9BQU9zRixJQUNmekcsRUFBUW1CLE9BQU91RixJQUNmMUcsRUFBUW1CLE9BQU93RixFQUNmM0csRUFBUW1CLE9BQU95RixRQS9ETjVHLEVBbUVWNkcsYVRmaTJXekksS1NnQmoyV1AsRUFBQWtFLEVBQU84RSxjQUNWOUYsT0FBUWlDLE9BQ1JxQixnQkFBZ0IsRUFDaEJ5QyxjQUFjLEVBQ2Q3RixZQUFhK0IsT0FDYmtDLGVBQWdCaEcsRUFDaEI2SCxlQUFlLEVBQ2ZDLHFCQUFxQixFQUNyQkMsc0JBQXNCLEVBQ3RCbkMsZUFDQTNELE9BQVFuQixFQUFRbUIsT0FBT3FGLElBOUVWeEcsRUFpRlYrRSxhQUFlN0gsRUFBUWhDLE9BQU9nTSxLQUFLbEgsRUFBUTZHLGNBQWVoSixFQUFBa0UsRUFBT2dELGNUN0IwdlgvSSxFQUE2QixRU3BEOTBYZ0UiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1kaWFsb2dcIik7XG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtcG9ydGFsXCIpO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wiKTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIik7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjbGFzc25hbWVzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfZG9tX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfZG9tX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9jbGFzc25hbWVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9jbGFzc25hbWVzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfY2xhc3NuYW1lc19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYm91bmRsZXNzX2RpYWxvZ19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JvdW5kbGVzc19kaWFsb2dfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19wb3J0YWxfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19wb3J0YWxfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfcG9ydGFsX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfXyk7XG52YXIgX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odGFyZ2V0KXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgc291cmNlPWFyZ3VtZW50c1tpXTtmb3IodmFyIGtleSBpbiBzb3VyY2Upe2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2Usa2V5KSl7dGFyZ2V0W2tleV09c291cmNlW2tleV07fX19cmV0dXJuIHRhcmdldDt9O3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKFwidmFsdWVcImluIGRlc2NyaXB0b3IpZGVzY3JpcHRvci53cml0YWJsZT10cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsZGVzY3JpcHRvci5rZXksZGVzY3JpcHRvcik7fX1yZXR1cm4gZnVuY3Rpb24oQ29uc3RydWN0b3IscHJvdG9Qcm9wcyxzdGF0aWNQcm9wcyl7aWYocHJvdG9Qcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSxwcm90b1Byb3BzKTtpZihzdGF0aWNQcm9wcylkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7fTt9KCk7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO319ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZixjYWxsKXtpZighc2VsZil7dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO31yZXR1cm4gY2FsbCYmKHR5cGVvZiBjYWxsPT09XCJvYmplY3RcInx8dHlwZW9mIGNhbGw9PT1cImZ1bmN0aW9uXCIpP2NhbGw6c2VsZjt9ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLHN1cGVyQ2xhc3Mpe2lmKHR5cGVvZiBzdXBlckNsYXNzIT09XCJmdW5jdGlvblwiJiZzdXBlckNsYXNzIT09bnVsbCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHN1cGVyQ2xhc3MpO31zdWJDbGFzcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzJiZzdXBlckNsYXNzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOnN1YkNsYXNzLGVudW1lcmFibGU6ZmFsc2Usd3JpdGFibGU6dHJ1ZSxjb25maWd1cmFibGU6dHJ1ZX19KTtpZihzdXBlckNsYXNzKU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3Msc3VwZXJDbGFzcyk6c3ViQ2xhc3MuX19wcm90b19fPXN1cGVyQ2xhc3M7fWZ1bmN0aW9uIGdldE9wcG9zaXRlQ2FyZGluYWwoZGlyZWN0aW9uKXtzd2l0Y2goZGlyZWN0aW9uWzBdKXtjYXNlJ04nOnJldHVybidTJztjYXNlJ1MnOnJldHVybidOJztjYXNlJ0UnOnJldHVybidXJzt9cmV0dXJuJ0UnO31mdW5jdGlvbiB3aXRob3V0KGFycjEsYXJyMil7cmV0dXJuIGFycjEuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pe3JldHVybiBhcnIyLmluZGV4T2YoaXRlbSk9PT0tMTt9KTt9dmFyIENMQVNTX1JFTU9WQUxfUkVHRVg9L1xccz9iLXBvcG92ZXItKGFuY2hvcnxzZWxmKS0oc3RhcnR8bWlkZGxlfGVuZCkvZzt2YXIgREVGQVVMVF9DQVJFVF9DT01QT05FTlQ9X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoJ3N2Zycse3ZpZXdCb3g6JzAgMCAxNCA5LjUnLHhtbG5zOidodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyd9LF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdnJyxudWxsLF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdwb2x5Z29uJyx7Y2xhc3NOYW1lOidiLXBvcG92ZXItY2FyZXQtYm9yZGVyJyxmaWxsOicjMDAwJyxwb2ludHM6JzcgMCAxNCAxMCAwIDEwJ30pLF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcImNyZWF0ZUVsZW1lbnRcIl0pKCdwb2x5Z29uJyx7Y2xhc3NOYW1lOidiLXBvcG92ZXItY2FyZXQtZmlsbCcsZmlsbDonI0ZGRicscG9pbnRzOic2Ljk4MjMwNDQ0IDEuNzUgMTIuNzUgMTAgMS4yNSAxMCd9KSkpO3ZhciBTVEFSVD0wO3ZhciBNSURETEU9MTt2YXIgRU5EPTI7dmFyIGNvbWJpbmF0aW9ucz1be25hbWU6J05OVycsYXg6U1RBUlQsYXk6U1RBUlQsZHg6U1RBUlQsZHk6RU5EfSx7bmFtZTonTicsYXg6TUlERExFLGF5OlNUQVJULGR4Ok1JRERMRSxkeTpFTkR9LHtuYW1lOidOTkUnLGF4OkVORCxheTpTVEFSVCxkeDpFTkQsZHk6RU5EfSx7bmFtZTonRU5FJyxheDpFTkQsYXk6U1RBUlQsZHg6U1RBUlQsZHk6U1RBUlR9LHtuYW1lOidFJyxheDpFTkQsYXk6TUlERExFLGR4OlNUQVJULGR5Ok1JRERMRX0se25hbWU6J0VTRScsYXg6RU5ELGF5OkVORCxkeDpTVEFSVCxkeTpFTkR9LHtuYW1lOidTU0UnLGF4OkVORCxheTpFTkQsZHg6RU5ELGR5OlNUQVJUfSx7bmFtZTonUycsYXg6TUlERExFLGF5OkVORCxkeDpNSURETEUsZHk6U1RBUlR9LHtuYW1lOidTU1cnLGF4OlNUQVJULGF5OkVORCxkeDpTVEFSVCxkeTpTVEFSVH0se25hbWU6J1dTVycsYXg6U1RBUlQsYXk6RU5ELGR4OkVORCxkeTpFTkR9LHtuYW1lOidXJyxheDpTVEFSVCxheTpNSURETEUsZHg6RU5ELGR5Ok1JRERMRX0se25hbWU6J1dOVycsYXg6U1RBUlQsYXk6U1RBUlQsZHg6RU5ELGR5OlNUQVJUfV07dmFyIFBvcG92ZXI9ZnVuY3Rpb24oX1B1cmVDb21wb25lbnQpe19pbmhlcml0cyhQb3BvdmVyLF9QdXJlQ29tcG9uZW50KTtmdW5jdGlvbiBQb3BvdmVyKCl7dmFyIF9yZWY7dmFyIF90ZW1wLF90aGlzLF9yZXQ7X2NsYXNzQ2FsbENoZWNrKHRoaXMsUG9wb3Zlcik7Zm9yKHZhciBfbGVuPWFyZ3VtZW50cy5sZW5ndGgsYXJncz1BcnJheShfbGVuKSxfa2V5PTA7X2tleTxfbGVuO19rZXkrKyl7YXJnc1tfa2V5XT1hcmd1bWVudHNbX2tleV07fXJldHVybiBfcmV0PShfdGVtcD0oX3RoaXM9X3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywoX3JlZj1Qb3BvdmVyLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcG92ZXIpKS5jYWxsLmFwcGx5KF9yZWYsW3RoaXNdLmNvbmNhdChhcmdzKSkpLF90aGlzKSxfdGhpcy5hbGlnbj1mdW5jdGlvbigpe3ZhciBhbmNob3I9X3RoaXMucHJvcHMuYW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ/X3RoaXMucHJvcHMuYW5jaG9yOl9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoX3RoaXMucHJvcHMuYW5jaG9yKTt2YXIgY2FyZXRBbmNob3I9X3RoaXMucHJvcHMuY2FyZXRBbmNob3I/X3RoaXMucHJvcHMuY2FyZXRBbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudD9fdGhpcy5wcm9wcy5jYXJldEFuY2hvcjpfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX3JlYWN0X2RvbV9fW1wiZmluZERPTU5vZGVcIl0pKF90aGlzLnByb3BzLmNhcmV0QW5jaG9yKTphbmNob3I7X3RoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvcixjYXJldEFuY2hvcik7dmFyIHByZXNldD1fdGhpcy5nZXRWYWxpZEFsaWdubWVudFByZXNldCgpO3ZhciBmcmFnPVBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtfdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xhc3NOYW1lPV90aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCcnKSsoJyBiLXBvcG92ZXItYW5jaG9yLXgtJytmcmFnKHByZXNldC5heCkpKygnIGItcG9wb3Zlci1hbmNob3IteS0nK2ZyYWcocHJlc2V0LmF5KSkrKCcgYi1wb3BvdmVyLXNlbGYteC0nK2ZyYWcocHJlc2V0LmR4KSkrKCcgYi1wb3BvdmVyLXNlbGYteS0nK2ZyYWcocHJlc2V0LmR5KSk7dmFyIGR4PU1hdGgucm91bmQoX3RoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTt2YXIgZHk9TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0RGlhbG9nWVBvc2l0aW9uKHByZXNldCkpO190aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fX2RlZmF1bHQuYV09J3RyYW5zbGF0ZSgnK2R4KydweCwgJytkeSsncHgpJzt2YXIgY2FyZGluYWw9cHJlc2V0Lm5hbWVbMF07dmFyIGxvbmdpdHVkaW5hbD1jYXJkaW5hbD09PSdOJ3x8Y2FyZGluYWw9PT0nUyc7X3RoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbD8nbGVmdCc6J3RvcCddPU1hdGgucm91bmQoX3RoaXMuZ2V0TmV4dENhcmV0WFBvc2l0aW9uKHByZXNldCkpKydweCc7X3RoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbD8ndG9wJzonbGVmdCddPScwcHgnO30sX3RlbXApLF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLF9yZXQpO31fY3JlYXRlQ2xhc3MoUG9wb3Zlcixbe2tleTonY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5Jyx2YWx1ZTpmdW5jdGlvbiBjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLGNhcmV0QW5jaG9yKXt2YXIgYm9keVJlY3Q9ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmFuY2hvclJlY3Q9YW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuY2FyZXRBbmNob3JSZWN0PWNhcmV0QW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuYm9keUxlZnQ9Ym9keVJlY3QubGVmdCotMTt0aGlzLmJvZHlUb3A9Ym9keVJlY3QudG9wKi0xO319LHtrZXk6J2dldE5leHRDYXJldFhQb3NpdGlvbicsdmFsdWU6ZnVuY3Rpb24gZ2V0TmV4dENhcmV0WFBvc2l0aW9uKF9yZWYyKXt2YXIgbmFtZT1fcmVmMi5uYW1lLGF4PV9yZWYyLmF4LGR4PV9yZWYyLmR4LGF5PV9yZWYyLmF5LGR5PV9yZWYyLmR5O3ZhciBjYXJldD1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06dGhpcy4kY2FyZXQ7dmFyIG5leHRYPTA7aWYobmFtZVswXT09PSdOJ3x8bmFtZVswXT09PSdTJyl7bmV4dFg9dGhpcy5jYXJldEFuY2hvclJlY3QubGVmdC10aGlzLmFuY2hvclJlY3QubGVmdCt0aGlzLmNhcmV0QW5jaG9yUmVjdC53aWR0aC8yO2lmKGR4PT09TUlERExFKXtuZXh0WCs9KHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoLXRoaXMuYW5jaG9yUmVjdC53aWR0aCkvMjt9ZWxzZSBpZihkeD09PUVORCl7bmV4dFgrPXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoLXRoaXMuYW5jaG9yUmVjdC53aWR0aDt9fWVsc2V7bmV4dFg9dGhpcy5jYXJldEFuY2hvclJlY3QudG9wLXRoaXMuYW5jaG9yUmVjdC50b3ArdGhpcy5jYXJldEFuY2hvclJlY3QuaGVpZ2h0LzI7aWYoZHk9PT1NSURETEUpe25leHRYKz0odGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0LXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpLzI7fWVsc2UgaWYoZHk9PT1FTkQpe25leHRYKz10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQtdGhpcy5hbmNob3JSZWN0LmhlaWdodDt9fW5leHRYLT1jYXJldC5jbGllbnRXaWR0aC8yO3JldHVybiBuZXh0WDt9fSx7a2V5OidnZXROZXh0RGlhbG9nWFBvc2l0aW9uJyx2YWx1ZTpmdW5jdGlvbiBnZXROZXh0RGlhbG9nWFBvc2l0aW9uKF9yZWYzKXt2YXIgYXg9X3JlZjMuYXgsZHg9X3JlZjMuZHg7dmFyIGRpYWxvZz1hcmd1bWVudHMubGVuZ3RoPjEmJmFyZ3VtZW50c1sxXSE9PXVuZGVmaW5lZD9hcmd1bWVudHNbMV06dGhpcy5kaWFsb2cuJHdyYXBwZXI7dmFyIG5leHRYPXRoaXMuYW5jaG9yUmVjdC5sZWZ0K3RoaXMuYm9keUxlZnQ7c3dpdGNoKGF4KXtjYXNlIE1JRERMRTpuZXh0WCs9dGhpcy5hbmNob3JSZWN0LndpZHRoLzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFgrPXRoaXMuYW5jaG9yUmVjdC53aWR0aDticmVhazt9c3dpdGNoKGR4KXtjYXNlIE1JRERMRTpuZXh0WC09ZGlhbG9nLmNsaWVudFdpZHRoLzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFgtPWRpYWxvZy5jbGllbnRXaWR0aDticmVhazt9cmV0dXJuIG5leHRYO319LHtrZXk6J2dldE5leHREaWFsb2dZUG9zaXRpb24nLHZhbHVlOmZ1bmN0aW9uIGdldE5leHREaWFsb2dZUG9zaXRpb24oX3JlZjQpe3ZhciBheT1fcmVmNC5heSxkeT1fcmVmNC5keTt2YXIgZGlhbG9nPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLmRpYWxvZy4kd3JhcHBlcjt2YXIgbmV4dFk9dGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmJvZHlUb3A7c3dpdGNoKGF5KXtjYXNlIE1JRERMRTpuZXh0WSs9dGhpcy5hbmNob3JSZWN0LmhlaWdodC8yO2JyZWFrO2Nhc2UgRU5EOm5leHRZKz10aGlzLmFuY2hvclJlY3QuaGVpZ2h0O2JyZWFrO31zd2l0Y2goZHkpe2Nhc2UgTUlERExFOm5leHRZLT1kaWFsb2cuY2xpZW50SGVpZ2h0LzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFktPWRpYWxvZy5jbGllbnRIZWlnaHQ7YnJlYWs7fXJldHVybiBuZXh0WTt9fSx7a2V5Oidpc1Bvc2l0aW9uVmFsaWQnLHZhbHVlOmZ1bmN0aW9uIGlzUG9zaXRpb25WYWxpZChfcmVmNSxwSGVpZ2h0LHBXaWR0aCl7dmFyIG5hbWU9X3JlZjUubmFtZSxheD1fcmVmNS5heCxheT1fcmVmNS5heSxkeD1fcmVmNS5keCxkeT1fcmVmNS5keTt2YXIgY2FyZGluYWw9bmFtZVswXTtpZihjYXJkaW5hbD09PSdOJ3x8Y2FyZGluYWw9PT0nUycpe2lmKGNhcmRpbmFsPT09J04nJiZ0aGlzLmFuY2hvclJlY3QudG9wLXBIZWlnaHQ8MCl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGNhcmRpbmFsPT09J1MnJiZ0aGlzLmFuY2hvclJlY3QuYm90dG9tK3BIZWlnaHQ+d2luZG93LmlubmVySGVpZ2h0KXtyZXR1cm4gZmFsc2U7fWlmKGF4PT09U1RBUlQpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LmxlZnQrcFdpZHRoPndpbmRvdy5pbm5lcldpZHRofHx0aGlzLmFuY2hvclJlY3QubGVmdDwwKTt9ZWxzZSBpZihheD09PU1JRERMRSl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGgvMjwwfHx0aGlzLmFuY2hvclJlY3QubGVmdCtwV2lkdGgvMj53aW5kb3cuaW5uZXJXaWR0aCk7fXJldHVybiEodGhpcy5hbmNob3JSZWN0LmxlZnQtcFdpZHRoPDB8fHRoaXMuYW5jaG9yUmVjdC5yaWdodD53aW5kb3cuaW5uZXJXaWR0aCk7fWVsc2UgaWYoY2FyZGluYWw9PT0nVyd8fGNhcmRpbmFsPT09J0UnKXtpZihjYXJkaW5hbD09PSdXJyYmdGhpcy5hbmNob3JSZWN0LmxlZnQtcFdpZHRoPDApe3JldHVybiBmYWxzZTt9ZWxzZSBpZihjYXJkaW5hbD09PSdFJyYmdGhpcy5hbmNob3JSZWN0LnJpZ2h0K3BXaWR0aD53aW5kb3cuaW5uZXJXaWR0aCl7cmV0dXJuIGZhbHNlO31pZihheT09PVNUQVJUKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC50b3ArcEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHR8fHRoaXMuYW5jaG9yUmVjdC50b3A8MCk7fWVsc2UgaWYoYXk9PT1NSURETEUpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzItcEhlaWdodC8yPDB8fHRoaXMuYW5jaG9yUmVjdC50b3ArdGhpcy5hbmNob3JSZWN0LmhlaWdodC8yK3BIZWlnaHQvMj53aW5kb3cuaW5uZXJIZWlnaHQpO31yZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC50b3AtcEhlaWdodDwwfHx0aGlzLmFuY2hvclJlY3QuYm90dG9tPndpbmRvdy5pbm5lckhlaWdodCk7fXJldHVybiB0cnVlO319LHtrZXk6J2dldFZhbGlkQWxpZ25tZW50UHJlc2V0Jyx2YWx1ZTpmdW5jdGlvbiBnZXRWYWxpZEFsaWdubWVudFByZXNldCgpe3ZhciBfdGhpczI9dGhpczt2YXIgd2lkdGg9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7dmFyIGhlaWdodD10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQ7dmFyIHZhbGlkQ29tYm9zPWNvbWJpbmF0aW9ucy5maWx0ZXIoZnVuY3Rpb24oY29uZmlnKXtyZXR1cm4gX3RoaXMyLmlzUG9zaXRpb25WYWxpZChjb25maWcsaGVpZ2h0LHdpZHRoKTt9KTtpZih2YWxpZENvbWJvcy5pbmRleE9mKHRoaXMucHJvcHMucHJlc2V0KSE9PS0xfHwhdGhpcy5wcm9wcy5hdXRvUmVwb3NpdGlvbnx8IXZhbGlkQ29tYm9zLmxlbmd0aCl7cmV0dXJuIHRoaXMucHJvcHMucHJlc2V0O312YXIgYmVzdENvbWJvcz12YWxpZENvbWJvcy5maWx0ZXIoZnVuY3Rpb24oX3JlZjYpe3ZhciBuYW1lPV9yZWY2Lm5hbWU7cmV0dXJuIG5hbWVbMF09PT1fdGhpczIucHJvcHMucHJlc2V0Lm5hbWVbMF07fSk7aWYoYmVzdENvbWJvcy5sZW5ndGgpe3JldHVybiBiZXN0Q29tYm9zWzBdO312YXIgb3Bwb3NpdGVDYXJkaW5hbD1nZXRPcHBvc2l0ZUNhcmRpbmFsKHRoaXMucHJvcHMucHJlc2V0Lm5hbWUpO3ZhciBva2F5Q29tYm9zPXZhbGlkQ29tYm9zLmZpbHRlcihmdW5jdGlvbihfcmVmNyl7dmFyIG5hbWU9X3JlZjcubmFtZTtyZXR1cm4gbmFtZVswXT09PW9wcG9zaXRlQ2FyZGluYWw7fSk7aWYob2theUNvbWJvcy5sZW5ndGgpe3JldHVybiBva2F5Q29tYm9zWzBdO31yZXR1cm4gdmFsaWRDb21ib3NbMF07fX0se2tleTonY29tcG9uZW50RGlkTW91bnQnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCl7dGhpcy5hbGlnbigpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLHRoaXMuYWxpZ24sdHJ1ZSk7fX0se2tleTonY29tcG9uZW50RGlkVXBkYXRlJyx2YWx1ZTpmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKXt0aGlzLmFsaWduKCk7fX0se2tleTonY29tcG9uZW50V2lsbFVubW91bnQnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsdGhpcy5hbGlnbix0cnVlKTt9fSx7a2V5OidyZW5kZXInLHZhbHVlOmZ1bmN0aW9uIHJlbmRlcigpe3ZhciBfdGhpczM9dGhpczt2YXIgcHJvcHM9dGhpcy5wcm9wcztyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19wb3J0YWxfX19kZWZhdWx0LmEscHJvcHMucG9ydGFsUHJvcHMsX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiY3JlYXRlRWxlbWVudFwiXSkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEsX2V4dGVuZHMoe30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfX19kZWZhdWx0KCkocHJvcHMsUG9wb3Zlci5pbnRlcm5hbEtleXMpLHtyZWY6ZnVuY3Rpb24gcmVmKGluc3RhbmNlKXtyZXR1cm4gX3RoaXMzLmRpYWxvZz1pbnN0YW5jZTt9LGJlZm9yZTpfX3dlYnBhY2tfcmVxdWlyZV9fLmkoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJjbG9uZUVsZW1lbnRcIl0pKHByb3BzLmNhcmV0Q29tcG9uZW50LHtyZWY6ZnVuY3Rpb24gcmVmKG5vZGUpe3JldHVybiBfdGhpczMuJGNhcmV0PW5vZGU7fSxjbGFzc05hbWU6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2NsYXNzbmFtZXNfX19kZWZhdWx0KCkoJ2ItcG9wb3Zlci1jYXJldCcscHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKX0pLGNsYXNzTmFtZTpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfY2xhc3NuYW1lc19fX2RlZmF1bHQoKSgnYi1wb3BvdmVyJyxwcm9wcy5jbGFzc05hbWUpfSkpKTt9fV0sW3trZXk6J2dldEFsaWdubWVudENsYXNzRnJhZ21lbnQnLHZhbHVlOmZ1bmN0aW9uIGdldEFsaWdubWVudENsYXNzRnJhZ21lbnQoY29uc3RhbnQpe3N3aXRjaChjb25zdGFudCl7Y2FzZSBTVEFSVDpyZXR1cm4nc3RhcnQnO2Nhc2UgTUlERExFOnJldHVybidtaWRkbGUnO2Nhc2UgRU5EOnJldHVybidlbmQnO319fV0pO3JldHVybiBQb3BvdmVyO30oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQdXJlQ29tcG9uZW50XCJdKTtQb3BvdmVyLnByZXNldD1jb21iaW5hdGlvbnMucmVkdWNlKGZ1bmN0aW9uKG1hcCxkZWYpe3JldHVybiBtYXBbZGVmLm5hbWVdPWRlZixtYXA7fSx7fSk7UG9wb3Zlci5wcm9wVHlwZXM9X2V4dGVuZHMoe30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEucHJvcFR5cGVzLHthbmNob3I6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0ub25lT2ZUeXBlKFtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5zaGFwZSh7cHJvcHM6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0ub2JqZWN0fSldKS5pc1JlcXVpcmVkLGF1dG9SZXBvc2l0aW9uOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLmJvb2wsY2FyZXRBbmNob3I6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0ub25lT2ZUeXBlKFtfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5zaGFwZSh7cHJvcHM6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0ub2JqZWN0fSldKSxjYXJldENvbXBvbmVudDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5lbGVtZW50LHBvcnRhbFByb3BzOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLnNoYXBlKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfcG9ydGFsX19fZGVmYXVsdC5hLlByb3BUeXBlcykscHJlc2V0Ol9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLm9uZU9mKFtQb3BvdmVyLnByZXNldC5OTlcsUG9wb3Zlci5wcmVzZXQuTixQb3BvdmVyLnByZXNldC5OTkUsUG9wb3Zlci5wcmVzZXQuRU5FLFBvcG92ZXIucHJlc2V0LkUsUG9wb3Zlci5wcmVzZXQuRVNFLFBvcG92ZXIucHJlc2V0LlNTRSxQb3BvdmVyLnByZXNldC5TLFBvcG92ZXIucHJlc2V0LlNTVyxQb3BvdmVyLnByZXNldC5XU1csUG9wb3Zlci5wcmVzZXQuVyxQb3BvdmVyLnByZXNldC5XTlddKX0pO1BvcG92ZXIuZGVmYXVsdFByb3BzPV9leHRlbmRzKHt9LF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLmRlZmF1bHRQcm9wcyx7YW5jaG9yOnVuZGVmaW5lZCxhdXRvUmVwb3NpdGlvbjp0cnVlLGNhcHR1cmVGb2N1czpmYWxzZSxjYXJldEFuY2hvcjp1bmRlZmluZWQsY2FyZXRDb21wb25lbnQ6REVGQVVMVF9DQVJFVF9DT01QT05FTlQsY2xvc2VPbkVzY0tleTp0cnVlLGNsb3NlT25PdXRzaWRlQ2xpY2s6dHJ1ZSxjbG9zZU9uT3V0c2lkZVNjcm9sbDp0cnVlLHBvcnRhbFByb3BzOnt9LHByZXNldDpQb3BvdmVyLnByZXNldC5TfSk7UG9wb3Zlci5pbnRlcm5hbEtleXM9d2l0aG91dChPYmplY3Qua2V5cyhQb3BvdmVyLmRlZmF1bHRQcm9wcyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JvdW5kbGVzc19kaWFsb2dfX19kZWZhdWx0LmEuaW50ZXJuYWxLZXlzKTsvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJkZWZhdWx0XCJdID0gUG9wb3ZlcjtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBpbmRleC5qcyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDE5Y2U4OGM3ZmNkZmIzODExYWE4IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLWRpYWxvZ1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1kaWFsb2dcIn1cbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXBvcnRhbFwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1wb3J0YWxcIn1cbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLW9taXQta2V5c1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy11dGlscy1vbWl0LWtleXNcIn1cbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eVwiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIn1cbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2xhc3NuYW1lc1wiKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJjb21tb25qczJcIjpcImNsYXNzbmFtZXNcIn1cbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdFwifVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIn1cbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHtjbG9uZUVsZW1lbnQsIGNyZWF0ZUVsZW1lbnQsIFByb3BUeXBlcywgUHVyZUNvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IERpYWxvZyBmcm9tICdib3VuZGxlc3MtZGlhbG9nJztcbmltcG9ydCBQb3J0YWwgZnJvbSAnYm91bmRsZXNzLXBvcnRhbCc7XG5pbXBvcnQgb21pdCBmcm9tICdib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzJztcbmltcG9ydCB0cmFuc2Zvcm1Qcm9wIGZyb20gJ2JvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHknO1xuXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUNhcmRpbmFsKGRpcmVjdGlvbikge1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uWzBdKSB7XG4gICAgY2FzZSAnTic6XG4gICAgICAgIHJldHVybiAnUyc7XG4gICAgY2FzZSAnUyc6XG4gICAgICAgIHJldHVybiAnTic7XG4gICAgY2FzZSAnRSc6XG4gICAgICAgIHJldHVybiAnVyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdFJztcbn1cblxuZnVuY3Rpb24gd2l0aG91dChhcnIxLCBhcnIyKSB7IHJldHVybiBhcnIxLmZpbHRlcigoaXRlbSkgPT4gYXJyMi5pbmRleE9mKGl0ZW0pID09PSAtMSk7IH1cblxuY29uc3QgQ0xBU1NfUkVNT1ZBTF9SRUdFWCA9IC9cXHM/Yi1wb3BvdmVyLShhbmNob3J8c2VsZiktKHN0YXJ0fG1pZGRsZXxlbmQpL2c7XG5cbmNvbnN0IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UID0gKFxuICAgIDxzdmcgdmlld0JveD0nMCAwIDE0IDkuNScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz5cbiAgICAgICAgPGc+XG4gICAgICAgICAgICA8cG9seWdvbiBjbGFzc05hbWU9J2ItcG9wb3Zlci1jYXJldC1ib3JkZXInIGZpbGw9JyMwMDAnIHBvaW50cz0nNyAwIDE0IDEwIDAgMTAnIC8+XG4gICAgICAgICAgICA8cG9seWdvbiBjbGFzc05hbWU9J2ItcG9wb3Zlci1jYXJldC1maWxsJyBmaWxsPScjRkZGJyBwb2ludHM9JzYuOTgyMzA0NDQgMS43NSAxMi43NSAxMCAxLjI1IDEwJyAvPlxuICAgICAgICA8L2c+XG4gICAgPC9zdmc+XG4pO1xuXG5jb25zdCBTVEFSVCA9IDA7XG5jb25zdCBNSURETEUgPSAxO1xuY29uc3QgRU5EID0gMjtcblxuY29uc3QgY29tYmluYXRpb25zID0gW1xuICAgIHtuYW1lOiAnTk5XJywgICBheDogU1RBUlQsICAgICBheTogU1RBUlQsICAgICAgZHg6IFNUQVJULCAgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnTicsICAgICBheDogTUlERExFLCAgICBheTogU1RBUlQsICAgICAgZHg6IE1JRERMRSwgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnTk5FJywgICBheDogRU5ELCAgICAgICBheTogU1RBUlQsICAgICAgZHg6IEVORCwgICAgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnRU5FJywgICBheDogRU5ELCAgICAgICBheTogU1RBUlQsICAgICAgZHg6IFNUQVJULCAgIGR5OiBTVEFSVH0sXG4gICAge25hbWU6ICdFJywgICAgIGF4OiBFTkQsICAgICAgIGF5OiBNSURETEUsICAgICBkeDogU1RBUlQsICAgZHk6IE1JRERMRX0sXG4gICAge25hbWU6ICdFU0UnLCAgIGF4OiBFTkQsICAgICAgIGF5OiBFTkQsICAgICAgICBkeDogU1RBUlQsICAgZHk6IEVORH0sXG4gICAge25hbWU6ICdTU0UnLCAgIGF4OiBFTkQsICAgICAgIGF5OiBFTkQsICAgICAgICBkeDogRU5ELCAgICAgZHk6IFNUQVJUfSxcbiAgICB7bmFtZTogJ1MnLCAgICAgYXg6IE1JRERMRSwgICAgYXk6IEVORCwgICAgICAgIGR4OiBNSURETEUsICBkeTogU1RBUlR9LFxuICAgIHtuYW1lOiAnU1NXJywgICBheDogU1RBUlQsICAgICBheTogRU5ELCAgICAgICAgZHg6IFNUQVJULCAgIGR5OiBTVEFSVH0sXG4gICAge25hbWU6ICdXU1cnLCAgIGF4OiBTVEFSVCwgICAgIGF5OiBFTkQsICAgICAgICBkeDogRU5ELCAgICAgZHk6IEVORH0sXG4gICAge25hbWU6ICdXJywgICAgIGF4OiBTVEFSVCwgICAgIGF5OiBNSURETEUsICAgICBkeDogRU5ELCAgICAgZHk6IE1JRERMRX0sXG4gICAge25hbWU6ICdXTlcnLCAgIGF4OiBTVEFSVCwgICAgIGF5OiBTVEFSVCwgICAgICBkeDogRU5ELCAgICAgZHk6IFNUQVJUfSxcbl07XG5cbi8qKlxuQSBwb3BvdmVyIGlzIGEgdHlwZSBvZiBbRGlhbG9nXShodHRwczovL2dpdGh1Yi5jb20vZW5pZ21hLWlvL2JvdW5kbGVzcy90cmVlL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtZGlhbG9nKSB0aGF0IGlzIG1lYW50IHRvIHByb3ZpZGUgYWRkaXRpb25hbCBjb250ZXh0IHRvIGNvbnRlbnQgKGFuIFwiYW5jaG9yXCIpIGN1cnJlbnRseSBvbi1zY3JlZW4uIFR5cGljYWxseSwgYSBwb3BvdmVyIGlzIHNwYXduZWQgYnkgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgY29udGVudCBpdCBlbnJpY2hlcyBhbmQgaXMgZGlzbWlzc2VkIGJ5IGNsaWNraW5nIG9yIHNoaWZ0aW5nIGZvY3VzIHRvIGFuIGFsdGVybmF0ZSBsb2NhdGlvbi5cblxuQWxpZ25tZW50IG9wdGlvbnMgZm9yIHRoZSBwb3BvdmVyIGFyZSBkZXNpZ25lZCB0byBtaXJyb3IgY29tcGFzcyBkaXJlY3Rpb25zOlxuXG5gYGBcbiAgICAgICDihpIgICAgICAg4oaQXG4gICAgICBOTlcgIE4gIE5ORVxu4oaTIFdOVyAgICAgICAgICAgICBFTkUg4oaTXG4gICAgVyAgIEFOQ0hPUiAgICBFXG7ihpEgV1NXICAgICAgICAgICAgIEVTRSDihpFcbiAgICAgIFNTVyAgUyAgU1NFXG4gICAgICAg4oaSICAgICAgIOKGkFxuYGBgXG5cblRoZSBhcnJvd3MgaW5kaWNhdGUgd2hpY2ggd2F5IHRoZSBwb3BvdmVyIHdpbGwgZXh0ZW5kLCBlLmcuIOKGkiBtZWFucyB0aGUgcG9wb3ZlciBpcyBhbGlnbmVkIHRvIHRoZSBsZWZ0IGVkZ2UgYW5kIGV4dGVuZHMgaW4gdGhhdCBkaXJlY3Rpb24uIERpYWdvbmFsIGNvcm5lcnMgKE5XLCBORSwgU0UsIFNXKSBhcmUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuXG5cbmBgYGpzeFxuPFBvcG92ZXJcbiAgICBhbmNob3I9e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb21lLWFuY2hvci1lbGVtZW50Jyl9XG4gICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5OfT5cbiAgICBNeSBwb3BvdmVyIGNvbnRlbnQhXG48L1BvcG92ZXI+XG5gYGBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wb3ZlciBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZXF1ZW5jZXNcbiAgICBzdGF0aWMgcHJlc2V0ID0gY29tYmluYXRpb25zLnJlZHVjZSgobWFwLCBkZWYpID0+ICgobWFwW2RlZi5uYW1lXSA9IGRlZiksIG1hcCksIHt9KVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBET00gZWxlbWVudCBvciBSZWFjdCByZWZlcmVuY2UgKHJlZikgdG8gb25lIGZvciBwb3NpdGlvbmluZyBwdXJwb3Nlc1xuICAgICAgICAgKi9cbiAgICAgICAgYW5jaG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgcHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgXSkuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogaWYgdGhlIGdpdmVuIGFsaWdubWVudCBzZXR0aW5ncyB3b3VsZCB0YWtlIHRoZSBwb3BvdmVyIG91dCBvZiBib3VuZHMsIGNoYW5nZSB0aGUgYWxpZ25tZW50IGFzIG5lY2Vzc2FyeSB0byByZW1haW4gaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAqL1xuICAgICAgICBhdXRvUmVwb3NpdGlvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgRE9NIGVsZW1lbnQgb3IgUmVhY3QgcmVmZXJlbmNlIChyZWYpIHRvIG9uZSBmb3IgcG9zaXRpb25pbmcgcHVycG9zZXMsIHRoZSBjYXJldCBjb21wb25lbnQgd2lsbFxuICAgICAgICAgKiBiZSBhdXRvbWF0aWNhbGx5IHBvc2l0aW9uZWQgdG8gY2VudGVyIG9uIHRoaXMgcHJvdmlkZWQgYW5jaG9yOyBieSBkZWZhdWx0IGl0IHdpbGwgY2VudGVyXG4gICAgICAgICAqIG9uIGBwcm9wcy5hbmNob3JgXG4gICAgICAgICAqL1xuICAgICAgICBjYXJldEFuY2hvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksXG4gICAgICAgICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgICAgIHByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgSlNYIHRoYXQgaXMgcmVuZGVyZWQgYW5kIHVzZWQgdG8gcG9pbnQgYXQgdGhlIG1pZGRsZSBvZiB0aGUgYW5jaG9yIGVsZW1lbnQgYW5kIGluZGljYXRlIHRoZSBjb250ZXh0IG9mIHRoZSBwb3BvdmVyXG4gICAgICAgICAqL1xuICAgICAgICBjYXJldENvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnQsXG5cbiAgICAgICAgcG9ydGFsUHJvcHM6IFByb3BUeXBlcy5zaGFwZShQb3J0YWwuUHJvcFR5cGVzKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXhhbXBsZTpcbiAgICAgICAgICogYGBganN4XG4gICAgICAgICAqIDxQb3BvdmVyXG4gICAgICAgICAqICAgICBhbmNob3I9e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zb21lLWFuY2hvci1lbGVtZW50Jyl9XG4gICAgICAgICAqICAgICBwcmVzZXQ9e1BvcG92ZXIucHJlc2V0Lk5ORX0+XG4gICAgICAgICAqICAgICBNeSBwb3BvdmVyIGNvbnRlbnQhXG4gICAgICAgICAqIDwvUG9wb3Zlcj5cbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBwcmVzZXQ6IFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5OTlcsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5OLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTk5FLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuRU5FLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuRSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkVTRSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlNTRSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlMsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TU1csXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5XU1csXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5XLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuV05XLFxuICAgICAgICBdKSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5EaWFsb2cuZGVmYXVsdFByb3BzLFxuICAgICAgICBhbmNob3I6IHVuZGVmaW5lZCxcbiAgICAgICAgYXV0b1JlcG9zaXRpb246IHRydWUsXG4gICAgICAgIGNhcHR1cmVGb2N1czogZmFsc2UsXG4gICAgICAgIGNhcmV0QW5jaG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGNhcmV0Q29tcG9uZW50OiBERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCxcbiAgICAgICAgY2xvc2VPbkVzY0tleTogdHJ1ZSxcbiAgICAgICAgY2xvc2VPbk91dHNpZGVDbGljazogdHJ1ZSxcbiAgICAgICAgY2xvc2VPbk91dHNpZGVTY3JvbGw6IHRydWUsXG4gICAgICAgIHBvcnRhbFByb3BzOiB7fSxcbiAgICAgICAgcHJlc2V0OiBQb3BvdmVyLnByZXNldC5TLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSB3aXRob3V0KE9iamVjdC5rZXlzKFBvcG92ZXIuZGVmYXVsdFByb3BzKSwgRGlhbG9nLmludGVybmFsS2V5cylcblxuICAgIHN0YXRpYyBnZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50KGNvbnN0YW50KSB7XG4gICAgICAgIHN3aXRjaCAoY29uc3RhbnQpIHtcbiAgICAgICAgY2FzZSBTVEFSVDpcbiAgICAgICAgICAgIHJldHVybiAnc3RhcnQnO1xuXG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgcmV0dXJuICdtaWRkbGUnO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgcmV0dXJuICdlbmQnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvciwgY2FyZXRBbmNob3IpIHtcbiAgICAgICAgY29uc3QgYm9keVJlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHRoaXMuYW5jaG9yUmVjdCA9IGFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5jYXJldEFuY2hvclJlY3QgPSBjYXJldEFuY2hvci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAvLyBub3JtYWxseSB3ZSdkIHVzZSBzY3JvbGxUb3Avc2Nyb2xsTGVmdCwgYnV0IHNjcm9sbCBiZWhhdmlvciBjaGFuZ2VzIHdoZW4gcG9zaXRpb246IHN0aWNreVxuICAgICAgICAvLyBpcyBlbmFibGVkIGluIENocm9tZSBhbmQgaW52ZXJ0aW5nIHRoZSBuZWdhdGl2ZSB2aWV3cG9ydCByZWN0IHZhbHVlIHNlZW1zIHRvIHdvcmsgbW9yZVxuICAgICAgICAvLyBjb25zaXN0ZW50bHlcbiAgICAgICAgdGhpcy5ib2R5TGVmdCA9IGJvZHlSZWN0LmxlZnQgKiAtMTtcbiAgICAgICAgdGhpcy5ib2R5VG9wID0gYm9keVJlY3QudG9wICogLTE7XG4gICAgfVxuXG4gICAgZ2V0TmV4dENhcmV0WFBvc2l0aW9uKHtuYW1lLCBheCwgZHgsIGF5LCBkeX0sIGNhcmV0ID0gdGhpcy4kY2FyZXQpIHtcbiAgICAgICAgbGV0IG5leHRYID0gMDtcblxuICAgICAgICBpZiAobmFtZVswXSA9PT0gJ04nIHx8IG5hbWVbMF0gPT09ICdTJykge1xuICAgICAgICAgICAgLy8gcG9wb3ZlciBpcyBhYm92ZS9iZWxvdywgc28gd2UgbmVlZCB0byBkZXRlY3QgdGhlIFggcG9zaXRpb24gb2YgdGhlIGNhcmV0IGFuY2hvclxuICAgICAgICAgICAgbmV4dFggPSB0aGlzLmNhcmV0QW5jaG9yUmVjdC5sZWZ0IC0gdGhpcy5hbmNob3JSZWN0LmxlZnQgKyB0aGlzLmNhcmV0QW5jaG9yUmVjdC53aWR0aCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeCA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoIC0gdGhpcy5hbmNob3JSZWN0LndpZHRoKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGR4ID09PSBFTkQpIHtcbiAgICAgICAgICAgICAgICBuZXh0WCArPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgbGVmdC9yaWdodCwgc28gd2UgbmVlZCB0byBkZXRlY3QgdGhlIFkgcG9zaXRpb24gb2YgdGhlIGNhcmV0IGFuY2hvciAoY2FyZXQgaXMgcm90YXRlZCB2aWEgQ1NTKVxuICAgICAgICAgICAgbmV4dFggPSB0aGlzLmNhcmV0QW5jaG9yUmVjdC50b3AgLSB0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5jYXJldEFuY2hvclJlY3QuaGVpZ2h0IC8gMjtcblxuICAgICAgICAgICAgaWYgKGR5ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICBuZXh0WCArPSAodGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0IC0gdGhpcy5hbmNob3JSZWN0LmhlaWdodCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeSA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50SGVpZ2h0IC0gdGhpcy5hbmNob3JSZWN0LmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5leHRYIC09IGNhcmV0LmNsaWVudFdpZHRoIC8gMjtcblxuICAgICAgICByZXR1cm4gbmV4dFg7XG4gICAgfVxuXG4gICAgZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbih7YXgsIGR4fSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRYID0gdGhpcy5hbmNob3JSZWN0LmxlZnQgKyB0aGlzLmJvZHlMZWZ0O1xuXG4gICAgICAgIHN3aXRjaCAoYXgpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvclJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHgpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WDtcbiAgICB9XG5cbiAgICBnZXROZXh0RGlhbG9nWVBvc2l0aW9uKHtheSwgZHl9LCBkaWFsb2cgPSB0aGlzLmRpYWxvZy4kd3JhcHBlcikge1xuICAgICAgICBsZXQgbmV4dFkgPSB0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5ib2R5VG9wO1xuXG4gICAgICAgIHN3aXRjaCAoYXkpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WSArPSB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFkgKz0gdGhpcy5hbmNob3JSZWN0LmhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChkeSkge1xuICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgIG5leHRZIC09IGRpYWxvZy5jbGllbnRIZWlnaHQgLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBFTkQ6XG4gICAgICAgICAgICBuZXh0WSAtPSBkaWFsb2cuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBwb3NpdGlvbiBjb21iaW5hdGlvbiwgd2lsbCB0aGUgcG9wb3ZlciBmaXQgaW50byB0aGUgc3BhY2Ugd2l0aG91dCBvY2NsdXNpb24/XG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBjb25maWdcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBjb25maWcuYXhcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBjb25maWcuYXlcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBjb25maWcuZHhcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBjb25maWcuZHlcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9ICBwSGVpZ2h0XG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgcFdpZHRoXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzUG9zaXRpb25WYWxpZCh7bmFtZSwgYXgsIGF5LCBkeCwgZHl9LCBwSGVpZ2h0LCBwV2lkdGgpIHtcbiAgICAgICAgY29uc3QgY2FyZGluYWwgPSBuYW1lWzBdO1xuXG4gICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ04nIHx8IGNhcmRpbmFsID09PSAnUycpIHtcbiAgICAgICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ04nICYmIHRoaXMuYW5jaG9yUmVjdC50b3AgLSBwSGVpZ2h0IDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNhcmRpbmFsID09PSAnUycgJiYgdGhpcy5hbmNob3JSZWN0LmJvdHRvbSArIHBIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBiZWxvdyAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXggPT09IFNUQVJUKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QubGVmdCArIHBXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgcmlnaHQgKi9cbiAgICAgICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IDwgMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gdG8gdGhlIGxlZnQgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChheCA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QubGVmdCAtIHBXaWR0aCAvIDIgPCAwKSAgICAgICAgICAgICAgICAgIC8qIHdvdWxkIG9jY2x1ZGUgbGVmdCAqL1xuICAgICAgICAgICAgICAgICAgICB8fCAodGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggLyAyID4gd2luZG93LmlubmVyV2lkdGgpICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCkgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi9cbiAgICAgICAgICAgICAgICB8fCAodGhpcy5hbmNob3JSZWN0LnJpZ2h0ID4gd2luZG93LmlubmVyV2lkdGgpICAgICAgICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIHRvIHRoZSByaWdodCAqL1xuICAgICAgICAgICAgKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNhcmRpbmFsID09PSAnVycgfHwgY2FyZGluYWwgPT09ICdFJykge1xuICAgICAgICAgICAgaWYgKGNhcmRpbmFsID09PSAnVycgJiYgdGhpcy5hbmNob3JSZWN0LmxlZnQgLSBwV2lkdGggPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgbGVmdCAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ0UnICYmIHRoaXMuYW5jaG9yUmVjdC5yaWdodCArIHBXaWR0aCA+IHdpbmRvdy5pbm5lcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgcmlnaHQgKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF5ID09PSBTVEFSVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCArIHBIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC50b3AgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF5ID09PSBNSURETEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyB0aGlzLmFuY2hvclJlY3QuaGVpZ2h0IC8gMiAtIHBIZWlnaHQgLyAyIDwgMCkgICAgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovXG4gICAgICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDIgKyBwSGVpZ2h0IC8gMiA+IHdpbmRvdy5pbm5lckhlaWdodCkgICAgLyogd291bGQgb2NjbHVkZSBiZWxvdyAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDApICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGFib3ZlICovXG4gICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIGJlbG93ICovXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBnaXZlbiB0aGUgY3VycmVudCB2aWV3cG9ydCBjYXJ0b2dyYXBoeSwgd2hlcmUgY2FuIHdlIHN0aWNrIHRoZSBwb3BvdmVyXG4gICAgICAgIC8vIHNvIGl0IHdvbid0IGJlIHBhcnRpYWxseSBvY2NsdWRlZD9cbiAgICAgICAgY29uc3QgdmFsaWRDb21ib3MgPSBjb21iaW5hdGlvbnMuZmlsdGVyKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG9zaXRpb25WYWxpZChjb25maWcsIGhlaWdodCwgd2lkdGgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyAxLiBpcyB0aGUgcmVxdWVzdGVkIHByZXNldCBpbiB0aGUgbGlzdD9cbiAgICAgICAgLy8gMi4gZG9lcyB0aGUgY29uc3VtZXIgbm90IHdhbnQgdXMgYXV0by1yZXBvc2l0aW9uaW5nP1xuICAgICAgICAvLyAzLiBhcmUgbm8gY29tYm9zIHZhbGlkP1xuICAgICAgICBpZiAodmFsaWRDb21ib3MuaW5kZXhPZih0aGlzLnByb3BzLnByZXNldCkgIT09IC0xIHx8ICF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9uIHx8ICF2YWxpZENvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNldDsgLy8ganVzdCBnbyB3aXRoIHRoZSByZXF1ZXN0ZWQgcHJlc2V0XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdGhlcndpc2UuLi4gd2UgdHJ5IHRvIGZpbmQgdGhlIGJlc3QgcG9zc2libGUgZmFsbGJhY2sgb3B0aW9uXG5cbiAgICAgICAgLy8gb3B0aW1pemUgZm9yIHRoZSByZXF1ZXN0ZWQgcHJlc2V0IGhlbWlzcGhlcmVcbiAgICAgICAgY29uc3QgYmVzdENvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoe25hbWV9KSA9PiBuYW1lWzBdID09PSB0aGlzLnByb3BzLnByZXNldC5uYW1lWzBdKTtcblxuICAgICAgICBpZiAoYmVzdENvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXN0Q29tYm9zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlbiB0aGUgb3Bwb3NpdGUgKGUuZy4gdGhlIGVsZW1lbnQgaXMgdG9vIGxvdyBpbiB0aGUgdmlld3BvcnQgc28gZmxpcCB1cCBpbnN0ZWFkIG9mIGRvd24pXG4gICAgICAgIGNvbnN0IG9wcG9zaXRlQ2FyZGluYWwgPSBnZXRPcHBvc2l0ZUNhcmRpbmFsKHRoaXMucHJvcHMucHJlc2V0Lm5hbWUpO1xuICAgICAgICBjb25zdCBva2F5Q29tYm9zID0gdmFsaWRDb21ib3MuZmlsdGVyKCh7bmFtZX0pID0+IG5hbWVbMF0gPT09IG9wcG9zaXRlQ2FyZGluYWwpO1xuXG4gICAgICAgIGlmIChva2F5Q29tYm9zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG9rYXlDb21ib3NbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGF0ZXZlcidzIGxlZnQgd2lsbCBoYXZlIHRvIGRvXG4gICAgICAgIHJldHVybiB2YWxpZENvbWJvc1swXTtcbiAgICB9XG5cbiAgICBhbGlnbiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gdGhpcy5wcm9wcy5hbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuYW5jaG9yXG4gICAgICAgICAgICAgICAgICAgICAgIDogZmluZERPTU5vZGUodGhpcy5wcm9wcy5hbmNob3IpO1xuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICBjb25zdCBjYXJldEFuY2hvciA9IHRoaXMucHJvcHMuY2FyZXRBbmNob3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuY2FyZXRBbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmNhcmV0QW5jaG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuY2FyZXRBbmNob3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhbmNob3I7XG5cbiAgICAgICAgdGhpcy5jYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLCBjYXJldEFuY2hvcik7XG5cbiAgICAgICAgY29uc3QgcHJlc2V0ID0gdGhpcy5nZXRWYWxpZEFsaWdubWVudFByZXNldCgpO1xuICAgICAgICBjb25zdCBmcmFnID0gUG9wb3Zlci5nZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50O1xuXG4gICAgICAgIHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsYXNzTmFtZSA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKENMQVNTX1JFTU9WQUxfUkVHRVgsICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGAgYi1wb3BvdmVyLWFuY2hvci14LSR7ZnJhZyhwcmVzZXQuYXgpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1hbmNob3IteS0ke2ZyYWcocHJlc2V0LmF5KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItc2VsZi14LSR7ZnJhZyhwcmVzZXQuZHgpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1zZWxmLXktJHtmcmFnKHByZXNldC5keSl9YDtcblxuICAgICAgICBjb25zdCBkeCA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0RGlhbG9nWFBvc2l0aW9uKHByZXNldCkpO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0RGlhbG9nWVBvc2l0aW9uKHByZXNldCkpO1xuXG4gICAgICAgIHRoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlW3RyYW5zZm9ybVByb3BdID0gYHRyYW5zbGF0ZSgke2R4fXB4LCAke2R5fXB4KWA7XG5cbiAgICAgICAgY29uc3QgY2FyZGluYWwgPSBwcmVzZXQubmFtZVswXTtcbiAgICAgICAgY29uc3QgbG9uZ2l0dWRpbmFsID0gY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnO1xuXG4gICAgICAgIC8vIHRoZSBjYXJldCBpcyBpbml0aWFsbHkgcG9zaXRpb25lZCBhdCAwLDAgaW5zaWRlIHRoZSBkaWFsb2dcbiAgICAgICAgLy8gd2hpY2ggaXMgYWxyZWFkeSBwb3NpdGlvbmVkIGF0IHRoZSBhbmNob3IsIHNvIHdlIGp1c3QgbmVlZCB0b1xuICAgICAgICAvLyBtYWtlIHNtYWxsIGFkanVzdG1lbnRzIGFzIG5lY2Vzc2FyeSB0byBsaW5lIHVwIHRoZSBjYXJldFxuICAgICAgICAvLyB3aXRoIHRoZSB2aXN1YWwgY2VudGVyIG9mIHRoZSBhbmNob3JcbiAgICAgICAgdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsID8gJ2xlZnQnIDogJ3RvcCddID0gTWF0aC5yb3VuZCh0aGlzLmdldE5leHRDYXJldFhQb3NpdGlvbihwcmVzZXQpKSArICdweCc7XG4gICAgICAgIHRoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbCA/ICd0b3AnIDogJ2xlZnQnXSA9ICcwcHgnO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuYWxpZ24oKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHsgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYWxpZ24sIHRydWUpOyB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtwcm9wc30gPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UG9ydGFsIHsuLi5wcm9wcy5wb3J0YWxQcm9wc30+XG4gICAgICAgICAgICAgICAgPERpYWxvZ1xuICAgICAgICAgICAgICAgICAgICB7Li4ub21pdChwcm9wcywgUG9wb3Zlci5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhpbnN0YW5jZSkgPT4gKHRoaXMuZGlhbG9nID0gaW5zdGFuY2UpfVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVFbGVtZW50KHByb3BzLmNhcmV0Q29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmOiAobm9kZSkgPT4gKHRoaXMuJGNhcmV0ID0gbm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyLWNhcmV0JywgcHJvcHMuY2FyZXRDb21wb25lbnQucHJvcHMuY2xhc3NOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wb3BvdmVyJywgcHJvcHMuY2xhc3NOYW1lKX0gLz5cbiAgICAgICAgICAgIDwvUG9ydGFsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL2luZGV4LmpzIl0sInNvdXJjZVJvb3QiOiIifQ==