module.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=require("boundless-dialog")},function(e,t){e.exports=require("boundless-portal")},function(e,t){e.exports=require("boundless-utils-omit-keys")},function(e,t){e.exports=require("boundless-utils-transform-property")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-dom")},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}function c(e,t){return e.filter(function(e){return t.indexOf(e)===-1})}Object.defineProperty(t,"__esModule",{value:!0});var s=r(5),p=r.n(s),h=r(6),l=(r.n(h),r(4)),u=r.n(l),d=r(0),f=r.n(d),y=r(1),g=r.n(y),m=r(2),x=r.n(m),w=r(3),v=r.n(w),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),P=/\s?b-popover-(anchor|self)-(start|middle|end)/g,N=p.a.createElement("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("g",null,p.a.createElement("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),p.a.createElement("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"}))),E=0,O=1,W=2,T=[{name:"NNW",ax:E,ay:E,dx:E,dy:W},{name:"N",ax:O,ay:E,dx:O,dy:W},{name:"NNE",ax:W,ay:E,dx:W,dy:W},{name:"ENE",ax:W,ay:E,dx:E,dy:E},{name:"E",ax:W,ay:O,dx:E,dy:O},{name:"ESE",ax:W,ay:W,dx:E,dy:W},{name:"SSE",ax:W,ay:W,dx:W,dy:E},{name:"S",ax:O,ay:W,dx:O,dy:E},{name:"SSW",ax:E,ay:W,dx:E,dy:E},{name:"WSW",ax:E,ay:W,dx:W,dy:W},{name:"W",ax:E,ay:O,dx:W,dy:O},{name:"WNW",ax:E,ay:E,dx:W,dy:E}],S=function(e){function t(){var e,a,i,c;n(this,t);for(var s=arguments.length,p=Array(s),l=0;l<s;l++)p[l]=arguments[l];return a=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),i.align=function(){var e=i.props.anchor instanceof HTMLElement?i.props.anchor:r.i(h.findDOMNode)(i.props.anchor),n=i.props.caretAnchor?i.props.caretAnchor instanceof HTMLElement?i.props.caretAnchor:r.i(h.findDOMNode)(i.props.caretAnchor):e;i.cacheViewportCartography(e,n);var o=i.getValidAlignmentPreset(),a=t.getAlignmentClassFragment;i.dialog.$wrapper.className=i.dialog.$wrapper.className.replace(P,"")+" b-popover-anchor-x-"+a(o.ax)+" b-popover-anchor-y-"+a(o.ay)+" b-popover-self-x-"+a(o.dx)+" b-popover-self-y-"+a(o.dy);var c=Math.round(i.getNextDialogXPosition(o)),s=Math.round(i.getNextDialogYPosition(o));i.dialog.$wrapper.style[v.a]="translate("+c+"px, "+s+"px)";var p=o.name[0],l="N"===p||"S"===p;i.$caret.style[l?"left":"top"]=Math.round(i.getNextCaretXPosition(o))+"px",i.$caret.style[l?"top":"left"]="0px"},c=a,o(i,c)}return a(t,e),R(t,[{key:"cacheViewportCartography",value:function(e,t){var r=document.body.getBoundingClientRect();this.anchorRect=e.getBoundingClientRect(),this.caretAnchorRect=t.getBoundingClientRect(),this.bodyLeft=r.left*-1,this.bodyTop=r.top*-1}},{key:"getNextCaretXPosition",value:function(e){var t=e.name,r=(e.ax,e.dx),n=(e.ay,e.dy),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$caret,a=0;return"N"===t[0]||"S"===t[0]?(a=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2,r===O?a+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2:r===W&&(a+=this.dialog.$wrapper.clientWidth-this.anchorRect.width)):(a=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2,n===O?a+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2:n===W&&(a+=this.dialog.$wrapper.clientHeight-this.anchorRect.height)),a-=o.clientWidth/2}},{key:"getNextDialogXPosition",value:function(e){var t=e.ax,r=e.dx,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.left+this.bodyLeft;switch(t){case O:o+=this.anchorRect.width/2;break;case W:o+=this.anchorRect.width}switch(r){case O:o-=n.clientWidth/2;break;case W:o-=n.clientWidth}return o}},{key:"getNextDialogYPosition",value:function(e){var t=e.ay,r=e.dy,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dialog.$wrapper,o=this.anchorRect.top+this.bodyTop;switch(t){case O:o+=this.anchorRect.height/2;break;case W:o+=this.anchorRect.height}switch(r){case O:o-=n.clientHeight/2;break;case W:o-=n.clientHeight}return o}},{key:"isPositionValid",value:function(e,t,r){var n=e.name,o=e.ax,a=e.ay,i=(e.dx,e.dy,n[0]);return"N"===i||"S"===i?!("N"===i&&this.anchorRect.top-t<0)&&(!("S"===i&&this.anchorRect.bottom+t>window.innerHeight)&&(o===E?!(this.anchorRect.left+r>window.innerWidth||this.anchorRect.left<0):o===O?!(this.anchorRect.left-r/2<0||this.anchorRect.left+r/2>window.innerWidth):!(this.anchorRect.left-r<0||this.anchorRect.right>window.innerWidth))):"W"!==i&&"E"!==i||!("W"===i&&this.anchorRect.left-r<0)&&(!("E"===i&&this.anchorRect.right+r>window.innerWidth)&&(a===E?!(this.anchorRect.top+t>window.innerHeight||this.anchorRect.top<0):a===O?!(this.anchorRect.top+this.anchorRect.height/2-t/2<0||this.anchorRect.top+this.anchorRect.height/2+t/2>window.innerHeight):!(this.anchorRect.top-t<0||this.anchorRect.bottom>window.innerHeight)))}},{key:"getValidAlignmentPreset",value:function(){var e=this,t=this.dialog.$wrapper.clientWidth,r=this.dialog.$wrapper.clientHeight,n=T.filter(function(n){return e.isPositionValid(n,r,t)});if(n.indexOf(this.props.preset)!==-1||!this.props.autoReposition||!n.length)return this.props.preset;var o=n.filter(function(t){return t.name[0]===e.props.preset.name[0]});if(o.length)return o[0];var a=i(this.props.preset.name),c=n.filter(function(e){return e.name[0]===a});return c.length?c[0]:n[0]}},{key:"componentDidMount",value:function(){this.align(),window.addEventListener("resize",this.align,!0)}},{key:"componentDidUpdate",value:function(){this.align()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.align,!0)}},{key:"render",value:function(){var e=this,r=this.props;return p.a.createElement(g.a,r.portalProps,p.a.createElement(f.a,b({},x()(r,t.internalKeys),{ref:function(t){return e.dialog=t},before:p.a.cloneElement(r.caretComponent,{ref:function(t){return e.$caret=t},className:u()("b-popover-caret",r.caretComponent.props.className)}),className:u()("b-popover",r.className)})))}}],[{key:"getAlignmentClassFragment",value:function(e){switch(e){case E:return"start";case O:return"middle";case W:return"end"}}}]),t}(p.a.PureComponent);S.preset=T.reduce(function(e,t){return e[t.name]=t,e},{}),S.propTypes=b({},f.a.propTypes,{anchor:s.PropTypes.oneOfType([s.PropTypes.instanceOf(HTMLElement),s.PropTypes.shape({props:s.PropTypes.object})]).isRequired,autoReposition:s.PropTypes.bool,caretAnchor:s.PropTypes.oneOfType([s.PropTypes.instanceOf(HTMLElement),s.PropTypes.shape({props:s.PropTypes.object})]),caretComponent:s.PropTypes.element,portalProps:s.PropTypes.shape(g.a.PropTypes),preset:s.PropTypes.oneOf([S.preset.NNW,S.preset.N,S.preset.NNE,S.preset.ENE,S.preset.E,S.preset.ESE,S.preset.SSE,S.preset.S,S.preset.SSW,S.preset.WSW,S.preset.W,S.preset.WNW])}),S.defaultProps=b({},f.a.defaultProps,{anchor:void 0,autoReposition:!0,captureFocus:!1,caretAnchor:void 0,caretComponent:N,closeOnEscKey:!0,closeOnOutsideClick:!0,closeOnOutsideScroll:!0,portalProps:{},preset:S.preset.S}),S.internalKeys=c(Object.keys(S.defaultProps),f.a.internalKeys),t.default=S}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDQzN2Y4NDBlNjYwYzAzMjk1ODI4Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy1kaWFsb2dcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiYm91bmRsZXNzLXBvcnRhbFwifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbCB7XCJjb21tb25qczJcIjpcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwiY2xhc3NuYW1lc1wifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdFwifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJyZWFjdC1kb21cIn0iLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJ2YWx1ZSIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmVxdWlyZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJnZXRPcHBvc2l0ZUNhcmRpbmFsIiwiZGlyZWN0aW9uIiwid2l0aG91dCIsImFycjEiLCJhcnIyIiwiZmlsdGVyIiwiaXRlbSIsImluZGV4T2YiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfZG9tX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfY2xhc3NuYW1lc19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2NsYXNzbmFtZXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX2JvdW5kbGVzc19kaWFsb2dfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9ib3VuZGxlc3NfcG9ydGFsX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfX19kZWZhdWx0IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2JvdW5kbGVzc191dGlsc190cmFuc2Zvcm1fcHJvcGVydHlfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdCIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNMQVNTX1JFTU9WQUxfUkVHRVgiLCJERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCIsImEiLCJjcmVhdGVFbGVtZW50Iiwidmlld0JveCIsInhtbG5zIiwiY2xhc3NOYW1lIiwiZmlsbCIsInBvaW50cyIsIlNUQVJUIiwiTUlERExFIiwiRU5EIiwiY29tYmluYXRpb25zIiwiYXgiLCJheSIsImR4IiwiZHkiLCJQb3BvdmVyIiwiX1JlYWN0JFB1cmVDb21wb25lbnQiLCJfcmVmIiwiX3RlbXAiLCJfdGhpcyIsIl9yZXQiLCJ0aGlzIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiY29uY2F0IiwiYWxpZ24iLCJhbmNob3IiLCJIVE1MRWxlbWVudCIsImNhcmV0QW5jaG9yIiwiY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5IiwicHJlc2V0IiwiZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQiLCJmcmFnIiwiZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudCIsImRpYWxvZyIsIiR3cmFwcGVyIiwicmVwbGFjZSIsIk1hdGgiLCJyb3VuZCIsImdldE5leHREaWFsb2dYUG9zaXRpb24iLCJnZXROZXh0RGlhbG9nWVBvc2l0aW9uIiwic3R5bGUiLCJjYXJkaW5hbCIsImxvbmdpdHVkaW5hbCIsIiRjYXJldCIsImdldE5leHRDYXJldFhQb3NpdGlvbiIsImJvZHlSZWN0IiwiZG9jdW1lbnQiLCJib2R5IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYW5jaG9yUmVjdCIsImNhcmV0QW5jaG9yUmVjdCIsImJvZHlMZWZ0IiwibGVmdCIsImJvZHlUb3AiLCJ0b3AiLCJfcmVmMiIsImNhcmV0IiwidW5kZWZpbmVkIiwibmV4dFgiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiX3JlZjMiLCJfcmVmNCIsIm5leHRZIiwiX3JlZjUiLCJwSGVpZ2h0IiwicFdpZHRoIiwiYm90dG9tIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwicmlnaHQiLCJfdGhpczIiLCJ2YWxpZENvbWJvcyIsImNvbmZpZyIsImlzUG9zaXRpb25WYWxpZCIsImF1dG9SZXBvc2l0aW9uIiwiYmVzdENvbWJvcyIsIl9yZWY2Iiwib3Bwb3NpdGVDYXJkaW5hbCIsIm9rYXlDb21ib3MiLCJfcmVmNyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX3RoaXMzIiwicG9ydGFsUHJvcHMiLCJpbnRlcm5hbEtleXMiLCJyZWYiLCJiZWZvcmUiLCJjbG9uZUVsZW1lbnQiLCJjYXJldENvbXBvbmVudCIsIm5vZGUiLCJjb25zdGFudCIsIlB1cmVDb21wb25lbnQiLCJyZWR1Y2UiLCJtYXAiLCJkZWYiLCJwcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJpbnN0YW5jZU9mIiwic2hhcGUiLCJpc1JlcXVpcmVkIiwiYm9vbCIsImVsZW1lbnQiLCJQcm9wVHlwZXMiLCJvbmVPZiIsIk5OVyIsIk4iLCJOTkUiLCJFTkUiLCJFIiwiRVNFIiwiU1NFIiwiUyIsIlNTVyIsIldTVyIsIlciLCJXTlciLCJkZWZhdWx0UHJvcHMiLCJjYXB0dXJlRm9jdXMiLCJjbG9zZU9uRXNjS2V5IiwiY2xvc2VPbk91dHNpZGVDbGljayIsImNsb3NlT25PdXRzaWRlU2Nyb2xsIiwia2V5cyJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQU9DLFFBQ0UsU0FBVUMsR0NHbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFILE9BR0EsSUFBQUQsR0FB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QUV0QnVLLFdBS0h6QixlQUFnQi9HLEVBQUEsVUFBVXlJLEtBTzFCN0UsWUFBYTVELEVBQUEsVUFBVXFJLFdBQ25CckksRUFBQSxVQUFVc0ksV0FBVzNFLGFBQ3JCM0QsRUFBQSxVQUFVdUksT0FDTmpILE1BQU90QixFQUFBLFVBQVUvQixXQU96QjRKLGVBQWdCN0gsRUFBQSxVQUFVMEksUUFFMUJsQixZQUFheEgsRUFBQSxVQUFVdUksTUFBTS9ILEVBQUFvQixFQUFPK0csV0FZcEM3RSxPQUFROUQsRUFBQSxVQUFVNEksT0FDZGpHLEVBQVFtQixPQUFPK0UsSUFDZmxHLEVBQVFtQixPQUFPZ0YsRUFDZm5HLEVBQVFtQixPQUFPaUYsSUFDZnBHLEVBQVFtQixPQUFPa0YsSUFDZnJHLEVBQVFtQixPQUFPbUYsRUFDZnRHLEVBQVFtQixPQUFPb0YsSUFDZnZHLEVBQVFtQixPQUFPcUYsSUFDZnhHLEVBQVFtQixPQUFPc0YsRUFDZnpHLEVBQVFtQixPQUFPdUYsSUFDZjFHLEVBQVFtQixPQUFPd0YsSUFDZjNHLEVBQVFtQixPQUFPeUYsRUFDZjVHLEVBQVFtQixPQUFPMEYsUUEvRE43RyxFQW1FVjhHLGFUakJvd1c1SSxLU2tCcHdXUCxFQUFBc0IsRUFBTzZILGNBQ1YvRixPQUFRZ0MsT0FDUnFCLGdCQUFnQixFQUNoQjJDLGNBQWMsRUFDZDlGLFlBQWE4QixPQUNibUMsZUFBZ0JsRyxFQUNoQmdJLGVBQWUsRUFDZkMscUJBQXFCLEVBQ3JCQyxzQkFBc0IsRUFDdEJyQyxlQUNBMUQsT0FBUW5CLEVBQVFtQixPQUFPc0YsSUE5RVZ6RyxFQWlGVjhFLGFBQWUvSCxFQUFRaEMsT0FBT29NLEtBQUtuSCxFQUFROEcsY0FBZW5KLEVBQUFzQixFQUFPNkYsY1QvQjZwWGpKLEVBQTZCLFFTbERqdlhtRSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID1cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLWRpYWxvZ1wiKTtcblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1wb3J0YWxcIik7XG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCIpO1xuXG4vKioqLyB9KSxcbi8qIDMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eVwiKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNsYXNzbmFtZXNcIik7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKTtcblxuLyoqKi8gfSksXG4vKiA3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9kb21fX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9kb21fXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2NsYXNzbmFtZXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX2NsYXNzbmFtZXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9jbGFzc25hbWVzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ib3VuZGxlc3NfZGlhbG9nX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYm91bmRsZXNzX2RpYWxvZ19fKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX3BvcnRhbF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X2JvdW5kbGVzc19wb3J0YWxfXyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2JvdW5kbGVzc191dGlsc19vbWl0X2tleXNfX19kZWZhdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9ib3VuZGxlc3NfdXRpbHNfb21pdF9rZXlzX18pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdCA9IF9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfYm91bmRsZXNzX3V0aWxzX3RyYW5zZm9ybV9wcm9wZXJ0eV9fKTtcbnZhciBfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0YXJnZXQpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBzb3VyY2U9YXJndW1lbnRzW2ldO2Zvcih2YXIga2V5IGluIHNvdXJjZSl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSxrZXkpKXt0YXJnZXRba2V5XT1zb3VyY2Vba2V5XTt9fX1yZXR1cm4gdGFyZ2V0O307dmFyIF9jcmVhdGVDbGFzcz1mdW5jdGlvbigpe2Z1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LHByb3BzKXtmb3IodmFyIGk9MDtpPHByb3BzLmxlbmd0aDtpKyspe3ZhciBkZXNjcmlwdG9yPXByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZT1kZXNjcmlwdG9yLmVudW1lcmFibGV8fGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlPXRydWU7aWYoXCJ2YWx1ZVwiaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsQ29uc3RydWN0b3Ipe2lmKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3Rvcikpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7fX1mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLGNhbGwpe2lmKCFzZWxmKXt0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7fXJldHVybiBjYWxsJiYodHlwZW9mIGNhbGw9PT1cIm9iamVjdFwifHx0eXBlb2YgY2FsbD09PVwiZnVuY3Rpb25cIik/Y2FsbDpzZWxmO31mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3Msc3VwZXJDbGFzcyl7aWYodHlwZW9mIHN1cGVyQ2xhc3MhPT1cImZ1bmN0aW9uXCImJnN1cGVyQ2xhc3MhPT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2Ygc3VwZXJDbGFzcyk7fXN1YkNsYXNzLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MmJnN1cGVyQ2xhc3MucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6c3ViQ2xhc3MsZW51bWVyYWJsZTpmYWxzZSx3cml0YWJsZTp0cnVlLGNvbmZpZ3VyYWJsZTp0cnVlfX0pO2lmKHN1cGVyQ2xhc3MpT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcyxzdXBlckNsYXNzKTpzdWJDbGFzcy5fX3Byb3RvX189c3VwZXJDbGFzczt9ZnVuY3Rpb24gZ2V0T3Bwb3NpdGVDYXJkaW5hbChkaXJlY3Rpb24pe3N3aXRjaChkaXJlY3Rpb25bMF0pe2Nhc2UnTic6cmV0dXJuJ1MnO2Nhc2UnUyc6cmV0dXJuJ04nO2Nhc2UnRSc6cmV0dXJuJ1cnO31yZXR1cm4nRSc7fWZ1bmN0aW9uIHdpdGhvdXQoYXJyMSxhcnIyKXtyZXR1cm4gYXJyMS5maWx0ZXIoZnVuY3Rpb24oaXRlbSl7cmV0dXJuIGFycjIuaW5kZXhPZihpdGVtKT09PS0xO30pO312YXIgQ0xBU1NfUkVNT1ZBTF9SRUdFWD0vXFxzP2ItcG9wb3Zlci0oYW5jaG9yfHNlbGYpLShzdGFydHxtaWRkbGV8ZW5kKS9nO3ZhciBERUZBVUxUX0NBUkVUX0NPTVBPTkVOVD1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudCgnc3ZnJyx7dmlld0JveDonMCAwIDE0IDkuNScseG1sbnM6J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ30sX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoJ2cnLG51bGwsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoJ3BvbHlnb24nLHtjbGFzc05hbWU6J2ItcG9wb3Zlci1jYXJldC1ib3JkZXInLGZpbGw6JyMwMDAnLHBvaW50czonNyAwIDE0IDEwIDAgMTAnfSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19fZGVmYXVsdC5hLmNyZWF0ZUVsZW1lbnQoJ3BvbHlnb24nLHtjbGFzc05hbWU6J2ItcG9wb3Zlci1jYXJldC1maWxsJyxmaWxsOicjRkZGJyxwb2ludHM6JzYuOTgyMzA0NDQgMS43NSAxMi43NSAxMCAxLjI1IDEwJ30pKSk7dmFyIFNUQVJUPTA7dmFyIE1JRERMRT0xO3ZhciBFTkQ9Mjt2YXIgY29tYmluYXRpb25zPVt7bmFtZTonTk5XJyxheDpTVEFSVCxheTpTVEFSVCxkeDpTVEFSVCxkeTpFTkR9LHtuYW1lOidOJyxheDpNSURETEUsYXk6U1RBUlQsZHg6TUlERExFLGR5OkVORH0se25hbWU6J05ORScsYXg6RU5ELGF5OlNUQVJULGR4OkVORCxkeTpFTkR9LHtuYW1lOidFTkUnLGF4OkVORCxheTpTVEFSVCxkeDpTVEFSVCxkeTpTVEFSVH0se25hbWU6J0UnLGF4OkVORCxheTpNSURETEUsZHg6U1RBUlQsZHk6TUlERExFfSx7bmFtZTonRVNFJyxheDpFTkQsYXk6RU5ELGR4OlNUQVJULGR5OkVORH0se25hbWU6J1NTRScsYXg6RU5ELGF5OkVORCxkeDpFTkQsZHk6U1RBUlR9LHtuYW1lOidTJyxheDpNSURETEUsYXk6RU5ELGR4Ok1JRERMRSxkeTpTVEFSVH0se25hbWU6J1NTVycsYXg6U1RBUlQsYXk6RU5ELGR4OlNUQVJULGR5OlNUQVJUfSx7bmFtZTonV1NXJyxheDpTVEFSVCxheTpFTkQsZHg6RU5ELGR5OkVORH0se25hbWU6J1cnLGF4OlNUQVJULGF5Ok1JRERMRSxkeDpFTkQsZHk6TUlERExFfSx7bmFtZTonV05XJyxheDpTVEFSVCxheTpTVEFSVCxkeDpFTkQsZHk6U1RBUlR9XTt2YXIgUG9wb3Zlcj1mdW5jdGlvbihfUmVhY3QkUHVyZUNvbXBvbmVudCl7X2luaGVyaXRzKFBvcG92ZXIsX1JlYWN0JFB1cmVDb21wb25lbnQpO2Z1bmN0aW9uIFBvcG92ZXIoKXt2YXIgX3JlZjt2YXIgX3RlbXAsX3RoaXMsX3JldDtfY2xhc3NDYWxsQ2hlY2sodGhpcyxQb3BvdmVyKTtmb3IodmFyIF9sZW49YXJndW1lbnRzLmxlbmd0aCxhcmdzPUFycmF5KF9sZW4pLF9rZXk9MDtfa2V5PF9sZW47X2tleSsrKXthcmdzW19rZXldPWFyZ3VtZW50c1tfa2V5XTt9cmV0dXJuIF9yZXQ9KF90ZW1wPShfdGhpcz1fcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLChfcmVmPVBvcG92ZXIuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoUG9wb3ZlcikpLmNhbGwuYXBwbHkoX3JlZixbdGhpc10uY29uY2F0KGFyZ3MpKSksX3RoaXMpLF90aGlzLmFsaWduPWZ1bmN0aW9uKCl7dmFyIGFuY2hvcj1fdGhpcy5wcm9wcy5hbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudD9fdGhpcy5wcm9wcy5hbmNob3I6X193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9yZWFjdF9kb21fX1tcImZpbmRET01Ob2RlXCJdKShfdGhpcy5wcm9wcy5hbmNob3IpO3ZhciBjYXJldEFuY2hvcj1fdGhpcy5wcm9wcy5jYXJldEFuY2hvcj9fdGhpcy5wcm9wcy5jYXJldEFuY2hvciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P190aGlzLnByb3BzLmNhcmV0QW5jaG9yOl9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfcmVhY3RfZG9tX19bXCJmaW5kRE9NTm9kZVwiXSkoX3RoaXMucHJvcHMuY2FyZXRBbmNob3IpOmFuY2hvcjtfdGhpcy5jYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHkoYW5jaG9yLGNhcmV0QW5jaG9yKTt2YXIgcHJlc2V0PV90aGlzLmdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCk7dmFyIGZyYWc9UG9wb3Zlci5nZXRBbGlnbm1lbnRDbGFzc0ZyYWdtZW50O190aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWU9X3RoaXMuZGlhbG9nLiR3cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKENMQVNTX1JFTU9WQUxfUkVHRVgsJycpKygnIGItcG9wb3Zlci1hbmNob3IteC0nK2ZyYWcocHJlc2V0LmF4KSkrKCcgYi1wb3BvdmVyLWFuY2hvci15LScrZnJhZyhwcmVzZXQuYXkpKSsoJyBiLXBvcG92ZXItc2VsZi14LScrZnJhZyhwcmVzZXQuZHgpKSsoJyBiLXBvcG92ZXItc2VsZi15LScrZnJhZyhwcmVzZXQuZHkpKTt2YXIgZHg9TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0RGlhbG9nWFBvc2l0aW9uKHByZXNldCkpO3ZhciBkeT1NYXRoLnJvdW5kKF90aGlzLmdldE5leHREaWFsb2dZUG9zaXRpb24ocHJlc2V0KSk7X3RoaXMuZGlhbG9nLiR3cmFwcGVyLnN0eWxlW19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9ib3VuZGxlc3NfdXRpbHNfdHJhbnNmb3JtX3Byb3BlcnR5X19fZGVmYXVsdC5hXT0ndHJhbnNsYXRlKCcrZHgrJ3B4LCAnK2R5KydweCknO3ZhciBjYXJkaW5hbD1wcmVzZXQubmFtZVswXTt2YXIgbG9uZ2l0dWRpbmFsPWNhcmRpbmFsPT09J04nfHxjYXJkaW5hbD09PSdTJztfdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsPydsZWZ0JzondG9wJ109TWF0aC5yb3VuZChfdGhpcy5nZXROZXh0Q2FyZXRYUG9zaXRpb24ocHJlc2V0KSkrJ3B4JztfdGhpcy4kY2FyZXQuc3R5bGVbbG9uZ2l0dWRpbmFsPyd0b3AnOidsZWZ0J109JzBweCc7fSxfdGVtcCksX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsX3JldCk7fV9jcmVhdGVDbGFzcyhQb3BvdmVyLFt7a2V5OidjYWNoZVZpZXdwb3J0Q2FydG9ncmFwaHknLHZhbHVlOmZ1bmN0aW9uIGNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsY2FyZXRBbmNob3Ipe3ZhciBib2R5UmVjdD1kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3RoaXMuYW5jaG9yUmVjdD1hbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5jYXJldEFuY2hvclJlY3Q9Y2FyZXRBbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5ib2R5TGVmdD1ib2R5UmVjdC5sZWZ0Ki0xO3RoaXMuYm9keVRvcD1ib2R5UmVjdC50b3AqLTE7fX0se2tleTonZ2V0TmV4dENhcmV0WFBvc2l0aW9uJyx2YWx1ZTpmdW5jdGlvbiBnZXROZXh0Q2FyZXRYUG9zaXRpb24oX3JlZjIpe3ZhciBuYW1lPV9yZWYyLm5hbWUsYXg9X3JlZjIuYXgsZHg9X3JlZjIuZHgsYXk9X3JlZjIuYXksZHk9X3JlZjIuZHk7dmFyIGNhcmV0PWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLiRjYXJldDt2YXIgbmV4dFg9MDtpZihuYW1lWzBdPT09J04nfHxuYW1lWzBdPT09J1MnKXtuZXh0WD10aGlzLmNhcmV0QW5jaG9yUmVjdC5sZWZ0LXRoaXMuYW5jaG9yUmVjdC5sZWZ0K3RoaXMuY2FyZXRBbmNob3JSZWN0LndpZHRoLzI7aWYoZHg9PT1NSURETEUpe25leHRYKz0odGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGgtdGhpcy5hbmNob3JSZWN0LndpZHRoKS8yO31lbHNlIGlmKGR4PT09RU5EKXtuZXh0WCs9dGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGgtdGhpcy5hbmNob3JSZWN0LndpZHRoO319ZWxzZXtuZXh0WD10aGlzLmNhcmV0QW5jaG9yUmVjdC50b3AtdGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmNhcmV0QW5jaG9yUmVjdC5oZWlnaHQvMjtpZihkeT09PU1JRERMRSl7bmV4dFgrPSh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQtdGhpcy5hbmNob3JSZWN0LmhlaWdodCkvMjt9ZWxzZSBpZihkeT09PUVORCl7bmV4dFgrPXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodC10aGlzLmFuY2hvclJlY3QuaGVpZ2h0O319bmV4dFgtPWNhcmV0LmNsaWVudFdpZHRoLzI7cmV0dXJuIG5leHRYO319LHtrZXk6J2dldE5leHREaWFsb2dYUG9zaXRpb24nLHZhbHVlOmZ1bmN0aW9uIGdldE5leHREaWFsb2dYUG9zaXRpb24oX3JlZjMpe3ZhciBheD1fcmVmMy5heCxkeD1fcmVmMy5keDt2YXIgZGlhbG9nPWFyZ3VtZW50cy5sZW5ndGg+MSYmYXJndW1lbnRzWzFdIT09dW5kZWZpbmVkP2FyZ3VtZW50c1sxXTp0aGlzLmRpYWxvZy4kd3JhcHBlcjt2YXIgbmV4dFg9dGhpcy5hbmNob3JSZWN0LmxlZnQrdGhpcy5ib2R5TGVmdDtzd2l0Y2goYXgpe2Nhc2UgTUlERExFOm5leHRYKz10aGlzLmFuY2hvclJlY3Qud2lkdGgvMjticmVhaztjYXNlIEVORDpuZXh0WCs9dGhpcy5hbmNob3JSZWN0LndpZHRoO2JyZWFrO31zd2l0Y2goZHgpe2Nhc2UgTUlERExFOm5leHRYLT1kaWFsb2cuY2xpZW50V2lkdGgvMjticmVhaztjYXNlIEVORDpuZXh0WC09ZGlhbG9nLmNsaWVudFdpZHRoO2JyZWFrO31yZXR1cm4gbmV4dFg7fX0se2tleTonZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbicsdmFsdWU6ZnVuY3Rpb24gZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihfcmVmNCl7dmFyIGF5PV9yZWY0LmF5LGR5PV9yZWY0LmR5O3ZhciBkaWFsb2c9YXJndW1lbnRzLmxlbmd0aD4xJiZhcmd1bWVudHNbMV0hPT11bmRlZmluZWQ/YXJndW1lbnRzWzFdOnRoaXMuZGlhbG9nLiR3cmFwcGVyO3ZhciBuZXh0WT10aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYm9keVRvcDtzd2l0Y2goYXkpe2Nhc2UgTUlERExFOm5leHRZKz10aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzI7YnJlYWs7Y2FzZSBFTkQ6bmV4dFkrPXRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7YnJlYWs7fXN3aXRjaChkeSl7Y2FzZSBNSURETEU6bmV4dFktPWRpYWxvZy5jbGllbnRIZWlnaHQvMjticmVhaztjYXNlIEVORDpuZXh0WS09ZGlhbG9nLmNsaWVudEhlaWdodDticmVhazt9cmV0dXJuIG5leHRZO319LHtrZXk6J2lzUG9zaXRpb25WYWxpZCcsdmFsdWU6ZnVuY3Rpb24gaXNQb3NpdGlvblZhbGlkKF9yZWY1LHBIZWlnaHQscFdpZHRoKXt2YXIgbmFtZT1fcmVmNS5uYW1lLGF4PV9yZWY1LmF4LGF5PV9yZWY1LmF5LGR4PV9yZWY1LmR4LGR5PV9yZWY1LmR5O3ZhciBjYXJkaW5hbD1uYW1lWzBdO2lmKGNhcmRpbmFsPT09J04nfHxjYXJkaW5hbD09PSdTJyl7aWYoY2FyZGluYWw9PT0nTicmJnRoaXMuYW5jaG9yUmVjdC50b3AtcEhlaWdodDwwKXtyZXR1cm4gZmFsc2U7fWVsc2UgaWYoY2FyZGluYWw9PT0nUycmJnRoaXMuYW5jaG9yUmVjdC5ib3R0b20rcEhlaWdodD53aW5kb3cuaW5uZXJIZWlnaHQpe3JldHVybiBmYWxzZTt9aWYoYXg9PT1TVEFSVCl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdCtwV2lkdGg+d2luZG93LmlubmVyV2lkdGh8fHRoaXMuYW5jaG9yUmVjdC5sZWZ0PDApO31lbHNlIGlmKGF4PT09TUlERExFKXtyZXR1cm4hKHRoaXMuYW5jaG9yUmVjdC5sZWZ0LXBXaWR0aC8yPDB8fHRoaXMuYW5jaG9yUmVjdC5sZWZ0K3BXaWR0aC8yPndpbmRvdy5pbm5lcldpZHRoKTt9cmV0dXJuISh0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGg8MHx8dGhpcy5hbmNob3JSZWN0LnJpZ2h0PndpbmRvdy5pbm5lcldpZHRoKTt9ZWxzZSBpZihjYXJkaW5hbD09PSdXJ3x8Y2FyZGluYWw9PT0nRScpe2lmKGNhcmRpbmFsPT09J1cnJiZ0aGlzLmFuY2hvclJlY3QubGVmdC1wV2lkdGg8MCl7cmV0dXJuIGZhbHNlO31lbHNlIGlmKGNhcmRpbmFsPT09J0UnJiZ0aGlzLmFuY2hvclJlY3QucmlnaHQrcFdpZHRoPndpbmRvdy5pbm5lcldpZHRoKXtyZXR1cm4gZmFsc2U7fWlmKGF5PT09U1RBUlQpe3JldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcCtwSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodHx8dGhpcy5hbmNob3JSZWN0LnRvcDwwKTt9ZWxzZSBpZihheT09PU1JRERMRSl7cmV0dXJuISh0aGlzLmFuY2hvclJlY3QudG9wK3RoaXMuYW5jaG9yUmVjdC5oZWlnaHQvMi1wSGVpZ2h0LzI8MHx8dGhpcy5hbmNob3JSZWN0LnRvcCt0aGlzLmFuY2hvclJlY3QuaGVpZ2h0LzIrcEhlaWdodC8yPndpbmRvdy5pbm5lckhlaWdodCk7fXJldHVybiEodGhpcy5hbmNob3JSZWN0LnRvcC1wSGVpZ2h0PDB8fHRoaXMuYW5jaG9yUmVjdC5ib3R0b20+d2luZG93LmlubmVySGVpZ2h0KTt9cmV0dXJuIHRydWU7fX0se2tleTonZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQnLHZhbHVlOmZ1bmN0aW9uIGdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCl7dmFyIF90aGlzMj10aGlzO3ZhciB3aWR0aD10aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aDt2YXIgaGVpZ2h0PXRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDt2YXIgdmFsaWRDb21ib3M9Y29tYmluYXRpb25zLmZpbHRlcihmdW5jdGlvbihjb25maWcpe3JldHVybiBfdGhpczIuaXNQb3NpdGlvblZhbGlkKGNvbmZpZyxoZWlnaHQsd2lkdGgpO30pO2lmKHZhbGlkQ29tYm9zLmluZGV4T2YodGhpcy5wcm9wcy5wcmVzZXQpIT09LTF8fCF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9ufHwhdmFsaWRDb21ib3MubGVuZ3RoKXtyZXR1cm4gdGhpcy5wcm9wcy5wcmVzZXQ7fXZhciBiZXN0Q29tYm9zPXZhbGlkQ29tYm9zLmZpbHRlcihmdW5jdGlvbihfcmVmNil7dmFyIG5hbWU9X3JlZjYubmFtZTtyZXR1cm4gbmFtZVswXT09PV90aGlzMi5wcm9wcy5wcmVzZXQubmFtZVswXTt9KTtpZihiZXN0Q29tYm9zLmxlbmd0aCl7cmV0dXJuIGJlc3RDb21ib3NbMF07fXZhciBvcHBvc2l0ZUNhcmRpbmFsPWdldE9wcG9zaXRlQ2FyZGluYWwodGhpcy5wcm9wcy5wcmVzZXQubmFtZSk7dmFyIG9rYXlDb21ib3M9dmFsaWRDb21ib3MuZmlsdGVyKGZ1bmN0aW9uKF9yZWY3KXt2YXIgbmFtZT1fcmVmNy5uYW1lO3JldHVybiBuYW1lWzBdPT09b3Bwb3NpdGVDYXJkaW5hbDt9KTtpZihva2F5Q29tYm9zLmxlbmd0aCl7cmV0dXJuIG9rYXlDb21ib3NbMF07fXJldHVybiB2YWxpZENvbWJvc1swXTt9fSx7a2V5Oidjb21wb25lbnREaWRNb3VudCcsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKXt0aGlzLmFsaWduKCk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsdGhpcy5hbGlnbix0cnVlKTt9fSx7a2V5Oidjb21wb25lbnREaWRVcGRhdGUnLHZhbHVlOmZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpe3RoaXMuYWxpZ24oKTt9fSx7a2V5Oidjb21wb25lbnRXaWxsVW5tb3VudCcsdmFsdWU6ZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJyx0aGlzLmFsaWduLHRydWUpO319LHtrZXk6J3JlbmRlcicsdmFsdWU6ZnVuY3Rpb24gcmVuZGVyKCl7dmFyIF90aGlzMz10aGlzO3ZhciBwcm9wcz10aGlzLnByb3BzO3JldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQuYSxwcm9wcy5wb3J0YWxQcm9wcyxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuY3JlYXRlRWxlbWVudChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYSxfZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfYm91bmRsZXNzX3V0aWxzX29taXRfa2V5c19fX2RlZmF1bHQoKShwcm9wcyxQb3BvdmVyLmludGVybmFsS2V5cykse3JlZjpmdW5jdGlvbiByZWYoaW5zdGFuY2Upe3JldHVybiBfdGhpczMuZGlhbG9nPWluc3RhbmNlO30sYmVmb3JlOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fX2RlZmF1bHQuYS5jbG9uZUVsZW1lbnQocHJvcHMuY2FyZXRDb21wb25lbnQse3JlZjpmdW5jdGlvbiByZWYobm9kZSl7cmV0dXJuIF90aGlzMy4kY2FyZXQ9bm9kZTt9LGNsYXNzTmFtZTpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfY2xhc3NuYW1lc19fX2RlZmF1bHQoKSgnYi1wb3BvdmVyLWNhcmV0Jyxwcm9wcy5jYXJldENvbXBvbmVudC5wcm9wcy5jbGFzc05hbWUpfSksY2xhc3NOYW1lOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9jbGFzc25hbWVzX19fZGVmYXVsdCgpKCdiLXBvcG92ZXInLHByb3BzLmNsYXNzTmFtZSl9KSkpO319XSxbe2tleTonZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudCcsdmFsdWU6ZnVuY3Rpb24gZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudChjb25zdGFudCl7c3dpdGNoKGNvbnN0YW50KXtjYXNlIFNUQVJUOnJldHVybidzdGFydCc7Y2FzZSBNSURETEU6cmV0dXJuJ21pZGRsZSc7Y2FzZSBFTkQ6cmV0dXJuJ2VuZCc7fX19XSk7cmV0dXJuIFBvcG92ZXI7fShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX19kZWZhdWx0LmEuUHVyZUNvbXBvbmVudCk7UG9wb3Zlci5wcmVzZXQ9Y29tYmluYXRpb25zLnJlZHVjZShmdW5jdGlvbihtYXAsZGVmKXtyZXR1cm4gbWFwW2RlZi5uYW1lXT1kZWYsbWFwO30se30pO1BvcG92ZXIucHJvcFR5cGVzPV9leHRlbmRzKHt9LF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLnByb3BUeXBlcyx7YW5jaG9yOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLm9uZU9mVHlwZShbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0uaW5zdGFuY2VPZihIVE1MRWxlbWVudCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0uc2hhcGUoe3Byb3BzOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLm9iamVjdH0pXSkuaXNSZXF1aXJlZCxhdXRvUmVwb3NpdGlvbjpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5ib29sLGNhcmV0QW5jaG9yOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLm9uZU9mVHlwZShbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0uaW5zdGFuY2VPZihIVE1MRWxlbWVudCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0uc2hhcGUoe3Byb3BzOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9yZWFjdF9fW1wiUHJvcFR5cGVzXCJdLm9iamVjdH0pXSksY2FyZXRDb21wb25lbnQ6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX3JlYWN0X19bXCJQcm9wVHlwZXNcIl0uZWxlbWVudCxwb3J0YWxQcm9wczpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5zaGFwZShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfYm91bmRsZXNzX3BvcnRhbF9fX2RlZmF1bHQuYS5Qcm9wVHlwZXMpLHByZXNldDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfcmVhY3RfX1tcIlByb3BUeXBlc1wiXS5vbmVPZihbUG9wb3Zlci5wcmVzZXQuTk5XLFBvcG92ZXIucHJlc2V0Lk4sUG9wb3Zlci5wcmVzZXQuTk5FLFBvcG92ZXIucHJlc2V0LkVORSxQb3BvdmVyLnByZXNldC5FLFBvcG92ZXIucHJlc2V0LkVTRSxQb3BvdmVyLnByZXNldC5TU0UsUG9wb3Zlci5wcmVzZXQuUyxQb3BvdmVyLnByZXNldC5TU1csUG9wb3Zlci5wcmVzZXQuV1NXLFBvcG92ZXIucHJlc2V0LlcsUG9wb3Zlci5wcmVzZXQuV05XXSl9KTtQb3BvdmVyLmRlZmF1bHRQcm9wcz1fZXh0ZW5kcyh7fSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfYm91bmRsZXNzX2RpYWxvZ19fX2RlZmF1bHQuYS5kZWZhdWx0UHJvcHMse2FuY2hvcjp1bmRlZmluZWQsYXV0b1JlcG9zaXRpb246dHJ1ZSxjYXB0dXJlRm9jdXM6ZmFsc2UsY2FyZXRBbmNob3I6dW5kZWZpbmVkLGNhcmV0Q29tcG9uZW50OkRFRkFVTFRfQ0FSRVRfQ09NUE9ORU5ULGNsb3NlT25Fc2NLZXk6dHJ1ZSxjbG9zZU9uT3V0c2lkZUNsaWNrOnRydWUsY2xvc2VPbk91dHNpZGVTY3JvbGw6dHJ1ZSxwb3J0YWxQcm9wczp7fSxwcmVzZXQ6UG9wb3Zlci5wcmVzZXQuU30pO1BvcG92ZXIuaW50ZXJuYWxLZXlzPXdpdGhvdXQoT2JqZWN0LmtleXMoUG9wb3Zlci5kZWZhdWx0UHJvcHMpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19ib3VuZGxlc3NfZGlhbG9nX19fZGVmYXVsdC5hLmludGVybmFsS2V5cyk7LyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9IFBvcG92ZXI7XG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaW5kZXguanMiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA0MzdmODQwZTY2MGMwMzI5NTgyOCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1kaWFsb2dcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtZGlhbG9nXCJ9XG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy1wb3J0YWxcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtcG9ydGFsXCJ9XG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy1vbWl0LWtleXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzXCJ9XG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHlcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5XCJ9XG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNsYXNzbmFtZXNcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wiY29tbW9uanMyXCI6XCJjbGFzc25hbWVzXCJ9XG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3RcIn1cbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIHtcImNvbW1vbmpzMlwiOlwicmVhY3QtZG9tXCJ9XG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IERpYWxvZyBmcm9tICdib3VuZGxlc3MtZGlhbG9nJztcbmltcG9ydCBQb3J0YWwgZnJvbSAnYm91bmRsZXNzLXBvcnRhbCc7XG5pbXBvcnQgb21pdCBmcm9tICdib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzJztcbmltcG9ydCB0cmFuc2Zvcm1Qcm9wIGZyb20gJ2JvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHknO1xuXG5mdW5jdGlvbiBnZXRPcHBvc2l0ZUNhcmRpbmFsKGRpcmVjdGlvbikge1xuICAgIHN3aXRjaCAoZGlyZWN0aW9uWzBdKSB7XG4gICAgY2FzZSAnTic6XG4gICAgICAgIHJldHVybiAnUyc7XG4gICAgY2FzZSAnUyc6XG4gICAgICAgIHJldHVybiAnTic7XG4gICAgY2FzZSAnRSc6XG4gICAgICAgIHJldHVybiAnVyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdFJztcbn1cblxuZnVuY3Rpb24gd2l0aG91dChhcnIxLCBhcnIyKSB7IHJldHVybiBhcnIxLmZpbHRlcigoaXRlbSkgPT4gYXJyMi5pbmRleE9mKGl0ZW0pID09PSAtMSk7IH1cblxuY29uc3QgQ0xBU1NfUkVNT1ZBTF9SRUdFWCA9IC9cXHM/Yi1wb3BvdmVyLShhbmNob3J8c2VsZiktKHN0YXJ0fG1pZGRsZXxlbmQpL2c7XG5cbmNvbnN0IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UID0gKFxuICAgIDxzdmcgdmlld0JveD0nMCAwIDE0IDkuNScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz5cbiAgICAgICAgPGc+XG4gICAgICAgICAgICA8cG9seWdvbiBjbGFzc05hbWU9J2ItcG9wb3Zlci1jYXJldC1ib3JkZXInIGZpbGw9JyMwMDAnIHBvaW50cz0nNyAwIDE0IDEwIDAgMTAnIC8+XG4gICAgICAgICAgICA8cG9seWdvbiBjbGFzc05hbWU9J2ItcG9wb3Zlci1jYXJldC1maWxsJyBmaWxsPScjRkZGJyBwb2ludHM9JzYuOTgyMzA0NDQgMS43NSAxMi43NSAxMCAxLjI1IDEwJyAvPlxuICAgICAgICA8L2c+XG4gICAgPC9zdmc+XG4pO1xuXG5jb25zdCBTVEFSVCA9IDA7XG5jb25zdCBNSURETEUgPSAxO1xuY29uc3QgRU5EID0gMjtcblxuY29uc3QgY29tYmluYXRpb25zID0gW1xuICAgIHtuYW1lOiAnTk5XJywgICBheDogU1RBUlQsICAgICBheTogU1RBUlQsICAgICAgZHg6IFNUQVJULCAgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnTicsICAgICBheDogTUlERExFLCAgICBheTogU1RBUlQsICAgICAgZHg6IE1JRERMRSwgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnTk5FJywgICBheDogRU5ELCAgICAgICBheTogU1RBUlQsICAgICAgZHg6IEVORCwgICAgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnRU5FJywgICBheDogRU5ELCAgICAgICBheTogU1RBUlQsICAgICAgZHg6IFNUQVJULCAgIGR5OiBTVEFSVH0sXG4gICAge25hbWU6ICdFJywgICAgIGF4OiBFTkQsICAgICAgIGF5OiBNSURETEUsICAgICBkeDogU1RBUlQsICAgZHk6IE1JRERMRX0sXG4gICAge25hbWU6ICdFU0UnLCAgIGF4OiBFTkQsICAgICAgIGF5OiBFTkQsICAgICAgICBkeDogU1RBUlQsICAgZHk6IEVORH0sXG4gICAge25hbWU6ICdTU0UnLCAgIGF4OiBFTkQsICAgICAgIGF5OiBFTkQsICAgICAgICBkeDogRU5ELCAgICAgZHk6IFNUQVJUfSxcbiAgICB7bmFtZTogJ1MnLCAgICAgYXg6IE1JRERMRSwgICAgYXk6IEVORCwgICAgICAgIGR4OiBNSURETEUsICBkeTogU1RBUlR9LFxuICAgIHtuYW1lOiAnU1NXJywgICBheDogU1RBUlQsICAgICBheTogRU5ELCAgICAgICAgZHg6IFNUQVJULCAgIGR5OiBTVEFSVH0sXG4gICAge25hbWU6ICdXU1cnLCAgIGF4OiBTVEFSVCwgICAgIGF5OiBFTkQsICAgICAgICBkeDogRU5ELCAgICAgZHk6IEVORH0sXG4gICAge25hbWU6ICdXJywgICAgIGF4OiBTVEFSVCwgICAgIGF5OiBNSURETEUsICAgICBkeDogRU5ELCAgICAgZHk6IE1JRERMRX0sXG4gICAge25hbWU6ICdXTlcnLCAgIGF4OiBTVEFSVCwgICAgIGF5OiBTVEFSVCwgICAgICBkeDogRU5ELCAgICAgZHk6IFNUQVJUfSxcbl07XG5cbi8qKlxuX19BIG5vbi1ibG9ja2luZyBjb250YWluZXIgcG9zaXRpb25lZCB0byBhIHNwZWNpZmljIGFuY2hvciBlbGVtZW50Ll9fXG5cbkEgcG9wb3ZlciBpcyBhIHR5cGUgb2YgW0RpYWxvZ10oaHR0cHM6Ly9naXRodWIuY29tL2VuaWdtYS1pby9ib3VuZGxlc3MvdHJlZS9tYXN0ZXIvcGFja2FnZXMvYm91bmRsZXNzLWRpYWxvZykgdGhhdCBpcyBtZWFudCB0byBwcm92aWRlIGFkZGl0aW9uYWwgY29udGV4dCB0byBjb250ZW50IChhbiBcImFuY2hvclwiKSBjdXJyZW50bHkgb24tc2NyZWVuLiBUeXBpY2FsbHksIGEgcG9wb3ZlciBpcyBzcGF3bmVkIGJ5IGludGVyYWN0aW5nIHdpdGggdGhlIGNvbnRlbnQgaXQgZW5yaWNoZXMgYW5kIGlzIGRpc21pc3NlZCBieSBjbGlja2luZyBvciBzaGlmdGluZyBmb2N1cyB0byBhbiBhbHRlcm5hdGUgbG9jYXRpb24uXG5cbkFsaWdubWVudCBvcHRpb25zIGZvciB0aGUgcG9wb3ZlciBhcmUgZGVzaWduZWQgdG8gbWlycm9yIGNvbXBhc3MgZGlyZWN0aW9uczpcblxuYGBgXG4gICAgICAg4oaSICAgICAgIOKGkFxuICAgICAgTk5XICBOICBOTkVcbuKGkyBXTlcgICAgICAgICAgICAgRU5FIOKGk1xuICAgIFcgICBBTkNIT1IgICAgRVxu4oaRIFdTVyAgICAgICAgICAgICBFU0Ug4oaRXG4gICAgICBTU1cgIFMgIFNTRVxuICAgICAgIOKGkiAgICAgICDihpBcbmBgYFxuXG5UaGUgYXJyb3dzIGluZGljYXRlIHdoaWNoIHdheSB0aGUgcG9wb3ZlciB3aWxsIGV4dGVuZCwgZS5nLiDihpIgbWVhbnMgdGhlIHBvcG92ZXIgaXMgYWxpZ25lZCB0byB0aGUgbGVmdCBlZGdlIGFuZCBleHRlbmRzIGluIHRoYXQgZGlyZWN0aW9uLiBEaWFnb25hbCBjb3JuZXJzIChOVywgTkUsIFNFLCBTVykgYXJlIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLlxuXG5gYGBqc3hcbjxQb3BvdmVyXG4gICAgYW5jaG9yPXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29tZS1hbmNob3ItZWxlbWVudCcpfVxuICAgIHByZXNldD17UG9wb3Zlci5wcmVzZXQuTn0+XG4gICAgTXkgcG9wb3ZlciBjb250ZW50IVxuPC9Qb3BvdmVyPlxuYGBgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcG92ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VxdWVuY2VzXG4gICAgc3RhdGljIHByZXNldCA9IGNvbWJpbmF0aW9ucy5yZWR1Y2UoKG1hcCwgZGVmKSA9PiAoKG1hcFtkZWYubmFtZV0gPSBkZWYpLCBtYXApLCB7fSlcblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC4uLkRpYWxvZy5wcm9wVHlwZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgRE9NIGVsZW1lbnQgb3IgUmVhY3QgcmVmZXJlbmNlIChyZWYpIHRvIG9uZSBmb3IgcG9zaXRpb25pbmcgcHVycG9zZXNcbiAgICAgICAgICovXG4gICAgICAgIGFuY2hvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksXG4gICAgICAgICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgICAgIHByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGlmIHRoZSBnaXZlbiBhbGlnbm1lbnQgc2V0dGluZ3Mgd291bGQgdGFrZSB0aGUgcG9wb3ZlciBvdXQgb2YgYm91bmRzLCBjaGFuZ2UgdGhlIGFsaWdubWVudCBhcyBuZWNlc3NhcnkgdG8gcmVtYWluIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgKi9cbiAgICAgICAgYXV0b1JlcG9zaXRpb246IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIERPTSBlbGVtZW50IG9yIFJlYWN0IHJlZmVyZW5jZSAocmVmKSB0byBvbmUgZm9yIHBvc2l0aW9uaW5nIHB1cnBvc2VzLCB0aGUgY2FyZXQgY29tcG9uZW50IHdpbGxcbiAgICAgICAgICogYmUgYXV0b21hdGljYWxseSBwb3NpdGlvbmVkIHRvIGNlbnRlciBvbiB0aGlzIHByb3ZpZGVkIGFuY2hvcjsgYnkgZGVmYXVsdCBpdCB3aWxsIGNlbnRlclxuICAgICAgICAgKiBvbiBgcHJvcHMuYW5jaG9yYFxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRBbmNob3I6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBwcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIEpTWCB0aGF0IGlzIHJlbmRlcmVkIGFuZCB1c2VkIHRvIHBvaW50IGF0IHRoZSBtaWRkbGUgb2YgdGhlIGFuY2hvciBlbGVtZW50IGFuZCBpbmRpY2F0ZSB0aGUgY29udGV4dCBvZiB0aGUgcG9wb3ZlclxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50LFxuXG4gICAgICAgIHBvcnRhbFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoUG9ydGFsLlByb3BUeXBlcyksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4YW1wbGU6XG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiA8UG9wb3ZlclxuICAgICAgICAgKiAgICAgYW5jaG9yPXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29tZS1hbmNob3ItZWxlbWVudCcpfVxuICAgICAgICAgKiAgICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5OTkV9PlxuICAgICAgICAgKiAgICAgTXkgcG9wb3ZlciBjb250ZW50IVxuICAgICAgICAgKiA8L1BvcG92ZXI+XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgcHJlc2V0OiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTk5XLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuTixcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk5ORSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkVORSxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FU0UsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TU0UsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5TLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuU1NXLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuV1NXLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LldOVyxcbiAgICAgICAgXSksXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgYW5jaG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiB0cnVlLFxuICAgICAgICBjYXB0dXJlRm9jdXM6IGZhbHNlLFxuICAgICAgICBjYXJldEFuY2hvcjogdW5kZWZpbmVkLFxuICAgICAgICBjYXJldENvbXBvbmVudDogREVGQVVMVF9DQVJFVF9DT01QT05FTlQsXG4gICAgICAgIGNsb3NlT25Fc2NLZXk6IHRydWUsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlU2Nyb2xsOiB0cnVlLFxuICAgICAgICBwb3J0YWxQcm9wczoge30sXG4gICAgICAgIHByZXNldDogUG9wb3Zlci5wcmVzZXQuUyxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gd2l0aG91dChPYmplY3Qua2V5cyhQb3BvdmVyLmRlZmF1bHRQcm9wcyksIERpYWxvZy5pbnRlcm5hbEtleXMpXG5cbiAgICBzdGF0aWMgZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudChjb25zdGFudCkge1xuICAgICAgICBzd2l0Y2ggKGNvbnN0YW50KSB7XG4gICAgICAgIGNhc2UgU1RBUlQ6XG4gICAgICAgICAgICByZXR1cm4gJ3N0YXJ0JztcblxuICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgIHJldHVybiAnbWlkZGxlJztcblxuICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIHJldHVybiAnZW5kJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsIGNhcmV0QW5jaG9yKSB7XG4gICAgICAgIGNvbnN0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB0aGlzLmFuY2hvclJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuY2FyZXRBbmNob3JSZWN0ID0gY2FyZXRBbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgLy8gbm9ybWFsbHkgd2UnZCB1c2Ugc2Nyb2xsVG9wL3Njcm9sbExlZnQsIGJ1dCBzY3JvbGwgYmVoYXZpb3IgY2hhbmdlcyB3aGVuIHBvc2l0aW9uOiBzdGlja3lcbiAgICAgICAgLy8gaXMgZW5hYmxlZCBpbiBDaHJvbWUgYW5kIGludmVydGluZyB0aGUgbmVnYXRpdmUgdmlld3BvcnQgcmVjdCB2YWx1ZSBzZWVtcyB0byB3b3JrIG1vcmVcbiAgICAgICAgLy8gY29uc2lzdGVudGx5XG4gICAgICAgIHRoaXMuYm9keUxlZnQgPSBib2R5UmVjdC5sZWZ0ICogLTE7XG4gICAgICAgIHRoaXMuYm9keVRvcCA9IGJvZHlSZWN0LnRvcCAqIC0xO1xuICAgIH1cblxuICAgIGdldE5leHRDYXJldFhQb3NpdGlvbih7bmFtZSwgYXgsIGR4LCBheSwgZHl9LCBjYXJldCA9IHRoaXMuJGNhcmV0KSB7XG4gICAgICAgIGxldCBuZXh0WCA9IDA7XG5cbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdOJyB8fCBuYW1lWzBdID09PSAnUycpIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgYWJvdmUvYmVsb3csIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBYIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3JcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QubGVmdCAtIHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5jYXJldEFuY2hvclJlY3Qud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZHggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9ICh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeCA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGggLSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwb3BvdmVyIGlzIGxlZnQvcmlnaHQsIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBZIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3IgKGNhcmV0IGlzIHJvdGF0ZWQgdmlhIENTUylcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QudG9wIC0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuY2FyZXRBbmNob3JSZWN0LmhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPT09IEVORCkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0WCAtPSBjYXJldC5jbGllbnRXaWR0aCAvIDI7XG5cbiAgICAgICAgcmV0dXJuIG5leHRYO1xuICAgIH1cblxuICAgIGdldE5leHREaWFsb2dYUG9zaXRpb24oe2F4LCBkeH0sIGRpYWxvZyA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyKSB7XG4gICAgICAgIGxldCBuZXh0WCA9IHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5ib2R5TGVmdDtcblxuICAgICAgICBzd2l0Y2ggKGF4KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JSZWN0LndpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGR4KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFggLT0gZGlhbG9nLmNsaWVudFdpZHRoIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFggLT0gZGlhbG9nLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dFg7XG4gICAgfVxuXG4gICAgZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbih7YXksIGR5fSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRZID0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYm9keVRvcDtcblxuICAgICAgICBzd2l0Y2ggKGF5KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFkgKz0gdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIG5leHRZICs9IHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHkpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WSAtPSBkaWFsb2cuY2xpZW50SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFkgLT0gZGlhbG9nLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHRZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9zaXRpb24gY29tYmluYXRpb24sIHdpbGwgdGhlIHBvcG92ZXIgZml0IGludG8gdGhlIHNwYWNlIHdpdGhvdXQgb2NjbHVzaW9uP1xuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgY29uZmlnXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmF4XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmF5XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmR4XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmR5XG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgcEhlaWdodFxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIHBXaWR0aFxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Bvc2l0aW9uVmFsaWQoe25hbWUsIGF4LCBheSwgZHgsIGR5fSwgcEhlaWdodCwgcFdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gbmFtZVswXTtcblxuICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyAmJiB0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1MnICYmIHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF4ID09PSBTVEFSVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkgICAgICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QubGVmdCA8IDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIHRvIHRoZSBsZWZ0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgLSBwV2lkdGggLyAyIDwgMCkgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi9cbiAgICAgICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgcFdpZHRoIC8gMiA+IHdpbmRvdy5pbm5lcldpZHRoKSAgLyogd291bGQgb2NjbHVkZSByaWdodCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QubGVmdCAtIHBXaWR0aCA8IDApICAgICAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBsZWZ0ICovXG4gICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiB0byB0aGUgcmlnaHQgKi9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1cnIHx8IGNhcmRpbmFsID09PSAnRScpIHtcbiAgICAgICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ1cnICYmIHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi9cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FyZGluYWwgPT09ICdFJyAmJiB0aGlzLmFuY2hvclJlY3QucmlnaHQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChheSA9PT0gU1RBUlQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSAgICAvKiB3b3VsZCBvY2NsdWRlIGJlbG93ICovXG4gICAgICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QudG9wIDwgMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gYWJvdmUgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChheSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDIgLSBwSGVpZ2h0IC8gMiA8IDApICAgICAgICAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICAgICB8fCAodGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyICsgcEhlaWdodCAvIDIgPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCAtIHBIZWlnaHQgPCAwKSAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiBiZWxvdyAqL1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgLy8gZ2l2ZW4gdGhlIGN1cnJlbnQgdmlld3BvcnQgY2FydG9ncmFwaHksIHdoZXJlIGNhbiB3ZSBzdGljayB0aGUgcG9wb3ZlclxuICAgICAgICAvLyBzbyBpdCB3b24ndCBiZSBwYXJ0aWFsbHkgb2NjbHVkZWQ/XG4gICAgICAgIGNvbnN0IHZhbGlkQ29tYm9zID0gY29tYmluYXRpb25zLmZpbHRlcigoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uVmFsaWQoY29uZmlnLCBoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gMS4gaXMgdGhlIHJlcXVlc3RlZCBwcmVzZXQgaW4gdGhlIGxpc3Q/XG4gICAgICAgIC8vIDIuIGRvZXMgdGhlIGNvbnN1bWVyIG5vdCB3YW50IHVzIGF1dG8tcmVwb3NpdGlvbmluZz9cbiAgICAgICAgLy8gMy4gYXJlIG5vIGNvbWJvcyB2YWxpZD9cbiAgICAgICAgaWYgKHZhbGlkQ29tYm9zLmluZGV4T2YodGhpcy5wcm9wcy5wcmVzZXQpICE9PSAtMSB8fCAhdGhpcy5wcm9wcy5hdXRvUmVwb3NpdGlvbiB8fCAhdmFsaWRDb21ib3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVzZXQ7IC8vIGp1c3QgZ28gd2l0aCB0aGUgcmVxdWVzdGVkIHByZXNldFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3RoZXJ3aXNlLi4uIHdlIHRyeSB0byBmaW5kIHRoZSBiZXN0IHBvc3NpYmxlIGZhbGxiYWNrIG9wdGlvblxuXG4gICAgICAgIC8vIG9wdGltaXplIGZvciB0aGUgcmVxdWVzdGVkIHByZXNldCBoZW1pc3BoZXJlXG4gICAgICAgIGNvbnN0IGJlc3RDb21ib3MgPSB2YWxpZENvbWJvcy5maWx0ZXIoKHtuYW1lfSkgPT4gbmFtZVswXSA9PT0gdGhpcy5wcm9wcy5wcmVzZXQubmFtZVswXSk7XG5cbiAgICAgICAgaWYgKGJlc3RDb21ib3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVzdENvbWJvc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZW4gdGhlIG9wcG9zaXRlIChlLmcuIHRoZSBlbGVtZW50IGlzIHRvbyBsb3cgaW4gdGhlIHZpZXdwb3J0IHNvIGZsaXAgdXAgaW5zdGVhZCBvZiBkb3duKVxuICAgICAgICBjb25zdCBvcHBvc2l0ZUNhcmRpbmFsID0gZ2V0T3Bwb3NpdGVDYXJkaW5hbCh0aGlzLnByb3BzLnByZXNldC5uYW1lKTtcbiAgICAgICAgY29uc3Qgb2theUNvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoe25hbWV9KSA9PiBuYW1lWzBdID09PSBvcHBvc2l0ZUNhcmRpbmFsKTtcblxuICAgICAgICBpZiAob2theUNvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBva2F5Q29tYm9zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hhdGV2ZXIncyBsZWZ0IHdpbGwgaGF2ZSB0byBkb1xuICAgICAgICByZXR1cm4gdmFsaWRDb21ib3NbMF07XG4gICAgfVxuXG4gICAgYWxpZ24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMucHJvcHMuYW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmFuY2hvclxuICAgICAgICAgICAgICAgICAgICAgICA6IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuYW5jaG9yKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgY29uc3QgY2FyZXRBbmNob3IgPSB0aGlzLnByb3BzLmNhcmV0QW5jaG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmNhcmV0QW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5jYXJldEFuY2hvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmaW5kRE9NTm9kZSh0aGlzLnByb3BzLmNhcmV0QW5jaG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYW5jaG9yO1xuXG4gICAgICAgIHRoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvciwgY2FyZXRBbmNob3IpO1xuXG4gICAgICAgIGNvbnN0IHByZXNldCA9IHRoaXMuZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKTtcbiAgICAgICAgY29uc3QgZnJhZyA9IFBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1hbmNob3IteC0ke2ZyYWcocHJlc2V0LmF4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItYW5jaG9yLXktJHtmcmFnKHByZXNldC5heSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGAgYi1wb3BvdmVyLXNlbGYteC0ke2ZyYWcocHJlc2V0LmR4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItc2VsZi15LSR7ZnJhZyhwcmVzZXQuZHkpfWA7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihwcmVzZXQpKTtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVt0cmFuc2Zvcm1Qcm9wXSA9IGB0cmFuc2xhdGUoJHtkeH1weCwgJHtkeX1weClgO1xuXG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gcHJlc2V0Lm5hbWVbMF07XG4gICAgICAgIGNvbnN0IGxvbmdpdHVkaW5hbCA9IGNhcmRpbmFsID09PSAnTicgfHwgY2FyZGluYWwgPT09ICdTJztcblxuICAgICAgICAvLyB0aGUgY2FyZXQgaXMgaW5pdGlhbGx5IHBvc2l0aW9uZWQgYXQgMCwwIGluc2lkZSB0aGUgZGlhbG9nXG4gICAgICAgIC8vIHdoaWNoIGlzIGFscmVhZHkgcG9zaXRpb25lZCBhdCB0aGUgYW5jaG9yLCBzbyB3ZSBqdXN0IG5lZWQgdG9cbiAgICAgICAgLy8gbWFrZSBzbWFsbCBhZGp1c3RtZW50cyBhcyBuZWNlc3NhcnkgdG8gbGluZSB1cCB0aGUgY2FyZXRcbiAgICAgICAgLy8gd2l0aCB0aGUgdmlzdWFsIGNlbnRlciBvZiB0aGUgYW5jaG9yXG4gICAgICAgIHRoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbCA/ICdsZWZ0JyA6ICd0b3AnXSA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0Q2FyZXRYUG9zaXRpb24ocHJlc2V0KSkgKyAncHgnO1xuICAgICAgICB0aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWwgPyAndG9wJyA6ICdsZWZ0J10gPSAnMHB4JztcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5hbGlnbigpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5hbGlnbiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7cHJvcHN9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFBvcnRhbCB7Li4ucHJvcHMucG9ydGFsUHJvcHN9PlxuICAgICAgICAgICAgICAgIDxEaWFsb2dcbiAgICAgICAgICAgICAgICAgICAgey4uLm9taXQocHJvcHMsIFBvcG92ZXIuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXsoaW5zdGFuY2UpID0+ICh0aGlzLmRpYWxvZyA9IGluc3RhbmNlKX1cbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChwcm9wcy5jYXJldENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogKG5vZGUpID0+ICh0aGlzLiRjYXJldCA9IG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY3goJ2ItcG9wb3Zlci1jYXJldCcsIHByb3BzLmNhcmV0Q29tcG9uZW50LnByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcG9wb3ZlcicsIHByb3BzLmNsYXNzTmFtZSl9IC8+XG4gICAgICAgICAgICA8L1BvcnRhbD5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9wYWNrYWdlcy9ib3VuZGxlc3MtcG9wb3Zlci9pbmRleC5qcyJdLCJzb3VyY2VSb290IjoiIn0=