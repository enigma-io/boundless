"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var React=require("react");var React__default=_interopDefault(React);var ReactDOM=require("react-dom");var ReactDOM__default=_interopDefault(ReactDOM);var isFunction=function(e){return typeof e==="function"};function omitKeysFromSourceObject(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return Object.keys(e).reduce(function n(o,r){if(t.indexOf(r)===-1){o[r]=e[r]}return o},{})}var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var classCallCheck=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o)}}return function(t,n,o){if(n)e(t.prototype,n);if(o)e(t,o);return t}}();var defineProperty=function(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e};var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n){if(Object.prototype.hasOwnProperty.call(n,o)){e[o]=n[o]}}}return e};var inherits=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var objectWithoutProperties=function(e,t){var n={};for(var o in e){if(t.indexOf(o)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,o))continue;n[o]=e[o]}return n};var possibleConstructorReturn=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var ArrowKeyNavigation=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={activeChildIndex:o.props.defaultActiveChildIndex},o.handleKeyDown=function(e){switch(e.key){case"ArrowUp":if(o.props.mode===t.mode.VERTICAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(-1)}break;case"ArrowLeft":if(o.props.mode===t.mode.HORIZONTAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(-1)}break;case"ArrowDown":if(o.props.mode===t.mode.VERTICAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(1)}break;case"ArrowRight":if(o.props.mode===t.mode.HORIZONTAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(1)}break}if(isFunction(o.props.onKeyDown)){o.props.onKeyDown(e)}},o.handleFocus=function(e){if(e.target.hasAttribute("data-focus-index")){var t=parseInt(e.target.getAttribute("data-focus-index"),10);var n=React__default.Children.toArray(o.props.children)[t];o.setState({activeChildIndex:t});if(n.props.onFocus){n.props.onFocus(e)}}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentDidUpdate",value:function e(t,n){if(this.state.activeChildIndex!==n.activeChildIndex){this.setFocus(this.state.activeChildIndex)}}},{key:"componentWillReceiveProps",value:function e(t){if(this.state.activeChildIndex!==0){var n=t.children?React__default.Children.count(t.children):0;if(n===0){this.setState({activeChildIndex:0})}else if(this.state.activeChildIndex>=n){this.setState({activeChildIndex:n-1})}}}},{key:"setFocus",value:function e(t){var n=(this.refs.wrapper instanceof HTMLElement?this.refs.wrapper:ReactDOM.findDOMNode(this.refs.wrapper)).children[t];if(n&&n.hasAttribute("data-skip")){this.moveFocus(n.compareDocumentPosition(document.activeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}else if(n&&document.activeElement!==n){n.focus()}}},{key:"moveFocus",value:function e(t){var n=this.props.children?React__default.Children.count(this.props.children):0;var o=this.state.activeChildIndex+t;if(o>=n){o=0}else if(o<0){o=n-1}this.setState({activeChildIndex:o})}},{key:"children",value:function e(){var t=this;return React__default.Children.map(this.props.children,function(e,n){return React__default.cloneElement(e,{"data-focus-index":n,"data-skip":parseInt(e.props.tabIndex,10)===-1||undefined,key:e.key||n,tabIndex:t.state.activeChildIndex===n?0:-1})})}},{key:"render",value:function e(){return React__default.createElement(this.props.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",onFocus:this.handleFocus,onKeyDown:this.handleKeyDown}),this.children())}}]);return t}(React__default.PureComponent);ArrowKeyNavigation.mode={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",BOTH:"BOTH"};ArrowKeyNavigation.propTypes={component:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),defaultActiveChildIndex:React.PropTypes.number,mode:React.PropTypes.oneOf(Object.keys(ArrowKeyNavigation.mode))};ArrowKeyNavigation.defaultProps={component:"div",defaultActiveChildIndex:0,mode:ArrowKeyNavigation.mode.BOTH};ArrowKeyNavigation.internalKeys=Object.keys(ArrowKeyNavigation.defaultProps);function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var index=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});function noop(){}var Button=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.handleClick=function(e){if(o.props.disabled){return}o.toggleState(e);if(isFunction(o.props.onClick)){o.props.onClick(e)}},o.handleKeyDown=function(e){if(o.props.disabled){return}switch(e.key){case"Enter":case"Space":e.preventDefault();o.toggleState(e)}if(isFunction(o.props.onKeyDown)){o.props.onKeyDown(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"toggleState",value:function e(t){this.props[this.props.pressed?"onUnpressed":"onPressed"](t)}},{key:"render",value:function e(){return React__default.createElement(this.props.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"button",className:index("b-button",this.props.className,{"b-button-pressable":typeof this.props.pressed!=="undefined","b-button-pressed":this.props.pressed}),"aria-pressed":this.props.pressed,onKeyDown:this.handleKeyDown,onClick:this.handleClick}),this.props.children)}}]);return t}(React__default.PureComponent);Button.propTypes={children:React.PropTypes.node,component:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),onClick:React.PropTypes.func,onPressed:React.PropTypes.func,onUnpressed:React.PropTypes.func,pressed:React.PropTypes.bool};Button.defaultProps={children:null,component:"button",onClick:noop,onPressed:noop,onUnpressed:noop,pressed:undefined};Button.internalKeys=Object.keys(Button.defaultProps);var index$1=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});function uuid(){return"b-"+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^Math.random()*16>>e/4).toString(16)})}var Checkbox=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.id=uuid(),o.handleChange=function(e){if(o.props.inputProps.disabled){return}o.props[!o.props.inputProps.checked?"onChecked":"onUnchecked"](o.props.inputProps.name);if(isFunction(o.props.inputProps.onChange)){o.props.inputProps.onChange(e)}},o.handleClick=function(e){if(o.props.inputProps.disabled){return}o.refs.input.focus();if(isFunction(o.props.inputProps.onClick)){o.props.inputProps.onClick(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentDidMount",value:function e(){if(this.props.inputProps.indeterminate){this.setIndeterminate()}}},{key:"componentDidUpdate",value:function e(t){if(t.inputProps.indeterminate!==this.props.inputProps.indeterminate){this.setIndeterminate()}}},{key:"setIndeterminate",value:function e(){this.refs.input.indeterminate=!!this.props.inputProps.indeterminate}},{key:"getAriaState",value:function e(){return this.props.inputProps.indeterminate?"mixed":String(this.props.inputProps.checked)}},{key:"renderInput",value:function e(){return React__default.createElement("input",_extends({},omitKeysFromSourceObject(this.props.inputProps,"indeterminate"),{ref:"input",type:"checkbox",className:index$1("b-checkbox",this.props.inputProps.className,{"b-checkbox-mixed":this.props.inputProps.indeterminate,"b-checkbox-checked":this.props.inputProps.checked,"b-checkbox-unchecked":!this.props.inputProps.indeterminate&&!this.props.inputProps.checked}),id:this.props.inputProps.id||this.id,"aria-checked":this.getAriaState(),onChange:this.handleChange,onClick:this.handleClick}))}},{key:"renderLabel",value:function e(){if(this.props.label){return React__default.createElement("label",_extends({},this.props.labelProps,{ref:"label",className:index$1("b-checkbox-label",this.props.labelProps.className),htmlFor:this.props.inputProps.id||this.id}),this.props.label)}}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$1("b-checkbox-wrapper",this.props.className)}),this.renderInput(),this.renderLabel())}}]);return t}(React__default.PureComponent);Checkbox.propTypes={inputProps:React.PropTypes.shape({checked:React.PropTypes.bool,className:React.PropTypes.string,disabled:React.PropTypes.bool,id:React.PropTypes.string,indeterminate:React.PropTypes.bool,onChange:React.PropTypes.func,onClick:React.PropTypes.func,name:React.PropTypes.string,value:React.PropTypes.string}),label:React.PropTypes.node,labelProps:React.PropTypes.object,onChecked:React.PropTypes.func,onUnchecked:React.PropTypes.func};Checkbox.defaultProps={inputProps:{checked:false,indeterminate:false},label:null,labelProps:{},onChecked:noop,onUnchecked:noop};Checkbox.internalKeys=Object.keys(Checkbox.defaultProps);var index$2=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var CheckboxGroup=function(e){inherits(t,e);function t(){classCallCheck(this,t);return possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}createClass(t,[{key:"allItemsChecked",value:function e(){return this.props.items.every(function(e){return e.inputProps.checked===true})}},{key:"anyItemsChecked",value:function e(){return this.props.items.some(function(e){return e.inputProps.checked===true})}},{key:"renderSelectAll",value:function e(){if(this.props.selectAll){var t=this.allItemsChecked();var n=this.props.selectAllProps.inputProps;return React__default.createElement(Checkbox,_extends({},this.props.selectAllProps,{ref:"select_all",key:"cb_select_all",className:index$2("b-checkbox-group-selectall",this.props.selectAllProps.className),inputProps:_extends({},n,{checked:t,indeterminate:!t&&this.anyItemsChecked(),name:n&&n.name?n.name:"cb_select_all"}),label:this.props.selectAllProps.label||"Select All",onChecked:this.props.onAllChecked,onUnchecked:this.props.onAllUnchecked}))}}},{key:"renderCheckboxes",value:function e(){var t=this;return this.props.items.map(function(e){return React__default.createElement(Checkbox,_extends({},e,{key:e.inputProps.name,onChecked:t.props.onChildChecked,onUnchecked:t.props.onChildUnchecked}))})}},{key:"renderChildren",value:function e(){var n=[this.renderCheckboxes()];if(this.props.selectAll&&this.props.selectAllPosition){switch(this.props.selectAllPosition){case t.Constants.SELECT_ALL_BEFORE:n.unshift(this.renderSelectAll());break;case t.Constants.SELECT_ALL_AFTER:n.push(this.renderSelectAll());break}}return n}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"group",className:index$2("b-checkbox-group",this.props.className)}),this.renderChildren())}}]);return t}(React__default.PureComponent);CheckboxGroup.Constants={SELECT_ALL_BEFORE:"SELECT_ALL_BEFORE",SELECT_ALL_AFTER:"SELECT_ALL_AFTER"};CheckboxGroup.propTypes={items:React.PropTypes.arrayOf(Checkbox.propTypes.inputProps).isRequired,onAllChecked:React.PropTypes.func,onAllUnchecked:React.PropTypes.func,onChildChecked:React.PropTypes.func,onChildUnchecked:React.PropTypes.func,selectAll:React.PropTypes.bool,selectAllProps:React.PropTypes.shape({label:React.PropTypes.string,inputProps:React.PropTypes.object}),selectAllPosition:React.PropTypes.oneOf(Object.keys(CheckboxGroup.Constants))};CheckboxGroup.defaultProps={items:[],onAllChecked:noop,onAllUnchecked:noop,onChildChecked:noop,onChildUnchecked:noop,selectAll:false,selectAllProps:{},selectAllPosition:CheckboxGroup.Constants.SELECT_ALL_BEFORE};CheckboxGroup.internalKeys=Object.keys(CheckboxGroup.defaultProps);var index$3=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Portal=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.id=uuid(),o.$portal=null,o.$passenger=null,n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentWillMount",value:function e(){this.$portal=document.createElement("div");this.props.destination.appendChild(this.$portal);this.renderPortalledContent()}},{key:"renderPortalledContent",value:function e(){var t=React__default.isValidElement(this.props.children)?this.props.children:React__default.createElement("div",null,this.props.children);this.$portal.id=this.props.portalId||this.id;ReactDOM__default.unstable_renderSubtreeIntoContainer(this,t,this.$portal);this.$passenger=this.$portal.children[0]}},{key:"componentDidUpdate",value:function e(){this.renderPortalledContent()}},{key:"componentWillUnmount",value:function e(){ReactDOM__default.unmountComponentAtNode(this.$portal);this.props.destination.removeChild(this.$portal)}},{key:"render",value:function e(){return React__default.createElement("span",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),defineProperty({},t.PORTAL_DATA_ATTRIBUTE,this.props.portalId||this.id)))}}]);return t}(React__default.Component);Portal.propTypes={children:React__default.PropTypes.node.isRequired,destination:React.PropTypes.instanceOf(window.HTMLElement),portalId:React.PropTypes.string};Portal.defaultProps={children:null,destination:document.body,portalId:null};Portal.internalKeys=Object.keys(Portal.defaultProps);Portal.PORTAL_DATA_ATTRIBUTE="data-portal-id";var toArray$1=Array.prototype.slice;var Dialog=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.mounted=false,o.uuidHeader=uuid(),o.uuidBody=uuid(),o.handleFocus=function(e){if(!o.props.captureFocus){if(o.props.closeOnOutsideFocus){if(!o.isPartOfDialog(e.target)){return window.setTimeout(o.props.onClose,0)}}return}var t=e.explicitOriginalTarget||e.relatedTarget;if(o.isPartOfDialog(t)&&!o.isPartOfDialog(e.target)){e.preventDefault();t.focus()}},o.handleKeyDown=function(e){if(o.props.closeOnEscKey&&e.key==="Escape"){window.setTimeout(o.props.onClose,0)}if(isFunction(o.props.onKeyDown)){o.props.onKeyDown(e)}},o.handleOutsideClick=function(e){if(o.props.closeOnOutsideClick&&!o.isPartOfDialog(e.target)){window.setTimeout(o.props.onClose,0)}},o.handleOutsideScrollWheel=function(e){if(o.props.closeOnOutsideScroll&&!o.isPartOfDialog(e.target)){window.setTimeout(o.props.onClose,0)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"isPartOfDialog",value:function e(t){if(!t||t===window){return false}var n=[this.$wrapper].concat(toArray$1.call(this.$wrapper.querySelectorAll("["+Portal.PORTAL_DATA_ATTRIBUTE+"]")).map(function(e){return document.getElementById(e.getAttribute(Portal.PORTAL_DATA_ATTRIBUTE))}));var o=t.nodeType!==Node.ELEMENT_NODE?t.parentNode:t;return n.some(function(e){return e.contains(o)})}},{key:"componentDidMount",value:function e(){window.addEventListener("click",this.handleOutsideClick,true);window.addEventListener("contextmenu",this.handleOutsideClick,true);window.addEventListener("focus",this.handleFocus,true);window.addEventListener("scroll",this.handleOutsideScrollWheel,true);window.addEventListener("wheel",this.handleOutsideScrollWheel,true);if(this.props.captureFocus&&!this.isPartOfDialog(document.activeElement)){this.$dialog.focus()}}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("click",this.handleOutsideClick,true);window.removeEventListener("contextmenu",this.handleOutsideClick,true);window.removeEventListener("focus",this.handleFocus,true);window.removeEventListener("scroll",this.handleOutsideScrollWheel,true);window.removeEventListener("wheel",this.handleOutsideScrollWheel,true)}},{key:"renderBody",value:function e(){return React__default.createElement("div",_extends({},this.props.bodyProps,{id:this.props.bodyProps.id||this.uuidBody,className:index$3("b-dialog-body",this.props.bodyProps.className)}),this.props.children)}},{key:"renderFooter",value:function e(){if(this.props.footer){return React__default.createElement("footer",_extends({},this.props.footerProps,{className:index$3("b-dialog-footer",this.props.footerProps.className)}),this.props.footer)}}},{key:"renderHeader",value:function e(){if(this.props.header){return React__default.createElement("header",_extends({},this.props.headerProps,{id:this.props.headerProps.id||this.uuidHeader,className:index$3("b-dialog-header",this.props.headerProps.className)}),this.props.header)}}},{key:"renderFocusBoundary",value:function e(){if(this.props.captureFocus){return React__default.createElement("div",{className:"b-offscreen",tabIndex:"0","aria-hidden":"true"}," ")}}},{key:"render",value:function e(){var n=this;return React__default.createElement("div",_extends({},this.props.wrapperProps,{ref:function e(t){return n.$wrapper=t},className:index$3("b-dialog-wrapper",this.props.wrapperProps.className),tabIndex:"0"}),this.renderFocusBoundary(),this.props.before,React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:function e(t){return n.$dialog=t},className:index$3("b-dialog",this.props.className),onKeyDown:this.handleKeyDown,role:"dialog","aria-labelledby":this.uuidHeader,"aria-describedby":this.uuidBody,tabIndex:"0"}),this.renderHeader(),this.renderBody(),this.renderFooter()),this.props.after,this.renderFocusBoundary())}}]);return t}(React__default.PureComponent);Dialog.propTypes={after:React.PropTypes.node,before:React.PropTypes.node,bodyProps:React.PropTypes.object,captureFocus:React.PropTypes.bool,children:React.PropTypes.node,closeOnEscKey:React.PropTypes.bool,closeOnOutsideClick:React.PropTypes.bool,closeOnOutsideFocus:React.PropTypes.bool,closeOnOutsideScroll:React.PropTypes.bool,footer:React.PropTypes.node,footerProps:React.PropTypes.object,header:React.PropTypes.node,headerProps:React.PropTypes.object,onClose:React.PropTypes.func,wrapperProps:React.PropTypes.object};Dialog.defaultProps={after:null,before:null,bodyProps:{},captureFocus:true,children:null,closeOnEscKey:false,closeOnOutsideClick:false,closeOnOutsideFocus:false,closeOnOutsideScroll:false,footer:null,footerProps:{},header:null,headerProps:{},onClose:noop,wrapperProps:{}};Dialog.internalKeys=Object.keys(Dialog.defaultProps);var index$4=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var instances=[];function toI(e){return parseInt(e,10)}function rescale(e){var t=ReactDOM.findDOMNode(e);var n=window.getComputedStyle(t.parentNode);var o=toI(window.getComputedStyle(t).fontSize);var r=toI(n.height);var s=toI(n.width);if(n.boxSizing==="border-box"||n.boxSizing==="padding-box"){r-=toI(n.paddingTop)+toI(n.paddingBottom);s-=toI(n.paddingLeft)+toI(n.paddingRight)}var i=Math.floor(o/t.offsetHeight*r);var a=Math.floor(o/t.offsetWidth*s);t.style.fontSize=(Math.min(e.props.maxFontSize,i,a)||1)+"px"}function handleWindowResize(){instances.forEach(function(e){return rescale(e)})}function registerInstance(e){if(instances.length===0){window.addEventListener("resize",handleWindowResize,true)}instances.push(e)}function unregisterInstance(e){instances.splice(instances.indexOf(e),1);if(instances.length===0){window.removeEventListener("resize",handleWindowResize,true)}}var FittedText=function(e){inherits(t,e);function t(){classCallCheck(this,t);return possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}createClass(t,[{key:"componentDidMount",value:function e(){rescale(this);registerInstance(this)}},{key:"componentDidUpdate",value:function e(){rescale(this)}},{key:"componentWillUnmount",value:function e(){unregisterInstance(this)}},{key:"render",value:function e(){return React__default.createElement(this.props.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{className:index$4("b-text",this.props.className)}),this.props.children)}}]);return t}(React__default.PureComponent);FittedText.propTypes={children:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),component:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),maxFontSize:React.PropTypes.number};FittedText.defaultProps={children:null,component:"span",maxFontSize:Number.MAX_VALUE};FittedText.internalKeys=Object.keys(FittedText.defaultProps);var index$5=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Image=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={status:t.status.LOADING},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentWillReceiveProps",value:function e(n){if(n.src!==this.props.src){this.resetPreloader();this.setState({status:t.status.LOADING})}}},{key:"componentDidMount",value:function e(){this.preload()}},{key:"componentDidUpdate",value:function e(){this.preload()}},{key:"componentWillUnmount",value:function e(){this.resetPreloader()}},{key:"resetPreloader",value:function e(){this.loader.onload=null;this.loader.onerror=null;this.loader=null}},{key:"preload",value:function e(){var n=this;if(this.loader){return}this.loader=document.createElement("img");this.loader.onload=function(){return n.setState({status:t.status.LOADED})};this.loader.onerror=function(){return n.setState({status:t.status.ERROR})};this.loader.src=this.props.src}},{key:"renderImage",value:function e(){if(this.props.displayAsBackgroundImage){return React__default.createElement("div",_extends({},this.props.imageProps,{ref:"image",className:index$5("b-image",this.props.imageProps.className),title:this.props.alt,style:_extends({},this.props.imageProps.style,{backgroundImage:"url("+this.props.src+")"})}))}return React__default.createElement("img",_extends({},this.props.imageProps,{ref:"image",className:index$5("b-image",this.props.imageProps.className),src:this.props.src,alt:this.props.alt,onLoad:noop,onError:noop}))}},{key:"renderStatus",value:function e(){return React__default.createElement("div",_extends({},this.props.statusProps,{ref:"status",className:index$5("b-image-status",this.props.statusProps.className,{"b-image-loading":this.state.status===t.status.LOADING,"b-image-loaded":this.state.status===t.status.LOADED,"b-image-error":this.state.status===t.status.ERROR}),role:"presentation"}))}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$5("b-image-wrapper",this.props.className)}),this.renderImage(),this.renderStatus())}}]);return t}(React__default.PureComponent);Image.status={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"};Image.propTypes={alt:React.PropTypes.string,displayAsBackgroundImage:React.PropTypes.bool,imageProps:React.PropTypes.object,src:React.PropTypes.string.isRequired,statusProps:React.PropTypes.object};Image.defaultProps={alt:null,displayAsBackgroundImage:false,imageProps:{},src:"about:blank",statusProps:{}};Image.internalKeys=Object.keys(Image.defaultProps);var index$6=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var isString=function(e){return typeof e==="string"};var Input=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={input:"",isControlled:isString(o.props.inputProps.value),isFocused:false},o.setInputValue=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return o.setState({input:e})},o.getValue=function(){return o.refs.field.value},o.handleBlur=function(e){o.setState({isFocused:false});if(isFunction(o.props.inputProps.onBlur)===true){o.props.inputProps.onBlur(e)}},o.handleFocus=function(e){o.setState({isFocused:true});if(isFunction(o.props.inputProps.onFocus)===true){o.props.inputProps.onFocus(e)}},o.handleChange=function(e){if(o.state.isControlled===false){o.setInputValue(e.target.value)}if(isFunction(o.props.inputProps.onChange)===true){o.props.inputProps.onChange(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentWillMount",value:function e(){if(this.state.isControlled===true){return this.setInputValue(this.props.inputProps.value)}this.setInputValue(this.props.inputProps.defaultValue)}},{key:"componentWillReceiveProps",value:function e(t){if(t.inputProps.value!==this.props.inputProps.value){this.setInputValue(t.inputProps.value)}}},{key:"setValue",value:function e(t){this.setInputValue(t);this.refs.field.value=t;if(this.state.isControlled===true){this.refs.field.dispatchEvent(new Event("input",{bubbles:true}));this.refs.field.dispatchEvent(new Event("change",{bubbles:true}))}}},{key:"getPlaceholderText",value:function e(){var t=this.state.input!=="";var n=this.props.hidePlaceholderOnFocus===true?this.state.isFocused===false&&t===false:t===false;return n?this.props.inputProps.placeholder:""}},{key:"renderPlaceholder",value:function e(){return React__default.createElement("div",{ref:"placeholder",className:"b-input-placeholder b-input"},this.getPlaceholderText())}},{key:"render",value:function e(){var n=this.props;return React__default.createElement("div",_extends({},omitKeysFromSourceObject(n,t.internalKeys),{ref:"wrapper",className:index$6("b-input-wrapper",n.className),title:this.getPlaceholderText()}),this.renderPlaceholder(),React__default.createElement("input",_extends({},n.inputProps,{ref:"field",className:index$6("b-input",n.inputProps.className),placeholder:null,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange})))}}]);return t}(React__default.PureComponent);Input.propTypes={hidePlaceholderOnFocus:React.PropTypes.bool,inputProps:React.PropTypes.shape({defaultValue:React.PropTypes.string,onBlur:React.PropTypes.func,onFocus:React.PropTypes.func,onChange:React.PropTypes.func,placeholder:React.PropTypes.string,type:React.PropTypes.string,value:React.PropTypes.string})};Input.defaultProps={hidePlaceholderOnFocus:true,inputProps:{type:"text"}};Input.internalKeys=Object.keys(Input.defaultProps);
var index$7=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});function getIntersection(e,t){return Object.keys(t).reduce(function(t,n){if(n in e){t[n]=e[n]}return t},{})}var Modal=function(e){inherits(t,e);function t(){classCallCheck(this,t);return possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}createClass(t,[{key:"render",value:function e(){var n=this;var o=this.props;return React__default.createElement(Portal,o.portalProps,React__default.createElement("div",_extends({},omitKeysFromSourceObject(o,t.internalKeys),{ref:function e(t){return n.$modal=t},className:index$7("b-modal-wrapper",o.className)}),React__default.createElement("div",_extends({},o.maskProps,{className:index$7("b-modal-mask",o.maskProps.className)})),React__default.createElement(Dialog,_extends({},getIntersection(o,Dialog.defaultProps),o.modalProps,{className:index$7("b-modal",o.modalProps.className)}),o.children)))}}]);return t}(React__default.PureComponent);Modal.propTypes=_extends({},Dialog.propTypes,{maskProps:React.PropTypes.object,modalProps:React.PropTypes.object,portalProps:React.PropTypes.object});Modal.defaultProps=_extends({},Dialog.defaultProps,{captureFocus:true,maskProps:{},modalProps:{},portalProps:{}});Modal.internalKeys=Object.keys(Modal.defaultProps);var index$8=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var INFINITY=1/0;var MAX_INTEGER=1.7976931348623157e308;var NAN=0/0;var symbolTag="[object Symbol]";var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;var objectProto=Object.prototype;var objectToString=objectProto.toString;function isInteger(e){return typeof e=="number"&&e==toInteger(e)}function isObject(e){var t=typeof e==="undefined"?"undefined":_typeof(e);return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&(typeof e==="undefined"?"undefined":_typeof(e))=="object"}function isSymbol(e){return(typeof e==="undefined"?"undefined":_typeof(e))=="symbol"||isObjectLike(e)&&objectToString.call(e)==symbolTag}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===INFINITY||e===-INFINITY){var t=e<0?-1:1;return t*MAX_INTEGER}return e===e?e:0}function toInteger(e){var t=toFinite(e),n=t%1;return t===t?n?t-n:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return NAN}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(reTrim,"");var n=reIsBinary.test(e);return n||reIsOctal.test(e)?freeParseInt(e.slice(2),n?2:8):reIsBadHex.test(e)?NAN:+e}var index$9=isInteger;var index$10=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var SegmentedControl=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={indexOfOptionInFocus:null},o.handleKeyDown=function(e){var t=e.key;var n=o.state.indexOfOptionInFocus;if(t==="ArrowLeft"){o.setFocus(o.getPreviousOptionIndex(n));e.preventDefault()}else if(t==="ArrowRight"){o.setFocus(o.getNextOptionIndex(n));e.preventDefault()}else if(t==="Enter"){o.handleOptionClick(o.props.options[n]);e.preventDefault()}if(isFunction(o.props.onKeyDown)){o.props.onKeyDown(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"currentValue",value:function e(){var t=void 0;this.props.options.some(function(e){if(e.selected){t=e.value;return true}});return t}},{key:"setFocus",value:function e(t){ReactDOM.findDOMNode(this.refs["option_$"+t]).focus()}},{key:"getNextOptionIndex",value:function e(t){var n=t+1;return n<this.props.options.length?n:0}},{key:"getPreviousOptionIndex",value:function e(t){var n=t-1;return n<0?this.props.options.length-1:n}},{key:"handleOptionBlur",value:function e(t,n){if(this.state.indexOfOptionInFocus===this.props.options.indexOf(t)){this.setState({indexOfOptionInFocus:null})}if(isFunction(t.onBlur)){t.onBlur(n)}}},{key:"handleOptionClick",value:function e(t,n){this.props.onOptionSelected(t.value);if(isFunction(t.onClick)){t.onClick(n)}}},{key:"handleOptionFocus",value:function e(t,n){this.setState({indexOfOptionInFocus:this.props.options.indexOf(t)});if(isFunction(t.onFocus)){t.onFocus(n)}}},{key:"renderOptions",value:function e(){var n=this;return this.props.options.map(function(e,o){return React__default.createElement(Button,_extends({},omitKeysFromSourceObject(e,t.internalChildKeys),{role:"radio","aria-checked":String(e.selected),ref:"option_$"+o,key:e.value,className:index$10("b-segmented-control-option",e.className,{"b-segmented-control-option-selected":e.selected}),tabIndex:e.selected?"0":"-1",onBlur:n.handleOptionBlur.bind(n,e),onPressed:n.handleOptionClick.bind(n,e),onFocus:n.handleOptionFocus.bind(n,e)}),e.content)})}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",role:"radiogroup",className:index$10("b-segmented-control",this.props.className),onKeyDown:this.handleKeyDown}),this.renderOptions())}}]);return t}(React__default.PureComponent);SegmentedControl.propTypes={onOptionSelected:React.PropTypes.func,options:function e(t){if(t.options.length<2){throw new Error("Must provide at least two options.")}var n=t.options.some(function(e){if(!("selected"in e)){return true}});if(n){throw new Error("Must provide a `selected` prop for each option.")}var o=false;var r=t.options.some(function(e){if(e.selected){if(o){return true}o=true}});if(r){throw new Error("Encountered multiple options with `selected: true`. There can be only one.")}if(t.options.some(function(e){return typeof e.value==="undefined"})){throw new Error("Must provide a `value` prop for each option.")}}};SegmentedControl.defaultProps={onOptionSelected:noop,options:[]};SegmentedControl.internalKeys=Object.keys(SegmentedControl.defaultProps);SegmentedControl.internalChildKeys=["content","value","selected"];var identity=function e(t){return t};var Item=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.mounted=false,o.state={},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"convertDataToJSXOrWait",value:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;if(n.data instanceof Promise){var o=function(){t.setState({component:null});var e=n.data;n.data.then(function(n){if(t.mounted){t.setState(function(t,o){return{component:o.data===e?o.convertToJSXFunc(n,o.index):t.component}})}},noop);return{v:void 0}}();if((typeof o==="undefined"?"undefined":_typeof(o))==="object")return o.v}this.setState({component:n.convertToJSXFunc(n.data,n.index)})}},{key:"componentWillMount",value:function e(){this.convertDataToJSXOrWait()}},{key:"componentDidMount",value:function e(){this.mounted=true}},{key:"componentWillReceiveProps",value:function e(t){this.convertDataToJSXOrWait(t)}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"getClasses",value:function e(t){return index$8("b-pagination-item",t,{"b-pagination-item-even":this.props.even,"b-pagination-item-odd":!this.props.even,"b-pagination-item-loading":this.state.component===null})}},{key:"render",value:function e(){if(this.state.component===null){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{className:this.getClasses()}),this.props.loadingContent)}return React__default.cloneElement(this.state.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{className:this.getClasses(this.state.component.props&&this.state.component.props.className),"data-pagination-index":this.props.index}))}}]);return t}(React__default.PureComponent);Item.propTypes={convertToJSXFunc:React.PropTypes.func,data:React.PropTypes.object,even:React.PropTypes.bool,index:React.PropTypes.number,loadingContent:React.PropTypes.node};Item.defaultProps={convertToJSXFunc:noop,data:null,even:true,index:0,loadingContent:null};Item.internalKeys=Object.keys(Item.defaultProps);var Pagination=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={currentPage:o.props.initialPage,targetIndex:(o.props.initialPage-1)*o.props.numItemsPerPage},o.currentPage=function(){return o.state.currentPage},o.getPageForIndex=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:o.props.numItemsPerPage;return Math.ceil((e+1)/t)},o.totalPages=function(){return Math.ceil(o.props.totalItems/o.props.numItemsPerPage)},o.firstVisibleItemIndex=function(){return(o.currentPage()-1)*o.props.numItemsPerPage},o.pageToIndex=function(e){if(e<0||e>=o.props.totalItems){return new Error("Cannot page to invalid index "+e+".")}o.setState({currentPage:o.getPageForIndex(e),targetIndex:e})},o.handleClick=function(e){var n=void 0;switch(e){case t.controls.FIRST:n=0;break;case t.controls.PREVIOUS:n=o.firstVisibleItemIndex()-o.props.numItemsPerPage;break;case t.controls.NEXT:n=o.firstVisibleItemIndex()+o.props.numItemsPerPage;break;case t.controls.LAST:n=o.props.totalItems-1;break;default:n=parseInt(e,10)*o.props.numItemsPerPage-1}o.setState({currentPage:o.getPageForIndex(n),targetIndex:n})},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentDidUpdate",value:function e(t,n){if(n.currentPage!==this.currentPage()){ReactDOM.findDOMNode(this.refs.item_0).focus()}}},{key:"componentWillReceiveProps",value:function e(){var t=this;var n=this.props;this.setState(function(e,o){if(o.identifier!==n.identifier){return{currentPage:1,targetIndex:0}}return{currentPage:t.getPageForIndex(e.targetIndex,o.numItemsPerPage),targetIndex:e.targetIndex}})}},{key:"createPageButtonOptions",value:function e(){var n=[];var o=this.currentPage();var r=this.props.numPageToggles;var s=this.totalPages();var i=o-(o-1)%r;var a=Math.min(i+r-1,s);if(this.props.showPaginationState){n.push({selected:false,content:isFunction(this.props.showPaginationState)?this.props.showPaginationState(o,s):o+" of "+s,value:"",disabled:true,className:"b-pagination-control b-pagination-control-state"})}if(this.props.showJumpToFirst){n.push({selected:false,content:this.props.jumpToFirstControlContent,value:t.controls.FIRST,disabled:this.currentPage()===1,className:"b-pagination-control b-pagination-control-first"})}n.push({selected:false,content:this.props.previousPageControlContent,value:t.controls.PREVIOUS,disabled:this.currentPage()===1,className:"b-pagination-control b-pagination-control-previous"});for(var p=i;p<=a;p++){n.push({className:"b-pagination-control","data-page-number":p,selected:p===this.currentPage(),content:p,value:p})}n.push({selected:false,content:this.props.nextPageControlContent,value:t.controls.NEXT,disabled:this.currentPage()===s,className:"b-pagination-control b-pagination-control-next"});if(this.props.showJumpToLast){n.push({selected:false,content:this.props.jumpToLastControlContent,value:t.controls.LAST,disabled:this.currentPage()===s,className:"b-pagination-control b-pagination-control-last"})}if(this.props.customControlContent){n.push({selected:false,content:this.props.customControlContent,value:uuid(),disabled:true,className:"b-pagination-control b-pagination-control-custom"})}return n}},{key:"generateItems",value:function e(){var t=[];var n=this.firstVisibleItemIndex();var o=Math.min(this.props.totalItems,n+this.props.numItemsPerPage)-1;for(var r=n;r<=o;r+=1){t.push({data:this.props.getItem(r)})}return t}},{key:"renderItems",value:function e(){var t=this;var n=this.props.listWrapperProps;var o=this.props.numItemsPerPage*(this.currentPage()-1);return React__default.createElement(ArrowKeyNavigation,_extends({},n,{ref:"itemList",className:index$8("b-pagination-items",n.className)}),this.generateItems().map(function(e,n){return React__default.createElement(Item,{ref:"item_"+n,key:n,convertToJSXFunc:t.props.itemToJSXConverterFunc,data:e.data,even:n%2===0,index:o+n,loadingContent:t.props.itemLoadingContent})}))}},{key:"renderControls",value:function e(t){if(this.props.hidePagerIfNotNeeded&&this.props.totalItems<=this.props.numItemsPerPage){return}var n=this.props.toggleWrapperProps;var o=t.toLowerCase();var r=o[0].toUpperCase()+o.slice(1);return React__default.createElement(SegmentedControl,_extends({},n,{ref:"segmentedControl"+r,className:index$8("b-pagination-controls",n.className,defineProperty({},"b-pagination-controls-"+o,true)),options:this.createPageButtonOptions(),onOptionSelected:this.handleClick}))}},{key:"renderView",value:function e(){var n=this.props;var o=t.positions;return React__default.createElement("div",{ref:"paginatedView",className:"b-pagination"},n.position===o.ABOVE||n.position===o.BOTH?this.renderControls(o.ABOVE):noop,n.before,this.renderItems(),n.after,n.position===o.BELOW||n.position===o.BOTH?this.renderControls(o.BELOW):noop)}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$8("b-pagination-wrapper",this.props.className)}),this.renderView())}}]);return t}(React__default.PureComponent);Pagination.controls={FIRST:"FIRST",PREVIOUS:"PREVIOUS",NEXT:"NEXT",LAST:"LAST"};Pagination.positions={ABOVE:"ABOVE",BELOW:"BELOW",BOTH:"BOTH"};Pagination.propTypes={after:React.PropTypes.node,before:React.PropTypes.node,customControlContent:React.PropTypes.node,getItem:React.PropTypes.func,hidePagerIfNotNeeded:React.PropTypes.bool,identifier:React.PropTypes.string.isRequired,initialPage:function e(t){if(index$9(t.initialPage)===false){return new Error("`initialPage` must be an integer.")}var n=Math.ceil(t.totalItems/t.numItemsPerPage);if(t.initialPage<1||t.initialPage>n){return new Error("`initialPage` must be between 1 and "+n+".")}},itemLoadingContent:React.PropTypes.node,itemToJSXConverterFunc:React.PropTypes.func,jumpToFirstControlContent:React.PropTypes.node,jumpToLastControlContent:React.PropTypes.node,listWrapperProps:React.PropTypes.object,nextPageControlContent:React.PropTypes.node,numItemsPerPage:function e(t){if(index$9(t.numItemsPerPage)===false){return new Error("`numItemsPerPage` must be an integer.")}else if(t.numItemsPerPage<1){return new Error("`numItemsPerPage` must be greater than zero.")}},numPageToggles:React.PropTypes.number,position:React.PropTypes.oneOf(Object.keys(Pagination.positions)),previousPageControlContent:React.PropTypes.node,showJumpToFirst:React.PropTypes.bool,showJumpToLast:React.PropTypes.bool,showPaginationState:React.PropTypes.oneOfType([React.PropTypes.bool,React.PropTypes.func]),toggleWrapperProps:React.PropTypes.object,totalItems:React.PropTypes.number.isRequired};Pagination.defaultProps={after:null,before:null,customControlContent:null,getItem:noop,hidePagerIfNotNeeded:false,identifier:uuid(),initialPage:1,itemLoadingContent:null,itemToJSXConverterFunc:identity,jumpToFirstControlContent:"« First",jumpToLastControlContent:"Last »",listWrapperProps:{},nextPageControlContent:"Next ›",numItemsPerPage:10,numPageToggles:5,position:Pagination.positions.ABOVE,previousPageControlContent:"‹ Previous",showJumpToFirst:true,showJumpToLast:true,showPaginationState:true,toggleWrapperProps:{},totalItems:null};Pagination.internalKeys=Object.keys(Pagination.defaultProps);var index$11=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var transformProp=function e(){var t=["transform","WebkitTransform","MozTransform","OTransform","msTransform","webkit-transform"];for(var n=0,o=t.length;n<o;n++){if(t[n]in document.documentElement.style){return t[n]}}return false}();function without(e,t){return e.filter(function(e){return t.indexOf(e)===-1})}function values(e){return Object.keys(e).map(function(t){return e[t]})}var DEFAULT_CARET_COMPONENT=React__default.createElement("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("g",null,React__default.createElement("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),React__default.createElement("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"})));var Popover=function(e){inherits(t,e);function t(e){classCallCheck(this,t);var n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.align=function(){var e=n.props.anchor instanceof HTMLElement?n.props.anchor:ReactDOM.findDOMNode(n.props.anchor);n.cacheViewportCartography(e);var t=Math.round(n.getNextDialogXPosition(e));var o=Math.round(n.getNextDialogYPosition(e));var r=n.getAlignmentCorrectionIfOverflowing(t,o);if(r&&n.didAlignmentChange(r)){return n.setState(r)}n.$caret.style.left=Math.round(n.getNextCaretXPosition(e))+"px";n.$caret.style.top=Math.round(n.getNextCaretYPosition(e))+"px";n.applyTranslation(n.$caret,index$11,0);n.applyTranslation(n.dialog.$wrapper,t,o)};n.state={anchorXAlign:e.anchorXAlign||e.preset.anchorXAlign,anchorYAlign:e.anchorYAlign||e.preset.anchorYAlign,selfXAlign:e.selfXAlign||e.preset.selfXAlign,selfYAlign:e.selfYAlign||e.preset.selfYAlign};return n}createClass(t,[{key:"cacheViewportCartography",value:function e(t){var n=t.getBoundingClientRect();var o=document.body.getBoundingClientRect();this.anchorLeft=n.left;this.anchorTop=n.top;this.anchorHeight=n.height;this.anchorWidth=n.width;this.bodyLeft=o.left*-1;this.bodyTop=o.top*-1}},{key:"getNextCaretXPosition",value:function e(n){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.$caret;var r=this.state,s=r.anchorXAlign,i=r.selfXAlign,a=r.anchorYAlign,p=r.selfYAlign;var l=t.position;var c=0;if(i!==l.MIDDLE&&(a===l.START&&p===l.END||a===l.END&&p===l.START)){if(s===l.START){c+=this.anchorWidth/2-o.clientWidth/2}else if(s===l.END){c+=this.dialog.$wrapper.clientWidth-this.anchorWidth/2-o.clientWidth/2}}return c}},{key:"getNextCaretYPosition",value:function e(n){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.$caret;var r=this.state,s=r.anchorXAlign,i=r.selfXAlign,a=r.anchorYAlign,p=r.selfYAlign;var l=t.position;var c=0;if(p!==l.MIDDLE&&(s===l.START&&i===l.END||s===l.END&&i===l.START)){if(a===l.START){c+=this.anchorHeight/2-o.clientWidth/2}else if(a===l.END){c+=this.dialog.$wrapper.clientHeight-this.anchorWidth/2-o.clientWidth/2}}return c}},{key:"getNextDialogXPosition",value:function e(n){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.dialog.$wrapper;var r=this.state,s=r.anchorXAlign,i=r.selfXAlign;var a=t.position;var p=this.anchorLeft+this.bodyLeft;switch(s){case a.MIDDLE:p+=this.anchorWidth/2;break;case a.END:p+=this.anchorWidth;break}switch(i){case a.MIDDLE:p-=o.clientWidth/2;break;case a.END:p-=o.clientWidth;break}return p}},{key:"getNextDialogYPosition",value:function e(n){var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.dialog.$wrapper;var r=this.state;var s=t.position;var i=this.anchorTop+this.bodyTop;var a=i+this.anchorHeight;switch(r.anchorYAlign){case s.START:a=i;break;case s.MIDDLE:a=i+this.anchorHeight/2;break}switch(r.selfYAlign){case s.MIDDLE:a-=o.clientHeight/2;break;case s.END:a-=o.clientHeight;break}return a}},{key:"getAlignmentCorrectionIfOverflowing",value:function e(n,o){if(!this.props.autoReposition){return false}var r=_extends({},this.state);var s=t.position;var i=this.dialog.$wrapper.clientWidth;var a=this.dialog.$wrapper.clientHeight;var p=document.body.scrollWidth;var l=document.body.scrollHeight;if(n+i>p){r.anchorXAlign=s.START;r.selfXAlign=s.END}if(n<0){r.anchorXAlign=s.END;r.selfXAlign=s.START}if(o+a>l){if(r.anchorXAlign===s.START&&r.selfXAlign===s.END||r.anchorXAlign===s.END&&r.selfXAlign===s.START){r.anchorYAlign=s.END}else{r.anchorYAlign=s.START}r.selfYAlign=s.END}if(o<0){if(r.anchorXAlign===s.START&&r.selfXAlign===s.END||r.anchorXAlign===s.END&&r.selfXAlign===s.START){r.anchorYAlign=s.START}else{r.anchorYAlign=s.END}r.selfYAlign=s.START}return r}},{key:"applyTranslation",value:function e(t,n,o){if(transformProp){t.style[transformProp]="translate("+n+"px, "+o+"px)"}else{t.style.left=n+"px";t.style.top=o+"px"}}},{key:"didAlignmentChange",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.state;return t.anchorXAlign!==n.anchorXAlign||t.anchorYAlign!==n.anchorYAlign||t.selfXAlign!==n.selfXAlign||t.selfYAlign!==n.selfYAlign}},{key:"componentDidMount",value:function e(){this.align();window.addEventListener("resize",this.align,true)}},{key:"componentDidUpdate",value:function e(){this.align()}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.align,true)}},{key:"getClassAlignmentFragment",value:function e(n){var o=t.position;switch(n){case o.START:return"start";case o.MIDDLE:return"middle";case o.END:return"end"}}},{key:"render",value:function e(){var n=this,o;var r=this.getClassAlignmentFragment,s=this.props,i=this.state;return React__default.createElement(Portal,s.portalProps,React__default.createElement(Dialog,_extends({},omitKeysFromSourceObject(s,t.internalKeys),{ref:function e(t){return n.dialog=t},before:React__default.cloneElement(s.caretComponent,{ref:function e(t){return n.$caret=t},className:index$11("b-popover-caret",s.caretComponent.props.className)}),wrapperProps:_extends({},s.wrapperProps,{className:index$11("b-popover",s.wrapperProps.className,(o={},defineProperty(o,"b-popover-anchor-x-"+r(i.anchorXAlign),true),defineProperty(o,"b-popover-anchor-y-"+r(i.anchorYAlign),true),defineProperty(o,"b-popover-self-x-"+r(i.selfXAlign),true),defineProperty(o,"b-popover-self-y-"+r(i.selfYAlign),true),o))})})))}}]);return t}(React__default.PureComponent);Popover.position={START:"START",MIDDLE:"MIDDLE",END:"END"};Popover.preset={ABOVE:{anchorXAlign:Popover.position.MIDDLE,anchorYAlign:Popover.position.START,selfXAlign:Popover.position.MIDDLE,selfYAlign:Popover.position.END},BELOW:{anchorXAlign:Popover.position.MIDDLE,anchorYAlign:Popover.position.END,selfXAlign:Popover.position.MIDDLE,selfYAlign:Popover.position.START},LEFT:{anchorXAlign:Popover.position.START,anchorYAlign:Popover.position.MIDDLE,selfXAlign:Popover.position.END,selfYAlign:Popover.position.MIDDLE},RIGHT:{anchorXAlign:Popover.position.END,anchorYAlign:Popover.position.MIDDLE,selfXAlign:Popover.position.START,selfYAlign:Popover.position.MIDDLE}};Popover.presetValues=values(Popover.preset);Popover.propTypes=_extends({},Dialog.propTypes,{anchor:React.PropTypes.oneOfType([React.PropTypes.instanceOf(HTMLElement),React.PropTypes.shape({props:React.PropTypes.object,state:React.PropTypes.object})]).isRequired,anchorXAlign:React.PropTypes.oneOf(Object.keys(Popover.position)),anchorYAlign:React.PropTypes.oneOf(Object.keys(Popover.position)),autoReposition:React.PropTypes.bool,caretComponent:React.PropTypes.element,portalProps:React.PropTypes.object,preset:React.PropTypes.oneOf(Popover.presetValues),selfXAlign:React.PropTypes.oneOf(Object.keys(Popover.position)),selfYAlign:React.PropTypes.oneOf(Object.keys(Popover.position)),wrapperProps:React.PropTypes.object});Popover.defaultProps=_extends({},Dialog.defaultProps,{anchor:document.body,anchorXAlign:undefined,anchorYAlign:undefined,autoReposition:true,captureFocus:false,caretComponent:DEFAULT_CARET_COMPONENT,closeOnEscKey:true,closeOnOutsideClick:true,closeOnOutsideScroll:true,portalProps:{},preset:Popover.preset.BELOW,selfXAlign:undefined,selfYAlign:undefined,wrapperProps:{}});Popover.internalKeys=without(Object.keys(Popover.defaultProps),Dialog.internalKeys);var index$12=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var ProgressiveDisclosure=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.state={expanded:o.props.expanded},o.dispatchCallback=function(){o.props[o.state.expanded?"onExpand":"onHide"]()},o.handleClick=function(e){o.setState({expanded:!o.state.expanded},o.dispatchCallback);if(isFunction(o.props.toggleProps.onClick)){o.props.toggleProps.onClick(e)}},o.handleKeyDown=function(e){switch(e.key){case"Enter":e.preventDefault();o.setState({expanded:!o.state.expanded},o.dispatchCallback)}if(isFunction(o.props.toggleProps.onKeyDown)){o.props.toggleProps.onKeyDown(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentWillReceiveProps",value:function e(t){if(t.expanded!==this.props.expanded){this.setState({expanded:t.expanded},this.dispatchCallback)}}},{key:"renderContent",value:function e(){if(this.state.expanded){return React__default.createElement("div",{ref:"content",className:"b-disclosure-content"},this.props.children)}}},{key:"render",value:function e(){return React__default.createElement(this.props.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$12("b-disclosure",this.props.className,{"b-disclosure-expanded":this.state.expanded})}),React__default.createElement("div",_extends({},this.props.toggleProps,{ref:"toggle",className:index$12("b-disclosure-toggle",this.props.toggleProps.className),onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:"0"}),this.state.expanded?this.props.teaserExpanded||this.props.teaser:this.props.teaser),this.renderContent())}}]);return t}(React__default.PureComponent);ProgressiveDisclosure.propTypes={children:React.PropTypes.node,component:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),expanded:React.PropTypes.bool,onExpand:React.PropTypes.func,onHide:React.PropTypes.func,teaser:React.PropTypes.node,teaserExpanded:React.PropTypes.node,toggleProps:React.PropTypes.object};ProgressiveDisclosure.defaultProps={children:null,component:"div",expanded:false,onExpand:noop,onHide:noop,teaser:null,teaserExpanded:null,toggleProps:{}};ProgressiveDisclosure.internalKeys=Object.keys(ProgressiveDisclosure.defaultProps);var index$13=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Progress=function(e){inherits(t,e);function t(){classCallCheck(this,t);return possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}createClass(t,[{key:"renderLabel",value:function e(){if(this.props.label){return React__default.createElement("div",_extends({},this.props.labelProps,{ref:"label",className:index$13("b-progress-label",this.props.labelProps.className)}),this.props.label)}}},{key:"renderCancel",value:function e(){if(this.props.onCancel){return React__default.createElement(Button,_extends({},this.props.cancelProps,{ref:"cancel",className:index$13("b-progress-cancel",this.props.cancelProps.className),onPressed:this.props.onCancel}))}}},{key:"renderProgress",value:function e(){return React__default.createElement("div",_extends({},this.props.progressProps,{ref:"progress",className:index$13("b-progress",this.props.progressProps.className,{"b-progress-indeterminate":typeof this.props.progress==="undefined"}),role:"presentation",style:_extends({},this.props.progressProps.style,defineProperty({},this.props.tweenProperty,this.props.progress))}))}},{key:"render",value:function e(){return React__default.createElement(this.props.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$13("b-progress-wrapper",this.props.className)}),this.renderProgress(),this.renderLabel(),this.renderCancel())}}]);return t}(React__default.PureComponent);Progress.propTypes={cancelProps:React.PropTypes.object,component:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),label:React.PropTypes.node,labelProps:React.PropTypes.object,onCancel:React.PropTypes.func,progress:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),progressProps:React.PropTypes.object,tweenProperty:React.PropTypes.string};Progress.defaultProps={cancelProps:{},component:"div",label:null,labelProps:{},onCancel:null,progress:undefined,progressProps:{},tweenProperty:"width"};Progress.internalKeys=Object.keys(Progress.defaultProps);var index$14=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){
var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Radio=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.uuid=uuid(),o.handleChange=function(e){if(e.target.checked){o.props.onSelected(e.target.value)}if(isFunction(o.props.inputProps.onChange)){o.props.inputProps.onChange(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"renderInput",value:function e(){return React__default.createElement("input",_extends({},this.props.inputProps,{ref:"input",type:"radio",id:this.props.id||this.props.inputProps.id||this.uuid,className:index$14("b-radio",this.props.inputProps.className,{"b-radio-selected":this.props.selected}),name:this.props.name,value:this.props.value,checked:this.props.selected,"aria-checked":String(this.props.selected),onChange:this.handleChange}))}},{key:"renderLabel",value:function e(){if(this.props.label){return React__default.createElement("label",_extends({},this.props.labelProps,{ref:"label",className:index$14("b-radio-label",this.props.labelProps.className),htmlFor:this.props.id||this.props.inputProps.id||this.uuid}),this.props.label)}}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$14("b-radio-wrapper",this.props.className)}),this.renderInput(),this.renderLabel())}}]);return t}(React__default.PureComponent);Radio.propTypes={inputProps:React.PropTypes.object,label:React.PropTypes.node,labelProps:React.PropTypes.object,name:React.PropTypes.string.isRequired,onSelected:React.PropTypes.func,selected:React.PropTypes.bool,value:React.PropTypes.string.isRequired};Radio.defaultProps={inputProps:{},label:null,labelProps:{},name:"",onSelected:noop,selected:false,value:""};Radio.internalKeys=Object.keys(Radio.defaultProps);var index$15=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var index$16=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g;var index$17=function e(t){if(typeof t!=="string"){throw new TypeError("Expected a string")}return t.replace(matchOperatorsRe,"\\$&")};var Typeahead=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),_initialiseProps.call(o),n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentWillMount",value:function e(){if(this.props.inputProps.value||this.props.inputProps.defaultValue){this.computeMatches()}}},{key:"componentDidMount",value:function e(){this.mounted=true;if(this.state.selectedEntityIndex>=0){this.props.onEntityHighlighted(this.state.selectedEntityIndex)}}},{key:"componentWillReceiveProps",value:function e(t){if(t.entities!==this.props.entities){this.computeMatches(t.entities)}if(t.inputProps.value!==this.props.inputProps.value){this.updateInputState(t.inputProps.value);this.computeMatches()}}},{key:"componentDidUpdate",value:function e(t,n){if(this.state.entityMatchIndexes.length&&!n.entityMatchIndexes.length){this.refs.matches.scrollTop=0}if(this.state.selectedEntityIndex>=0&&this.props.entities[this.state.selectedEntityIndex]!==t.entities[n.selectedEntityIndex]){this.props.onEntityHighlighted(this.state.selectedEntityIndex)}}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"handleMatchClick",value:function e(t){this.setState({selectedEntityIndex:t},this.setValueWithSelectedEntity)}},{key:"selectMatch",value:function e(t){var n=this.state.entityMatchIndexes;var o=n.length;var r=n.indexOf(this.state.selectedEntityIndex)+t;if(o){if(r<0){r=o-1}else if(r>=o){r=0}var s=n[r];var i=this.refs.matches;var a=i.scrollTop+i.clientHeight;var p=this.refs["match_$"+s];var l=p.offsetTop;var c=l+p.clientHeight;if(c>=a){i.scrollTop+=c-a}else if(l<=i.scrollTop){i.scrollTop=l}this.setState({selectedEntityIndex:s})}}},{key:"cursorAtEndOfInput",value:function e(){var t=this.getInputNode();return t.selectionStart===t.selectionEnd&&t.selectionEnd===this.getValue().length}},{key:"markFuzzyMatchSubstring",value:function e(t,n){var o=n.text;var r=o.split(new RegExp("("+index$17(t)+")","ig"));var s=t.toLowerCase();var i=r.length;var a=-1;while(++a<i){if(r[a].toLowerCase()===s){r[a]=React__default.createElement("mark",{key:a,className:"b-typeahead-match-highlight"},r[a])}}return r}},{key:"markStartsWithMatchSubstring",value:function e(t,n){var o=n.text;var r=t.toLowerCase();var s=o.toLowerCase().indexOf(r);var i=s+r.length;return[React__default.createElement("span",{key:"0"},o.slice(0,s)),React__default.createElement("mark",{key:"1",className:"b-typeahead-match-highlight"},o.slice(s,i)),React__default.createElement("span",{key:"2"},o.slice(i))]}},{key:"getMarkingFunction",value:function e(){if(isString(this.props.algorithm)){if(this.props.algorithm===t.mode.STARTS_WITH){return this.markStartsWithMatchSubstring}return this.markFuzzyMatchSubstring}else if(isFunction(this.props.algorithm.marker)){return this.props.algorithm.marker}if(this.warnedMarker===undefined){this.warnedMarker=true;console.warn("Typeahead: no `props.algorithm.marker` was provided; falling back to the default marking algorithm (FUZZY).")}return this.markFuzzyMatchSubstring}},{key:"getFuzzyMatchIndexes",value:function e(t,n){var o=t.toLowerCase();return n.reduce(function e(t,n,r){return n.text.toLowerCase().indexOf(o)!==-1?t.push(r)&&t:t},[])}},{key:"getStartsWithMatchIndexes",value:function e(t,n){var o=t.toLowerCase();return n.reduce(function e(t,n,r){if(n.text.toLowerCase().indexOf(o)===0){t.push(r)}return t},[])}},{key:"getMatchingFunction",value:function e(){if(isString(this.props.algorithm)){if(this.props.algorithm===t.mode.STARTS_WITH){return this.getStartsWithMatchIndexes}return this.getFuzzyMatchIndexes}else if(isFunction(this.props.algorithm.matcher)){return this.props.algorithm.matcher}if(this.warnedMatcher===undefined){this.warnedMatcher=true;console.warn("Typeahead: no `props.algorithm.matcher` was provided; falling back to the default matching algorithm (FUZZY).")}return this.getFuzzyMatchIndexes}},{key:"computeMatches",value:function e(t){var n=this;this.setState(function(e,o){var r=t||o.entities;var s=e.input;var i=s===""?[]:n.getMatchIndexes(s,r);return{selectedEntityIndex:i.length?i[0]:-1,entityMatchIndexes:i}})}},{key:"renderNotification",value:function e(){return React__default.createElement("div",{ref:"aria",id:this.state.id,className:this.props.offscreenClass,"aria-live":"polite"},this.getSelectedEntityText())}},{key:"renderHint",value:function e(){if(this.props.hint){var t=this.state.input;var n=this.getSelectedEntityText();var o="";if(n&&n.toLowerCase().indexOf(t.toLowerCase())===0){o=n.replace(new RegExp(t,"i"),t)}return React__default.createElement("div",_extends({},this.props.hintProps,{ref:"hint",className:index$16("b-input","b-input-placeholder","b-typeahead-hint",this.props.hintProps.className),tabIndex:"-1"}),o)}}},{key:"renderMatches",value:function e(){var t=this;if(this.state.entityMatchIndexes.length){var n=this.props.matchWrapperProps;return React__default.createElement("div",_extends({},n,{ref:"matches",className:index$16("b-typeahead-match-wrapper",n.className)}),this.state.entityMatchIndexes.map(function(e){var n=t.props.entities[e];var o=n.className,r=n.text,s=objectWithoutProperties(n,["className","text"]);return React__default.createElement("div",_extends({},s,{ref:"match_$"+e,className:index$16("b-typeahead-match",o,{"b-typeahead-match-selected":t.state.selectedEntityIndex===e}),key:r,onClick:t.handleMatchClick.bind(t,e)}),t.markMatchSubstring(t.state.input,n))}))}}},{key:"render",value:function e(){var n=this.props,o=this.state;return React__default.createElement("div",_extends({},omitKeysFromSourceObject(n,t.internalKeys),{ref:"wrapper",className:index$16("b-typeahead-wrapper",n.className),onKeyDown:this.handleKeyDown}),this.renderNotification(),this.renderHint(),React__default.createElement(Input,_extends({},getIntersection(n,Input.defaultProps),{ref:"input","aria-controls":o.id,inputProps:_extends({},n.inputProps,{className:index$16("b-typeahead",n.inputProps.className),onChange:this.handleChange})})),this.renderMatches())}}]);return t}(React__default.PureComponent);Typeahead.mode={STARTS_WITH:"STARTS_WITH",FUZZY:"FUZZY"};Typeahead.propTypes=_extends({},Input.propTypes,{algorithm:React.PropTypes.oneOfType([React.PropTypes.oneOf([Typeahead.mode.STARTS_WITH,Typeahead.mode.FUZZY]),React.PropTypes.shape({marker:React.PropTypes.oneOfType([React.PropTypes.func,React.PropTypes.oneOf([Typeahead.mode.STARTS_WITH,Typeahead.mode.FUZZY])]),matcher:React.PropTypes.oneOfType([React.PropTypes.func,React.PropTypes.oneOf([Typeahead.mode.STARTS_WITH,Typeahead.mode.FUZZY])])})]),clearPartialInputOnSelection:React.PropTypes.bool,entities:React.PropTypes.arrayOf(React.PropTypes.shape({text:React.PropTypes.string})),hint:React.PropTypes.bool,hintProps:React.PropTypes.object,matchWrapperProps:React.PropTypes.object,offscreenClass:React.PropTypes.string,onComplete:React.PropTypes.func,onEntityHighlighted:React.PropTypes.func,onEntitySelected:React.PropTypes.func});Typeahead.defaultProps=_extends({},Input.defaultProps,{algorithm:Typeahead.mode.FUZZY,clearPartialInputOnSelection:false,entities:[],hint:null,hintProps:{},matchWrapperProps:{},offscreenClass:"b-offscreen",onComplete:noop,onEntityHighlighted:noop,onEntitySelected:noop});Typeahead.internalKeys=Object.keys(Typeahead.defaultProps);var _initialiseProps=function e(){var t=this;this.state={entityMatchIndexes:[],id:uuid(),isControlled:isString(this.props.inputProps.value),input:this.props.inputProps.value||this.props.inputProps.defaultValue||"",selectedEntityIndex:-1};this.mounted=false;this.updateInputState=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return t.setState({input:e})};this.getSelectedEntityText=function(){var e=t.props.entities[t.state.selectedEntityIndex];return e?e.text:""};this.resetMatches=function(){if(t.mounted){t.setState({selectedEntityIndex:-1,entityMatchIndexes:[]})}};this.getInputNode=function(){return t.refs.input.refs.field};this.select=function(){var e=t.getInputNode();e.selectionStart=0;e.selectionEnd=t.getValue().length};this.focus=function(){return t.getInputNode().focus()};this.getValue=function(){return t.refs.input.getValue()};this.setValue=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t.refs.input.setValue(e);t.updateInputState(e);t.resetMatches();t.focus()};this.setValueWithSelectedEntity=function(){t.props.onEntitySelected(t.state.selectedEntityIndex);if(t.props.clearPartialInputOnSelection){t.setValue("")}else{t.setValue(t.getSelectedEntityText())}window.setTimeout(t.resetMatches,0)};this.markMatchSubstring=function(){return t.getMarkingFunction().apply(undefined,arguments)};this.getMatchIndexes=function(){return t.getMatchingFunction().apply(undefined,arguments)};this.handleChange=function(e){if(t.state.isControlled===false){t.updateInputState(e.target.value);t.computeMatches()}if(isFunction(t.props.inputProps.onChange)){t.props.inputProps.onChange(e)}};this.handleKeyDown=function(e){switch(e.key){case"ArrowLeft":if(e.target.selectionStart>1){e.stopPropagation()}break;case"Tab":case"ArrowRight":if(t.state.selectedEntityIndex!==-1&&t.cursorAtEndOfInput()&&t.getInputNode()===e.target&&!e.shiftKey){e.nativeEvent.preventDefault();t.setValueWithSelectedEntity()}break;case"ArrowUp":e.nativeEvent.preventDefault();t.selectMatch(-1);t.focus();break;case"ArrowDown":e.nativeEvent.preventDefault();t.selectMatch(1);t.focus();break;case"Escape":if(t.state.selectedEntityIndex!==-1&&t.getInputNode()===e.target){t.resetMatches()}break;case"Enter":if(t.state.selectedEntityIndex!==-1&&t.getInputNode()===e.target){e.nativeEvent.preventDefault();t.setValueWithSelectedEntity()}else{t.props.onComplete(t.state.input,e)}break}if(isFunction(t.props.onKeyDown)){t.props.onKeyDown(e)}}};var first=function e(t){return t[0]};var last=function e(t){return t[t.length-1]};var TokenizedInput=function(e){inherits(t,e);function t(){var e;var n,o,r;classCallCheck(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return r=(n=(o=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o),o.focus=function(){return o.refs.typeahead.focus()},o.getInputNode=function(){return o.refs.typeahead.getInputNode()},o.getSelectedEntityText=function(){return o.refs.typeahead.getSelectedEntityText()},o.getValue=function(){return o.refs.typeahead.getValue()},o.select=function(){return o.refs.typeahead.select()},o.setValue=function(e){return o.refs.typeahead.setValue(e)},o.add=function(e){if(o.props.tokens.indexOf(e)===-1){o.props.handleAddToken(e)}},o.handleInputClick=function(e){o.clearSelection();if(isFunction(o.props.inputProps.onClick)){o.props.inputProps.onClick(e)}},o.handleInputFocus=function(e){o.clearSelection();if(isFunction(o.props.inputProps.onFocus)){o.props.inputProps.onFocus(e)}},o.handleKeyDown=function(e){switch(e.which){case 37:o.selectPreviousToken(e.shiftKey);break;case 39:o.selectNextToken(e.shiftKey);break;case 8:if(o.props.tokensSelected.length){o.remove(o.props.tokensSelected);o.focus()}break;case 65:if(e.metaKey){e.preventDefault();o.focus();o.select();o._suppressNextTokenSelection=true;o.props.handleNewSelection(o.props.tokens)}}if(isFunction(o.props.onKeyDown)){o.props.onKeyDown(e)}},n),possibleConstructorReturn(o,r)}createClass(t,[{key:"componentDidUpdate",value:function e(t){var n=t.tokensSelected;var o=this.props.tokensSelected;if(this.props.tokens.length>t.tokens.length){this.setValue("")}if(this._suppressNextTokenSelection){this._suppressNextTokenSelection=false;return}if(n!==o&&o.length!==0){if(o.length===1||o[0]!==n[0]){return this.refs["token_"+o[0]].focus()}else if(last(o)!==last(n)){return this.refs["token_"+last(o)].focus()}this.refs["token_"+o[0]].focus()}}},{key:"remove",value:function e(t){var n=this;var o=(Array.isArray(t)?t:[t]).filter(function(e){return n.props.tokens.indexOf(e)!==-1});if(o.length){this.props.handleRemoveTokens(o)}}},{key:"selectToken",value:function e(t){this.props.handleNewSelection([t])}},{key:"selectTokens",value:function e(t){this.props.handleNewSelection(t)}},{key:"selectPreviousToken",value:function e(t){var n=this.props.tokensSelected;var o=this.props.tokens;if(n.length===1&&first(n)===first(o)){return}if(n.length===0){this.selectToken(last(o))}else{var r=o[o.indexOf(first(n))-1];this.selectTokens(t?[r].concat(n):[r])}}},{key:"selectNextToken",value:function e(t){var n=this.props.tokensSelected;var o=this.props.tokens;if(n.length===0){return}if(last(n)===last(o)){this.clearSelection();this.focus()}else{var r=o[o.indexOf(last(n))+1];this.selectTokens(t?n.concat(r):[r])}}},{key:"clearSelection",value:function e(){this.props.handleNewSelection([])}},{key:"handleTokenCloseClick",value:function e(t,n){n.stopPropagation();this.remove(t);this.focus();if(this.props.tokenCloseComponent.props.onClick){this.props.tokenCloseComponent.props.onClick(n)}}},{key:"renderTokenClose",value:function e(t){if(this.props.tokenCloseVisible){return React__default.cloneElement(this.props.tokenCloseComponent,{className:index$15("b-tokenfield-token-close",this.props.tokenCloseComponent.props.className),onClick:this.handleTokenCloseClick.bind(this,t)})}}},{key:"handleTokenKeyDown",value:function e(t,n){switch(n.which){case 13:case 32:this.selectToken(t);n.preventDefault();break;case 8:this.remove(t);this.focus();n.preventDefault();break}}},{key:"renderTokens",value:function e(){var t=this;return React__default.createElement("div",{className:"b-tokenfield-tokens"},this.props.tokens.map(function(e){return React__default.createElement("div",{ref:"token_"+e,key:e,className:index$15("b-tokenfield-token",{"b-tokenfield-token-selected":t.props.tokensSelected.indexOf(e)!==-1}),onClick:t.selectToken.bind(t,e),onKeyDown:t.handleTokenKeyDown.bind(t,e),tabIndex:"0"},t.props.entities[e].text,t.renderTokenClose(e))}))}},{key:"render",value:function e(){return React__default.createElement("div",_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{ref:"wrapper",className:index$15("b-tokenfield-wrapper",this.props.className),onKeyDown:this.handleKeyDown}),this.renderTokens(),React__default.createElement(Typeahead,_extends({},getIntersection(this.props,Typeahead.defaultProps),{ref:"typeahead",className:"b-tokenfield",clearPartialInputOnSelection:true,inputProps:_extends({},this.props.inputProps,{onClick:this.handleInputClick,onFocus:this.handleInputFocus}),onEntitySelected:this.add})))}}]);return t}(React__default.PureComponent);TokenizedInput.propTypes=_extends({},Typeahead.propTypes,{handleAddToken:React.PropTypes.func,handleRemoveTokens:React.PropTypes.func,handleNewSelection:React.PropTypes.func,tokenCloseComponent:React.PropTypes.element,tokenCloseVisible:React.PropTypes.bool,tokens:React.PropTypes.arrayOf(React.PropTypes.number),tokensSelected:React.PropTypes.arrayOf(React.PropTypes.number)});TokenizedInput.defaultProps=_extends({},Typeahead.defaultProps,{handleAddToken:noop,handleRemoveTokens:noop,handleNewSelection:noop,tokenCloseComponent:React__default.createElement("div",null,"X"),tokenCloseVisible:true,tokens:[],tokensSelected:[]});TokenizedInput.internalKeys=Object.keys(TokenizedInput.defaultProps);var index$18=createCommonjsModule(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var o=0;o<arguments.length;o++){var r=arguments[o];if(!r)continue;var s=typeof r==="undefined"?"undefined":_typeof(r);if(s==="string"||s==="number"){e.push(r)}else if(Array.isArray(r)){e.push(n.apply(null,r))}else if(s==="object"){for(var i in r){if(t.call(r,i)&&r[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&_typeof(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Tooltip=function(e){inherits(t,e);function t(){classCallCheck(this,t);return possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}createClass(t,[{key:"render",value:function e(){var n=this.props.position;return React__default.createElement(this.props.component,_extends({},omitKeysFromSourceObject(this.props,t.internalKeys),{className:index$18("b-tooltip",this.props.className,{"b-tooltip-position-above":n===t.position.ABOVE,"b-tooltip-position-below":n===t.position.BELOW,"b-tooltip-position-before":n===t.position.BEFORE,"b-tooltip-position-after":n===t.position.AFTER}),"data-tooltip":this.props.text,"aria-label":this.props["aria-label"]||this.props.text}),this.props.children)}}]);return t}(React__default.PureComponent);Tooltip.position={ABOVE:"ABOVE",BELOW:"BELOW",BEFORE:"BEFORE",AFTER:"AFTER"};Tooltip.propTypes={component:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.func]),position:React.PropTypes.oneOf(Object.keys(Tooltip.position)),text:React.PropTypes.string};Tooltip.defaultProps={component:"div",position:Tooltip.position.ABOVE,text:""};Tooltip.internalKeys=Object.keys(Tooltip.defaultProps);exports.ArrowKeyNavigation=ArrowKeyNavigation;exports.Button=Button;exports.Checkbox=Checkbox;exports.CheckboxGroup=CheckboxGroup;exports.Dialog=Dialog;exports.FittedText=FittedText;exports.Image=Image;exports.Input=Input;exports.Modal=Modal;exports.Pagination=Pagination;exports.Popover=Popover;exports.Portal=Portal;exports.ProgressiveDisclosure=ProgressiveDisclosure;exports.Progress=Progress;exports.Radio=Radio;exports.SegmentedControl=SegmentedControl;exports.TokenizedInput=TokenizedInput;exports.Tooltip=Tooltip;exports.Typeahead=Typeahead;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm91bmRsZXNzLmpzIiwic291cmNlcyI6WyIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWFycm93LWtleS1uYXZpZ2F0aW9uL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWJ1dHRvbi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1idXR0b24vaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtY2hlY2tib3gvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdXRpbHMtdXVpZC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1jaGVja2JveC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1jaGVja2JveC1ncm91cC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1jaGVja2JveC1ncm91cC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1kaWFsb2cvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtcG9ydGFsL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWRpYWxvZy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1maXR0ZWQtdGV4dC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1maXR0ZWQtdGV4dC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1pbWFnZS9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1pbWFnZS9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1pbnB1dC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy11dGlscy1pcy1zdHJpbmcvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtaW5wdXQvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtbW9kYWwvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdXRpbHMtb2JqZWN0LWludGVyc2VjdGlvbi9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1tb2RhbC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wYWdpbmF0aW9uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXBhZ2luYXRpb24vbm9kZV9tb2R1bGVzL2xvZGFzaC5pc2ludGVnZXIvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3Mtc2VnbWVudGVkLWNvbnRyb2wvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3Mtc2VnbWVudGVkLWNvbnRyb2wvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtcGFnaW5hdGlvbi9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXV0aWxzLXRyYW5zZm9ybS1wcm9wZXJ0eS9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3BvdmVyL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXByb2dyZXNzaXZlLWRpc2Nsb3N1cmUvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtcHJvZ3Jlc3NpdmUtZGlzY2xvc3VyZS9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wcm9ncmVzcy9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wcm9ncmVzcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1yYWRpby9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1yYWRpby9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy10b2tlbml6ZWQtaW5wdXQvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdHlwZWFoZWFkL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXR5cGVhaGVhZC9ub2RlX21vZHVsZXMvZXNjYXBlLXN0cmluZy1yZWdleHAvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdHlwZWFoZWFkL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXRva2VuaXplZC1pbnB1dC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy10b29sdGlwL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXRvb2x0aXAvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgKHRlc3QpID0+IHR5cGVvZiB0ZXN0ID09PSAnZnVuY3Rpb24nO1xuIiwiLyoqXG4gKiBSZXR1cm5zIGEgbW9kaWZpZWQgdmVyc2lvbiBvZiB0aGUgc3VwcGxpZWQgb2JqZWN0IHdpdGhvdXQgdGhlIGdpdmVuIGtleXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG9taXRLZXlzRnJvbVNvdXJjZU9iamVjdChzb3VyY2UsIG9taXR0ZWRLZXlzID0gW10pIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gcmVsb2NhdGVBY2NlcHRlZEtleXMoaGFzaCwga2V5KSB7XG4gICAgICAgIGlmIChvbWl0dGVkS2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XG4gICAgICAgICAgICBoYXNoW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoYXNoO1xuXG4gICAgfSwge30pO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2ZpbmRET01Ob2RlfSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbi8qKlxuIyBBcnJvd0tleU5hdmlnYXRpb25cbl9fQSBoaWdoZXItb3JkZXIgY29tcG9uZW50IGZvciBhcnJvdyBrZXkgbmF2aWdhdGlvbiBvbiBhIGdyb3VwaW5nIG9mIGNoaWxkcmVuLl9fXG5cbkFycm93S2V5TmF2aWdhdGlvbiBpcyBkZXNpZ25lZCBub3QgdG8gY2FyZSBhYm91dCB0aGUgY29tcG9uZW50IHR5cGVzIGl0IGlzIHdyYXBwaW5nLiBEdWUgdG8gdGhpcywgeW91IGNhbiBwYXNzXG53aGF0ZXZlciBIVE1MIHRhZyB5b3UgbGlrZSBpbnRvIGBwcm9wcy5jb21wb25lbnRgIG9yIGV2ZW4gYSBSZWFjdCBjb21wb25lbnQgeW91J3ZlIG1hZGUgZWxzZXdoZXJlLiBBZGRpdGlvbmFsXG5wcm9wcyBwYXNzZWQgdG8gYDxBcnJvd0tleU5hdmlnYXRpb24gLi4uPmAgd2lsbCBiZSBmb3J3YXJkZWQgb24gdG8gdGhlIGNvbXBvbmVudCBvciBIVE1MIHRhZyBuYW1lIHlvdSd2ZSBzdXBwbGllZC5cblxuVGhlIGNoaWxkcmVuLCBzaW1pbGFybHksIGNhbiBiZSBhbnkgdHlwZSBvZiBjb21wb25lbnQuXG5cbiMjIyBJbnRlcmFjdGlvbnNcblxuVHlwZSB8IENvbnRleHQgfCBFeHBlY3RhdGlvblxuLS0tLSB8IC0tLS0tLS0gfCAtLS0tLS0tLS0tLVxuX19LZXlib2FyZF9fIHwg4qyF77iPIGBMZWZ0YCB8IG1vdmUgZm9jdXMgdG8gcHJldmlvdXMgY2hpbGQgaWYgYHByb3BzLm1vZGVgIGlzIGBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5IT1JJWk9OVEFMYCBvciBgQXJyb3dLZXlOYXZpZ2F0aW9uLm1vZGUuQk9USGBcbl9fS2V5Ym9hcmRfXyB8IOKeoe+4jyBgUmlnaHRgIHwgbW92ZSBmb2N1cyB0byBuZXh0IGNoaWxkIGlmIGBwcm9wcy5tb2RlYCBpcyBgQXJyb3dLZXlOYXZpZ2F0aW9uLm1vZGUuSE9SSVpPTlRBTGAgb3IgYEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEhgXG5fX0tleWJvYXJkX18gfCDirIbvuI8gYFVwYCB8IG1vdmUgZm9jdXMgdG8gcHJldmlvdXMgY2hpbGQgaWYgYHByb3BzLm1vZGVgIGlzIGBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5WRVJUSUNBTGAgb3IgYEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEhgXG5fX0tleWJvYXJkX18gfCDirIfvuI8gYERvd25gIHwgbW92ZSBmb2N1cyB0byBuZXh0IGNoaWxkIGlmIGBwcm9wcy5tb2RlYCBpcyBgQXJyb3dLZXlOYXZpZ2F0aW9uLm1vZGUuVkVSVElDQUxgIG9yIGBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5CT1RIYFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJvd0tleU5hdmlnYXRpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgbW9kZSA9IHtcbiAgICAgICAgSE9SSVpPTlRBTDogJ0hPUklaT05UQUwnLFxuICAgICAgICBWRVJUSUNBTDogJ1ZFUlRJQ0FMJyxcbiAgICAgICAgQk9USDogJ0JPVEgnLFxuICAgIH1cblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgICAgQW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAgICBBbGxvd3MgZm9yIGEgcGFydGljdWxhciBjaGlsZCB0byBiZSBpbml0aWFsbHkgcmVhY2hhYmxlIHZpYSB0YWJiaW5nXG4gICAgICAgICovXG4gICAgICAgIGRlZmF1bHRBY3RpdmVDaGlsZEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgICAgQ29udHJvbHMgd2hlbiBhcnJvdyBrZXkgcHJlc3NlcyB3aWxsIGJlIGNhdWdodCBieSBjb21wb25lbnQgYW5kIHJlc3VsdCBpbiB0aGUgYWN0aXZlIGl0ZW0gYmVpbmcgaW5jcmVtZW50ZWQgb3IgZGVjcmVtZW50ZWRcbiAgICAgICAgKi9cbiAgICAgICAgbW9kZTogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKEFycm93S2V5TmF2aWdhdGlvbi5tb2RlKSksXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY29tcG9uZW50OiAnZGl2JyxcbiAgICAgICAgZGVmYXVsdEFjdGl2ZUNoaWxkSW5kZXg6IDAsXG4gICAgICAgIG1vZGU6IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEgsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKEFycm93S2V5TmF2aWdhdGlvbi5kZWZhdWx0UHJvcHMpXG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgYWN0aXZlQ2hpbGRJbmRleDogdGhpcy5wcm9wcy5kZWZhdWx0QWN0aXZlQ2hpbGRJbmRleCxcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYWN0aXZlQ2hpbGRJbmRleCAhPT0gcHJldlN0YXRlLmFjdGl2ZUNoaWxkSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5zdGF0ZS5hY3RpdmVDaGlsZEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZUNoaWxkSW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG51bUNoaWxkcmVuID0gICBuZXh0UHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBSZWFjdC5DaGlsZHJlbi5jb3VudChuZXh0UHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcblxuICAgICAgICAgICAgaWYgKG51bUNoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlQ2hpbGRJbmRleDogMH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmFjdGl2ZUNoaWxkSW5kZXggPj0gbnVtQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVDaGlsZEluZGV4OiBudW1DaGlsZHJlbiAtIDF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEZvY3VzKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IChcbiAgICAgICAgICAgIHRoaXMucmVmcy53cmFwcGVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICA/IHRoaXMucmVmcy53cmFwcGVyXG4gICAgICAgICAgOiBmaW5kRE9NTm9kZSh0aGlzLnJlZnMud3JhcHBlcilcbiAgICAgICAgKS5jaGlsZHJlbltpbmRleF07XG5cbiAgICAgICAgaWYgKGNoaWxkTm9kZSAmJiBjaGlsZE5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXNraXAnKSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlRm9jdXMoXG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcgPyAtMSA6IDFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGROb2RlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgY2hpbGROb2RlLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlRm9jdXMoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtQ2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcblxuICAgICAgICBsZXQgbmV4dEluZGV4ID0gdGhpcy5zdGF0ZS5hY3RpdmVDaGlsZEluZGV4ICsgZGVsdGE7XG5cbiAgICAgICAgaWYgKG5leHRJbmRleCA+PSBudW1DaGlsZHJlbikge1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gMDsgLy8gbG9vcFxuICAgICAgICB9IGVsc2UgaWYgKG5leHRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIG5leHRJbmRleCA9IG51bUNoaWxkcmVuIC0gMTsgLy8gcmV2ZXJzZSBsb29wXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVDaGlsZEluZGV4OiBuZXh0SW5kZXh9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubW9kZSA9PT0gQXJyb3dLZXlOYXZpZ2F0aW9uLm1vZGUuVkVSVElDQUxcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEgpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUZvY3VzKC0xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkhPUklaT05UQUxcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEgpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUZvY3VzKC0xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLlZFUlRJQ0FMXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5tb2RlID09PSBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5CT1RIKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cygxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RlID09PSBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5IT1JJWk9OVEFMXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5tb2RlID09PSBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5CT1RIKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cygxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLm9uS2V5RG93bikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWZvY3VzLWluZGV4JykpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1mb2N1cy1pbmRleCcpLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbilbaW5kZXhdO1xuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVDaGlsZEluZGV4OiBpbmRleH0pO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucHJvcHMub25Gb2N1cykge1xuICAgICAgICAgICAgICAgIGNoaWxkLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAodGhpcy5wcm9wcy5jaGlsZHJlbiwgKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgICAgICAgICdkYXRhLWZvY3VzLWluZGV4JzogaW5kZXgsXG4gICAgICAgICAgICAgICAgJ2RhdGEtc2tpcCc6IHBhcnNlSW50KGNoaWxkLnByb3BzLnRhYkluZGV4LCAxMCkgPT09IC0xIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBrZXk6IGNoaWxkLmtleSB8fCBpbmRleCxcbiAgICAgICAgICAgICAgICB0YWJJbmRleDogdGhpcy5zdGF0ZS5hY3RpdmVDaGlsZEluZGV4ID09PSBpbmRleCA/IDAgOiAtMSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBBcnJvd0tleU5hdmlnYXRpb24uaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5oYW5kbGVGb2N1c31cbiAgICAgICAgICAgICAgICBvbktleURvd249e3RoaXMuaGFuZGxlS2V5RG93bn0+XG4gICAgICAgICAgICAgICAge3RoaXMuY2hpbGRyZW4oKX1cbiAgICAgICAgICAgIDwvdGhpcy5wcm9wcy5jb21wb25lbnQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLWZ1bmN0aW9uL2luZGV4JztcbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuXG4vKipcbiMgQnV0dG9uXG5fX0EgY29udHJvbCB3aXRoIFwicHJlc3NlZFwiIHN0YXRlIHN1cHBvcnQuX19cblxuPiBUaGUgQm91bmRsZXNzIFRlYW0gcmVjb21tZW5kcyByZXZpZXdpbmcgdGhlIFtCdXR0b25dKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL1xuVXNlckV4cGVyaWVuY2UvQ29uY2VwdHVhbC9PU1hISUd1aWRlbGluZXMvQ29udHJvbHNCdXR0b25zLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDQ4LVNXMikgc2VjdGlvbiBvZlxudGhlIEFwcGxlIEh1bWFuIEludGVyZmFjZSBHdWlkZWxpbmVzIGZvciBpbnNwaXJhdGlvbiBvZiBkZXNpZ24gcGF0dGVybnMgYW5kIG9wdGltYWwgdXNhZ2Ugb2YgYEJ1dHRvbmAgaW4geW91clxucHJvamVjdC5cblxuQnV0dG9uIGNhbiBiZSB1c2VkIGxpa2UgYSBub3JtYWwgSFRNTCBgPGJ1dHRvbj5gLCBvciB3aGVuIHByb3ZpZGVkIGBwcm9wcy5wcmVzc2VkYCwgY2FuIGJlY29tZSBzdGF0ZWZ1bC4gVGhpbmsgb2YgYSBzdGF0ZWZ1bCBidXR0b24gYXMgbW9yZSBvZiBhIFwidG9nZ2xlXCIsIGxpa2UgdHVybmluZyBvbiBib2xkLW1vZGUgaW4gYSByaWNoIHRleHQgZWRpdG9yLlxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblR5cGUgfCBDb250ZXh0IHwgRXhwZWN0YXRpb25cbi0tLS0gfCAtLS0tLS0tIHwgLS0tLS0tLS0tLS1cbl9fS2V5Ym9hcmRfXyB8IGBbRW50ZXIsIFNwYWNlXWAgKHVucHJlc3NlZCkgfCB0cmlnZ2VyIHRoZSBgb25QcmVzc2VkYCBoYW5kbGVyXG5fX0tleWJvYXJkX18gfCBgW0VudGVyLCBTcGFjZV1gIChwcmVzc2VkKSB8IHRyaWdnZXIgdGhlIGBvblVucHJlc3NlZGAgaGFuZGxlclxuX19Nb3VzZV9fIHwgYGNsaWNrYCAodW5wcmVzc2VkKSB8IHRyaWdnZXIgdGhlIGBvblByZXNzZWRgIGhhbmRsZXJcbl9fTW91c2VfXyB8IGBjbGlja2AgKHByZXNzZWQpIHwgdHJpZ2dlciB0aGUgYG9uVW5wcmVzc2VkYCBoYW5kbGVyXG5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgICAgQW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgXSksXG5cbiAgICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB3aGVuIHRoZSBlbGVtZW50IGJlY29tZXMgXCJwcmVzc2VkXCIgb3IgdHJpZ2dlcmVkIGJ5IHRoZSB1c2VyIChtb3VzZSBvciBrZXlib2FyZCk7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlOyB0aGlzIGZ1bmN0aW9uIHdpbGwgc3RpbGwgYmUgY2FsbGVkIGlmIGBwcm9wcy5wcmVzc2VkYCBpcyBub3QgcGFzc2VkXG4gICAgICAgICAqL1xuICAgICAgICBvblByZXNzZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIFwidW5wcmVzc2VkXCI7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBvblVucHJlc3NlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVuYWJsZXMgXCJwcmVzc2VkXCIgc3VwcG9ydCBhbmQgYWRkcyB0aGUgYGFyaWEtcHJlc3NlZGAgYXR0cmlidXRlIHRvIHRoZSBgLmItYnV0dG9uYCBub2RlOyBlc3NlbnRpYWxseSBhIFwic3RhdGVmdWxcIiBidXR0b24gKHNlZSB0aGUgXCJ1bnByZXNzZWQvcHJlc3NlZFwiIGV4YW1wbGUgZGVtbyBhYm92ZSlcbiAgICAgICAgICovXG4gICAgICAgIHByZXNzZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBjb21wb25lbnQ6ICdidXR0b24nLFxuICAgICAgICBvbkNsaWNrOiBub29wLFxuICAgICAgICBvblByZXNzZWQ6IG5vb3AsXG4gICAgICAgIG9uVW5wcmVzc2VkOiBub29wLFxuICAgICAgICBwcmVzc2VkOiB1bmRlZmluZWQsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKEJ1dHRvbi5kZWZhdWx0UHJvcHMpXG5cbiAgICB0b2dnbGVTdGF0ZShldmVudCkge1xuICAgICAgICB0aGlzLnByb3BzW3RoaXMucHJvcHMucHJlc3NlZCA/ICdvblVucHJlc3NlZCcgOiAnb25QcmVzc2VkJ10oZXZlbnQpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMudG9nZ2xlU3RhdGUoZXZlbnQpO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMub25DbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgY2FzZSAnU3BhY2UnOlxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlU3RhdGUoZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5vbktleURvd24pKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBCdXR0b24uaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J2J1dHRvbidcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWJ1dHRvbicsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdiLWJ1dHRvbi1wcmVzc2FibGUnOiB0eXBlb2YgdGhpcy5wcm9wcy5wcmVzc2VkICE9PSAndW5kZWZpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ2ItYnV0dG9uLXByZXNzZWQnOiB0aGlzLnByb3BzLnByZXNzZWQsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgYXJpYS1wcmVzc2VkPXt0aGlzLnByb3BzLnByZXNzZWR9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMuY29tcG9uZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIEFkZHMgYSBwcmVmaXggc28gaXQgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyBhbiBIVE1MIElELlxuICogQmFzZWQgb24ge0BsaW5rIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODMgdGhpcyBpbXBsZW1lbnRhdGlvbn0uXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBhIHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQGV4YW1wbGVcbiAqIHV1aWQoKTsgLy8gYi0xZjJjZDI3Zi0wNzU0LTQzNDQtOWQyMC00MzZhMjAxYjJmODBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXVpZCgpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIHJldHVybiAnYi0nICsgKFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGE9PihhXk1hdGgucmFuZG9tKCkqMTY+PmEvNCkudG9TdHJpbmcoMTYpKTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG59XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLWZ1bmN0aW9uL2luZGV4JztcbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuaW1wb3J0IHV1aWQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLXV1aWQvaW5kZXgnO1xuXG4vKipcbiMgQ2hlY2tib3hcbl9fQW4gYWNjZXNzaWJsZSBjaGVja2JveCB3aXRoIGluZGV0ZXJtaW5hdGUgc3VwcG9ydC5fX1xuXG5DaGVja2JveCBpcyBpbXBsZW1lbnRlZCBhcyBhIFwiY29udHJvbGxlZCBpbnB1dFwiLCBtZWFuaW5nIGl0IGlzIGEgZGlyZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtb2RlbCBkYXRhIHBhc3NlZFxuaW5zaWRlLiBVc2VyIGludGVyYWN0aW9uIHdpbGwgYnViYmxlIGNoYW5nZXMgaW4gdGhlIGZvcm0gb2YgYG9uQ2hlY2tlZGAgYW5kIGBvblVuY2hlY2tlZGAgdGhhdCBhIGNvbnRyb2xsZXJcbnZpZXcgbXVzdCBpbnRlcmNlcHQgYW5kIGFwcGx5IGFnYWluc3QgdGhlIGRhdGEgcHJvdmlkZXIuXG5cbj4gVGhlIEJvdW5kbGVzcyBUZWFtIHJlY29tbWVuZHMgcmV2aWV3aW5nIHRoZSBbQ2hlY2tib3hdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL1xuVXNlckV4cGVyaWVuY2UvQ29uY2VwdHVhbC9PU1hISUd1aWRlbGluZXMvQ29udHJvbHNCdXR0b25zLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDQ4LVNXOSkgc2VjdGlvblxub2YgdGhlIEFwcGxlIEh1bWFuIEludGVyZmFjZSBHdWlkZWxpbmVzIGZvciBpbnNwaXJhdGlvbiBvZiBkZXNpZ24gcGF0dGVybnMgYW5kIG9wdGltYWwgdXNhZ2Ugb2YgYENoZWNrYm94YFxuaW4geW91ciBwcm9qZWN0LlxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblR5cGUgfCBDb250ZXh0IHwgRXhwZWN0YXRpb25cbi0tLS0gfCAtLS0tLS0tIHwgLS0tLS0tLS0tLS1cbl9fS2V5Ym9hcmRfXyB8IGBbRW50ZXIsIFNwYWNlXWAgfCBzaG91bGQgdG9nZ2xlIHRoZSBgY2hlY2tlZGAgc3RhdGVcbl9fTW91c2VfXyB8IGBjbGlja2AgfCBzaG91bGQgdG9nZ2xlIHRoZSBgY2hlY2tlZGAgc3RhdGUsIGZvY3VzIHRoZSBjaGVja2JveFxuXG5FdmVudHMgd2lsbCBub3QgYmUgcHJveGllZCBpZiB0aGUgaW5wdXQgaXMgaW4gXCJkaXNhYmxlZFwiIHN0YXRlLCB2aWEgdGhlIEhUTUw1IGBkaXNhYmxlZGAgYXR0cmlidXRlLlxuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrYm94IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFsbCBpbnB1dC1zcGVjaWZpYyBwcm9wcyBsaWtlIGB2YWx1ZWAsIGBuYW1lYCwgZXRjIHNob3VsZCBiZSBwYXNzZWQgaGVyZSAtLSBjb21tb24gb25lcyBhcmUgbGlzdGVkIGJlbG93LlxuICAgICAgICAgKiBBbHNvIHN1cHBvcnRzIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWNoZWNrYm94YCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBpbnB1dFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBkZXRlcm1pbmVzIGlmIHRoZSBjaGVja2JveCBpcyByZW5kZXJlZCBhcyBjaGVja2VkL3VuY2hlY2tlZCwgc2VlIFJlYWN0IFtcImNvbnRyb2xsZWQgaW5wdXRzXCJdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvZm9ybXMuaHRtbCNjb250cm9sbGVkLWNvbXBvbmVudHMpKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjaGVja2VkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAgICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHByZXZlbnRzIHRoZSBgb257Q2hlY2tlZCxVbmNoZWNrZWR9YCBldmVudHMgZnJvbSBmaXJpbmcgd2hlbiBgdHJ1ZWBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgICAgICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogZW5hYmxlcyBvciBkaXNhYmxlcyBcIm1peGVkXCIgY2hlY2tib3ggc3RhdGUsIHJlYWQgdGhpcyBbQ1NTLVRyaWNrcyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2luZGV0ZXJtaW5hdGUtY2hlY2tib3hlcy8pICBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHJlbmRlcmVkIGFzIHRoZSBpbnB1dCBjb250cm9sJ3MgZm9ybSBuYW1lXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogIHBhc3NlZC10aHJvdWdoIHRvIHRoZSBpbnB1dCBub2RlLCBsaWtlIGBuYW1lYFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgfSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBSZWFjdC1yZW5kZXJhYmxlIGNvbnRlbnQsIG1vc3QgY29tbW9ubHkgYSBzaW1wbGUgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWNoZWNrYm94LWxhYmVsYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIGNoZWNrZWQ7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBvbkNoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIHVuY2hlY2tlZDsgYmFja2luZyBkYXRhIG11c3QgYmUgdXBkYXRlZCB0byBwZXJzaXN0IHRoZSBzdGF0ZSBjaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIG9uVW5jaGVja2VkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBsYWJlbDogbnVsbCxcbiAgICAgICAgbGFiZWxQcm9wczoge30sXG4gICAgICAgIG9uQ2hlY2tlZDogbm9vcCxcbiAgICAgICAgb25VbmNoZWNrZWQ6IG5vb3AsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKENoZWNrYm94LmRlZmF1bHRQcm9wcylcblxuICAgIGlkID0gdXVpZCgpXG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEluZGV0ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgaWYgKHByZXZQcm9wcy5pbnB1dFByb3BzLmluZGV0ZXJtaW5hdGUgIT09IHRoaXMucHJvcHMuaW5wdXRQcm9wcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEluZGV0ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEluZGV0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMucmVmcy5pbnB1dC5pbmRldGVybWluYXRlID0gISF0aGlzLnByb3BzLmlucHV0UHJvcHMuaW5kZXRlcm1pbmF0ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVDaGFuZ2UgPSAoZXZlbnQpID0+IHsgLy8gU2VuZCB0aGUgb3Bwb3NpdGUgc2lnbmFsIGZyb20gd2hhdCB3YXMgcGFzc2VkIHRvIHRvZ2dsZSB0aGUgZGF0YVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbnB1dFByb3BzLmRpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMucHJvcHNbIXRoaXMucHJvcHMuaW5wdXRQcm9wcy5jaGVja2VkID8gJ29uQ2hlY2tlZCcgOiAnb25VbmNoZWNrZWQnXSh0aGlzLnByb3BzLmlucHV0UHJvcHMubmFtZSk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlucHV0UHJvcHMuZGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2xpY2spKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmlucHV0UHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBcmlhU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmlucHV0UHJvcHMuaW5kZXRlcm1pbmF0ZSA/ICdtaXhlZCcgOiBTdHJpbmcodGhpcy5wcm9wcy5pbnB1dFByb3BzLmNoZWNrZWQpO1xuICAgIH1cblxuICAgIHJlbmRlcklucHV0KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcy5pbnB1dFByb3BzLCAnaW5kZXRlcm1pbmF0ZScpfVxuICAgICAgICAgICAgICAgIHJlZj0naW5wdXQnXG4gICAgICAgICAgICAgICAgdHlwZT0nY2hlY2tib3gnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1jaGVja2JveCcsIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ItY2hlY2tib3gtbWl4ZWQnOiB0aGlzLnByb3BzLmlucHV0UHJvcHMuaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2ItY2hlY2tib3gtY2hlY2tlZCc6IHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAnYi1jaGVja2JveC11bmNoZWNrZWQnOiAhdGhpcy5wcm9wcy5pbnB1dFByb3BzLmluZGV0ZXJtaW5hdGUgJiYgIXRoaXMucHJvcHMuaW5wdXRQcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlucHV0UHJvcHMuaWQgfHwgdGhpcy5pZH1cbiAgICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e3RoaXMuZ2V0QXJpYVN0YXRlKCl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyTGFiZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5sYWJlbFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2xhYmVsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWNoZWNrYm94LWxhYmVsJywgdGhpcy5wcm9wcy5sYWJlbFByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuaW5wdXRQcm9wcy5pZCB8fCB0aGlzLmlkfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgQ2hlY2tib3guaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1jaGVja2JveC13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbnB1dCgpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckxhYmVsKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vYm91bmRsZXNzLWNoZWNrYm94L2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuXG4vKipcbiMgQ2hlY2tib3hHcm91cFxuX19BIGNvbnRyb2xsZXIgdmlldyBmb3IgbWFuYWdpbmcgdGhlIGFnZ3JlZ2F0ZSBzdGF0ZSBvZiBtdWx0aXBsZSwgcmVsYXRlZCBjaGVja2JveGVzLl9fXG5cblRoZSBtb3N0IGNvbW1vbiB1c2UgY2FzZSBmb3IgYENoZWNrYm94R3JvdXBgIGlzIGEgXCJzZWxlY3QgYWxsXCIgLyBjaGlsZHJlbiBzY2VuYXJpby4gVGhpcyBwYXJ0aWN1bGFyXG5jb25maWd1cmF0aW9uIGlzIGJ1aWx0LWluIGFuZCBpcyBhY3RpdmF0ZWQgYnkgcGFzc2luZyB0aGUgYHNlbGVjdEFsbGAgcHJvcC5cblxuPiBUaGUgQm91bmRsZXNzIFRlYW0gcmVjb21tZW5kcyByZXZpZXdpbmcgdGhlIFtDaGVja2JveF0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvbWFjL2RvY3VtZW50YXRpb24vXG5Vc2VyRXhwZXJpZW5jZS9Db25jZXB0dWFsL09TWEhJR3VpZGVsaW5lcy9Db250cm9sc0J1dHRvbnMuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkLzIwMDAwOTU3LUNINDgtU1c5KSBzZWN0aW9uIG9mXG50aGUgQXBwbGUgSHVtYW4gSW50ZXJmYWNlIEd1aWRlbGluZXMgZm9yIGluc3BpcmF0aW9uIG9mIGRlc2lnbiBwYXR0ZXJucyBhbmQgb3B0aW1hbCB1c2FnZSBvZiBgQ2hlY2tib3hgXG5pbiB5b3VyIHByb2plY3QuXG5cblxuIyMjIEludGVyYWN0aW9uc1xuXG5UeXBlIHwgQ29udGV4dCB8IEV4cGVjdGF0aW9uXG4tLS0tIHwgLS0tLS0tLSB8IC0tLS0tLS0tLS0tXG5fX0tleWJvYXJkX18gfCBgW0VudGVyLCBTcGFjZV1gIG9uIFwiU2VsZWN0IEFsbFwiIHwgc2hvdWxkIHRvZ2dsZSB0aGUgYGNoZWNrZWRgIHN0YXRlIGZvciBhbGwgY2hpbGRyZW4gdG8gZnVsbHkgb24gb3IgZnVsbHkgb2ZmXG5fX0tleWJvYXJkX18gfCBgW0VudGVyLCBTcGFjZV1gIG9uIGNoaWxkIHwgc2hvdWxkIHRyaWdnZXIgaW5kZXRlcm1pbmF0ZSBzdGF0ZSBvbiBcInNlbGVjdCBhbGxcIiBjaGVja2JveCBpZiBhbGwgY2hpbGRyZW4gYXJlIG5vdCB0aGUgc2FtZSBzdGF0ZVxuX19Nb3VzZV9fIHwgYGNsaWNrYCBvbiBcIlNlbGVjdCBBbGxcIiB8IHNob3VsZCB0b2dnbGUgdGhlIGBjaGVja2VkYCBzdGF0ZSBmb3IgYWxsIGNoaWxkcmVuXG5fX01vdXNlX18gfCBgY2xpY2tgIG9uIGNoaWxkIHwgc2hvdWxkIHRyaWdnZXIgaW5kZXRlcm1pbmF0ZSBzdGF0ZSBvbiBcInNlbGVjdCBhbGxcIiBjaGVja2JveCBpZiBhbGwgY2hpbGRyZW4gYXJlIG5vdCB0aGUgc2FtZSBzdGF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGVja2JveEdyb3VwIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIENvbnN0YW50cyA9IHtcbiAgICAgICAgU0VMRUNUX0FMTF9CRUZPUkU6ICdTRUxFQ1RfQUxMX0JFRk9SRScsXG4gICAgICAgIFNFTEVDVF9BTExfQUZURVI6ICdTRUxFQ1RfQUxMX0FGVEVSJyxcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGRhdGEgd2lzaGVkIHRvIGJlIHJlbmRlcmVkLCBlYWNoIGl0ZW0gbXVzdCBjb25mb3JtIHRvIHRoZSBbQ2hlY2tib3ggcHJvcCBzcGVjXSguLi9DaGVja2JveCNwcm9wcylcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBQcm9wVHlwZXMuYXJyYXlPZihDaGVja2JveC5wcm9wVHlwZXMuaW5wdXRQcm9wcykuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdoZW4gYWxsIGNoaWxkcmVuIGJlY29tZSBjaGVja2VkIChub3QgZmlyZWQgb24gZmlyc3QgcmVuZGVyKSwgbm8gcmV0dXJuXG4gICAgICAgICAqL1xuICAgICAgICBvbkFsbENoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhbGwgY2hpbGRyZW4gYmVjb21lIHVuY2hlY2tlZCAobm90IGZpcmVkIG9uIGZpcnN0IHJlbmRlciksIG5vIHJldHVyblxuICAgICAgICAgKi9cbiAgICAgICAgb25BbGxVbmNoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhIHNwZWNpZmljIGNoaWxkIGhhcyBiZWNvbWUgY2hlY2tlZCwgcmV0dXJucyB0aGUgY2hpbGQgZGVmaW5pdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb25DaGlsZENoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhIHNwZWNpZmljIGNoaWxkIGhhcyBiZWNvbWUgY2hlY2tlZCwgcmV0dXJucyB0aGUgY2hpbGQgZGVmaW5pdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb25DaGlsZFVuY2hlY2tlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbmRlcnMgYSBtYXN0ZXIgY2hlY2tib3ggdGhhdCBjYW4gbWFuaXB1bGF0ZSB0aGUgdmFsdWVzIG9mIGFsbCBjaGlsZHJlbiBzaW11bHRhbmVvdXNseVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0QWxsOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogbXVzdCBjb25mb3JtIHRvIHRoZSBbQ2hlY2tib3ggcHJvcCBzcGVjXSguLi9DaGVja2JveCNwcm9wcylcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdEFsbFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiB0aGUgdGV4dCBvciByZW5kZXJhYmxlIG5vZGUgdG8gZGlzcGxheSBuZXh0IHRvIHRoZSBjaGVja2JveFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIGlucHV0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgIH0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAoc2VlIFt0aGUgaW1wbGVtZW50YXRpb25dKGluZGV4LmpzKSkgdGhlIHJlbmRlcmluZyBwb3NpdGlvbiBvZiB0aGUgXCJzZWxlY3QgYWxsXCIgY2hlY2tib3gsIGRlZmF1bHRzIHRvIFwiYmVmb3JlXCJcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdEFsbFBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoQ2hlY2tib3hHcm91cC5Db25zdGFudHMpKSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIG9uQWxsQ2hlY2tlZDogbm9vcCxcbiAgICAgICAgb25BbGxVbmNoZWNrZWQ6IG5vb3AsXG4gICAgICAgIG9uQ2hpbGRDaGVja2VkOiBub29wLFxuICAgICAgICBvbkNoaWxkVW5jaGVja2VkOiBub29wLFxuICAgICAgICBzZWxlY3RBbGw6IGZhbHNlLFxuICAgICAgICBzZWxlY3RBbGxQcm9wczoge30sXG4gICAgICAgIHNlbGVjdEFsbFBvc2l0aW9uOiBDaGVja2JveEdyb3VwLkNvbnN0YW50cy5TRUxFQ1RfQUxMX0JFRk9SRSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoQ2hlY2tib3hHcm91cC5kZWZhdWx0UHJvcHMpXG5cbiAgICBhbGxJdGVtc0NoZWNrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLml0ZW1zLmV2ZXJ5KChpdGVtKSA9PiBpdGVtLmlucHV0UHJvcHMuY2hlY2tlZCA9PT0gdHJ1ZSk7XG4gICAgfVxuXG4gICAgYW55SXRlbXNDaGVja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5pdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLmlucHV0UHJvcHMuY2hlY2tlZCA9PT0gdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyU2VsZWN0QWxsKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RBbGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbENoZWNrZWQgPSB0aGlzLmFsbEl0ZW1zQ2hlY2tlZCgpO1xuICAgICAgICAgICAgY29uc3Qge2lucHV0UHJvcHN9ID0gdGhpcy5wcm9wcy5zZWxlY3RBbGxQcm9wcztcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuc2VsZWN0QWxsUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIHJlZj0nc2VsZWN0X2FsbCdcbiAgICAgICAgICAgICAgICAgICAga2V5PSdjYl9zZWxlY3RfYWxsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWNoZWNrYm94LWdyb3VwLXNlbGVjdGFsbCcsIHRoaXMucHJvcHMuc2VsZWN0QWxsUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaW5wdXRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IGFsbENoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlOiAhYWxsQ2hlY2tlZCAmJiB0aGlzLmFueUl0ZW1zQ2hlY2tlZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaW5wdXRQcm9wcyAmJiBpbnB1dFByb3BzLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaW5wdXRQcm9wcy5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdjYl9zZWxlY3RfYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3RoaXMucHJvcHMuc2VsZWN0QWxsUHJvcHMubGFiZWwgfHwgJ1NlbGVjdCBBbGwnfVxuICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWQ9e3RoaXMucHJvcHMub25BbGxDaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICBvblVuY2hlY2tlZD17dGhpcy5wcm9wcy5vbkFsbFVuY2hlY2tlZH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDaGVja2JveGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5pdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgIHsuLi5pdGVtfVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaW5wdXRQcm9wcy5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBvbkNoZWNrZWQ9e3RoaXMucHJvcHMub25DaGlsZENoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uVW5jaGVja2VkPXt0aGlzLnByb3BzLm9uQ2hpbGRVbmNoZWNrZWR9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXJDaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3QgdG9CZVJlbmRlcmVkID0gW3RoaXMucmVuZGVyQ2hlY2tib3hlcygpXTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RBbGwgJiYgdGhpcy5wcm9wcy5zZWxlY3RBbGxQb3NpdGlvbikge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLnByb3BzLnNlbGVjdEFsbFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIENoZWNrYm94R3JvdXAuQ29uc3RhbnRzLlNFTEVDVF9BTExfQkVGT1JFOlxuICAgICAgICAgICAgICAgIHRvQmVSZW5kZXJlZC51bnNoaWZ0KHRoaXMucmVuZGVyU2VsZWN0QWxsKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIENoZWNrYm94R3JvdXAuQ29uc3RhbnRzLlNFTEVDVF9BTExfQUZURVI6XG4gICAgICAgICAgICAgICAgdG9CZVJlbmRlcmVkLnB1c2godGhpcy5yZW5kZXJTZWxlY3RBbGwoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9CZVJlbmRlcmVkO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBDaGVja2JveEdyb3VwLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSdncm91cCdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWNoZWNrYm94LWdyb3VwJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDaGlsZHJlbigpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcbmltcG9ydCB1dWlkIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy11dWlkL2luZGV4JztcblxuLyoqXG4jIFBvcnRhbFxuX19BIGhpZ2hlci1vcmRlciBjb21wb25lbnQgZm9yIHRoZSByZW5kZXJpbmcgb2YgY29tcG9uZW50cyBvdXRzaWRlIHRoZSBub3JtYWwgUmVhY3QgdHJlZS5fX1xuXG5gUG9ydGFsYCBpcyB1c2VkIGluIG90aGVyIGNvbXBvbmVudHMgc3VjaCBhcyBgUG9wb3ZlcmAgdG8gcmVuZGVyIGNvbnRlbnQgdG8gcGxhY2VzIGxpa2UgdGhlIEhUTUwgYDxib2R5PmAgdGFnLCBhdm9pZGluZyBzdHlsZSBsZWFrYWdlIGFuZCBwYXJlbnQgbGF5b3V0IGNvbnRleHRzLiBPbmx5IGFjY2VwdHMgYSBzaW5nbGUgdG9wLWxldmVsIGNoaWxkOyBuYWtlZCB0ZXh0LCBldGMgd2lsbCBiZSB3cmFwcGVkIGluIGEgYDxkaXY+YC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9ydGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvLyBzaW5nbGUgY2hpbGQgb25seSAtIGFycmF5cyBub3QgYWxsb3dlZFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgbm9ybWFsIFJlYWN0IGNoaWxkLCBidXQgbXVzdCBiZSBzaW5ndWxhcjsgbXVsdGlwbGUgc2libGluZyBjaGlsZHJlbiBtdXN0IGhhdmUgYSBjb21tb24gd3JhcHBlciwgc3VjaCBhcyBhIFwibGF5b3V0XCIgYDxkaXY+YFxuXG4gICAgICAgICAqIOKchSBPSzpcblxuICAgICAgICAgKiBgYGBqc3hcbiAgICAgICAgICogPFBvcnRhbD5cbiAgICAgICAgICogICBmb29cbiAgICAgICAgICogPC9Qb3J0YWw+XG5cbiAgICAgICAgICogPFBvcnRhbD5cbiAgICAgICAgICogICA8ZGl2PmZvbzwvZGl2PlxuICAgICAgICAgKiA8L1BvcnRhbD5cblxuICAgICAgICAgKiA8UG9ydGFsPlxuICAgICAgICAgKiAgIDxkaXY+XG4gICAgICAgICAqICAgICAgIDxkaXY+Zm9vPC9kaXY+XG4gICAgICAgICAqICAgICAgIDxkaXY+YmFyPC9kaXY+XG4gICAgICAgICAqICAgPC9kaXY+XG4gICAgICAgICAqIDwvUG9ydGFsPlxuICAgICAgICAgKiBgYGBcblxuICAgICAgICAgKiDim5TvuI8gTm90IE9LOlxuXG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiA8UG9ydGFsPlxuICAgICAgICAgKiAgIDxkaXY+Zm9vPC9kaXY+XG4gICAgICAgICAqICAgPGRpdj5iYXI8L2Rpdj5cbiAgICAgICAgICogPC9Qb3J0YWw+XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgY2hpbGRyZW46IFJlYWN0LlByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBsb2NhdGlvbiB0byBhcHBlbmQgdGhlIGdlbmVyYXRlZCBwb3J0YWwgYW5kIGNoaWxkIGVsZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0aW5hdGlvbjogUHJvcFR5cGVzLmluc3RhbmNlT2Yod2luZG93LkhUTUxFbGVtZW50KSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIElEIHVzZWQgdG8gbGluayB0aGUgcG9ydGFsIG9yaWdpbiB0byB0aGUgZGVzdGluYXRpb247IGFkZGVkIHRvIGdlbmVyYXRlZCBgPGRpdj5gIGFwcGVuZGVkIHRvIHRoZSBkZXN0aW5hdGlvbiBIVE1MIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHBvcnRhbElkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBkZXN0aW5hdGlvbjogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgcG9ydGFsSWQ6IG51bGwsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKFBvcnRhbC5kZWZhdWx0UHJvcHMpXG5cbiAgICBzdGF0aWMgUE9SVEFMX0RBVEFfQVRUUklCVVRFID0gJ2RhdGEtcG9ydGFsLWlkJ1xuXG4gICAgaWQgPSB1dWlkKClcblxuICAgIC8vIHRoZSA8ZGl2PiB0aGF0IHRoZSBjaGlsZHJlbiBhcmUgcmVuZGVyZWQgaW50b1xuICAgICRwb3J0YWwgPSBudWxsXG5cbiAgICAvLyB0aGUgdG9wLWxldmVsIGNoaWxkIHJlbmRlcmVkIGludG8gdGhlICRwb3J0YWxcbiAgICAkcGFzc2VuZ2VyID0gbnVsbDtcblxuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdGhpcy4kcG9ydGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMucHJvcHMuZGVzdGluYXRpb24uYXBwZW5kQ2hpbGQodGhpcy4kcG9ydGFsKTtcblxuICAgICAgICB0aGlzLnJlbmRlclBvcnRhbGxlZENvbnRlbnQoKTtcbiAgICB9XG5cbiAgICByZW5kZXJQb3J0YWxsZWRDb250ZW50KCkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4pID8gdGhpcy5wcm9wcy5jaGlsZHJlbiA6ICg8ZGl2Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvZGl2Pik7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBwb3J0YWwgSUQgbGluayBpZiBuZWVkZWRcbiAgICAgICAgdGhpcy4kcG9ydGFsLmlkID0gdGhpcy5wcm9wcy5wb3J0YWxJZCB8fCB0aGlzLmlkO1xuXG4gICAgICAgIFJlYWN0RE9NLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHRoaXMsIGNoaWxkLCB0aGlzLiRwb3J0YWwpO1xuICAgICAgICB0aGlzLiRwYXNzZW5nZXIgPSB0aGlzLiRwb3J0YWwuY2hpbGRyZW5bMF07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkgeyB0aGlzLnJlbmRlclBvcnRhbGxlZENvbnRlbnQoKTsgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy4kcG9ydGFsKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kZXN0aW5hdGlvbi5yZW1vdmVDaGlsZCh0aGlzLiRwb3J0YWwpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgUG9ydGFsLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgey4uLntbUG9ydGFsLlBPUlRBTF9EQVRBX0FUVFJJQlVURV06IHRoaXMucHJvcHMucG9ydGFsSWQgfHwgdGhpcy5pZH19IC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBQb3J0YWwgZnJvbSAnLi4vYm91bmRsZXNzLXBvcnRhbC9pbmRleCc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5pbXBvcnQgdXVpZCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtdXVpZC9pbmRleCc7XG5cbmNvbnN0IHRvQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8qKlxuIyBEaWFsb2dcbl9fQSBub24tYmxvY2tpbmcsIGZvY3VzLXN0ZWFsaW5nIGNvbnRhaW5lci5fX1xuXG5BIGRpYWxvZyBkaWZmZXJzIGZyb20gYSBtb2RhbCBpbiB0aGF0IGl0IGRvZXMgbm90IGNvbWUgd2l0aCBhIG1hc2tpbmcgbGF5ZXIgKHRvIG9ic2N1cmUgdGhlIHJlc3Qgb2YgdGhlIHBhZ2UpXG5hbmQgdGhlIHVzZXIgY2FuIGNob29zZSB0byBzaGlmdCBmb2N1cyBhd2F5IGZyb20gdGhlIGRpYWxvZyBjb250ZW50cyB2aWEgbW91c2UgY2xpY2sgb3IgYSBrZXlib2FyZCBzaG9ydGN1dC5cblxuU3BlY2lmaWMgYXJlYXMgKGhlYWRlciwgYm9keSwgZm9vdGVyKSBhcmUgZGVmaW5lZCB0byBwcm92aWRlIGVhc3kgY29uZm9ybWFuY2UgdG8gdGhlXG5bV0FJLUFSSUEgc3BlY10oaHR0cDovL3d3dy53My5vcmcgKiAvVFIvd2FpLWFyaWEvc3RhdGVzX2FuZF9wcm9wZXJ0aWVzI2FyaWEtbGFiZWxsZWRieSkgZm9yIGBhcmlhLWxhYmVsbGVkYnlgXG5hbmQgYGFyaWEtZGVzY3JpYmVkYnlgIChzY3JlZW4gcmVhZGVyICAqIGFjY2Vzc2liaWxpdHkpLiBUaGVpciB1c2UgaXMgb3B0aW9uYWwsIGJ1dCBlbmNvdXJhZ2VkLlxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblR5cGUgfCBDb250ZXh0IHwgRXhwZWN0YXRpb25cbi0tLS0gfCAtLS0tLS0tIHwgLS0tLS0tLS0tLS1cbl9fUmVuZGVyX18gfCBgTi9BYCB8IGZvY3VzIG9uIGRpYWxvZ1xuX19FdmVudF9fIHwgd2luZG93IGBmb2N1c2AgfCBzaG91bGQgYmUgY2FuY2VsbGVkIGlmIG1vdmluZyBpbnNpZGUgLT4gb3V0c2lkZSBkaWFsb2cgaWYgYHByb3BzLmNhcHR1cmVGb2N1c2AgaXMgcnVlYFxuX19LZXlib2FyZF9fIHwgYEVzY2AgfCBzaG91bGQgdHJpZ2dlciBgcHJvcHMub25DbG9zZWAgaWYgYGNsb3NlT25Fc2NLZXkgPT09IHRydWVgXG5fX01vdXNlX18gfCBgQ2xpY2tgIG91dHNpZGUgb2YgZGlhbG9nIHwgc2hvdWxkIHRyaWdnZXIgYHByb3BzLm9uQ2xvc2VgIGlmIGBjbG9zZU9uT3V0c2lkZUNsaWNrID09PSB0cnVlYFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaWFsb2cgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogYXJiaXRyYXJ5IGNvbnRlbnQgdG8gYmUgcmVuZGVyZWQgYWZ0ZXIgdGhlIGRpYWxvZyBpbiB0aGUgRE9NXG4gICAgICAgICAqL1xuICAgICAgICBhZnRlcjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFyYml0cmFyeSBjb250ZW50IHRvIGJlIHJlbmRlcmVkIGJlZm9yZSB0aGUgZGlhbG9nIGluIHRoZSBET01cbiAgICAgICAgICovXG4gICAgICAgIGJlZm9yZTogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWRpYWxvZy1ib2R5YCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBib2R5UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVybWluZXMgaWYgZm9jdXMgaXMgYWxsb3dlZCB0byBtb3ZlIGF3YXkgZnJvbSB0aGUgZGlhbG9nXG4gICAgICAgICAqL1xuICAgICAgICBjYXB0dXJlRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZW5hYmxlIGRldGVjdGlvbiBvZiBcIkVzY2FwZVwiIGtleXByZXNzZXMgdG8gdHJpZ2dlciBgcHJvcHMub25DbG9zZWBcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlT25Fc2NLZXk6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBlbmFibGUgZGV0ZWN0aW9uIG9mIGNsaWNrcyBvdXRzaWRlIHRoZSBkaWFsb2cgYXJlYSB0byB0cmlnZ2VyIGBwcm9wcy5vbkNsb3NlYFxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VPbk91dHNpZGVDbGljazogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVuYWJsZSBkZXRlY3Rpb24gb2YgZm9jdXMgb3V0c2lkZSB0aGUgZGlhbG9nIGFyZWEgdG8gdHJpZ2dlciBgcHJvcHMub25DbG9zZWBcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlT25PdXRzaWRlRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBlbmFibGUgZGV0ZWN0aW9uIG9mIHNjcm9sbCBhbmQgbW91c2V3aGVlbCBldmVudHMgb3V0c2lkZSB0aGUgZGlhbG9nIGFyZWEgdG8gdHJpZ2dlciBgcHJvcHMub25DbG9zZWBcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlT25PdXRzaWRlU2Nyb2xsOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGV4dCwgUmVhY3RFbGVtZW50cywgZXRjLiBjb21wcmlzaW5nIHRoZSBcImZvb3RlclwiIGFyZWEgb2YgdGhlIGRpYWxvZywgZS5nLiBjb25maXJtL2NhbmNlbCBidXR0b25zXG4gICAgICAgICAqL1xuICAgICAgICBmb290ZXI6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1kaWFsb2ctZm9vdGVyYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBmb290ZXJQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGV4dCwgUmVhY3RFbGVtZW50cywgZXRjLiB0byByZXByZXNlbnQgdGhlIFwidGl0bGUgYmFyXCIgYXJlYSBvZiB0aGUgZGlhbG9nXG4gICAgICAgICAqL1xuICAgICAgICBoZWFkZXI6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1kaWFsb2ctaGVhZGVyYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBoZWFkZXJQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBjdXN0b20gZXZlbnQgaGFuZGxlciB0aGF0IGlzIGNhbGxlZCB0byBpbmRpY2F0ZSB0aGF0IHRoZSBkaWFsb2cgc2hvdWxkIGJlIHVucmVuZGVyZWQgYnkgaXRzIHBhcmVudDsgdGhlIGV2ZW50IG9jY3VycyBpZiBvbmUgb3IgbW9yZSBvZiB0aGUgYGNsb3NlT25gIHByb3BzIChgY2xvc2VPbkVzY0tleWAsIGBjbG9zZU9uT3V0c2lkZUNsaWNrYCwgZXRjLikgYXJlIHBhc3NlZCBhcyBgdHJ1ZWAgYW5kIHRoZSBkaXNtaXNzYWwgY3JpdGVyaWEgYXJlIHNhdGlzZmllZFxuICAgICAgICAgKi9cbiAgICAgICAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWRpYWxvZy13cmFwcGVyYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICB3cmFwcGVyUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgYWZ0ZXI6IG51bGwsXG4gICAgICAgIGJlZm9yZTogbnVsbCxcbiAgICAgICAgYm9keVByb3BzOiB7fSxcbiAgICAgICAgY2FwdHVyZUZvY3VzOiB0cnVlLFxuICAgICAgICBjaGlsZHJlbjogbnVsbCxcbiAgICAgICAgY2xvc2VPbkVzY0tleTogZmFsc2UsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IGZhbHNlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZUZvY3VzOiBmYWxzZSxcbiAgICAgICAgY2xvc2VPbk91dHNpZGVTY3JvbGw6IGZhbHNlLFxuICAgICAgICBmb290ZXI6IG51bGwsXG4gICAgICAgIGZvb3RlclByb3BzOiB7fSxcbiAgICAgICAgaGVhZGVyOiBudWxsLFxuICAgICAgICBoZWFkZXJQcm9wczoge30sXG4gICAgICAgIG9uQ2xvc2U6IG5vb3AsXG4gICAgICAgIHdyYXBwZXJQcm9wczoge30sXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKERpYWxvZy5kZWZhdWx0UHJvcHMpXG5cbiAgICBtb3VudGVkID0gZmFsc2VcblxuICAgIC8vIGZhbGxiYWNrcyBpZiBvbmUgaXNuJ3QgcGFzc2VkXG4gICAgdXVpZEhlYWRlciA9IHV1aWQoKVxuICAgIHV1aWRCb2R5ID0gdXVpZCgpXG5cbiAgICBpc1BhcnRPZkRpYWxvZyhub2RlKSB7XG4gICAgICAgIGlmICghbm9kZSB8fCBub2RlID09PSB3aW5kb3cpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgICAgICAgY29uc3Qgcm9vdHMgPSBbdGhpcy4kd3JhcHBlcl0uY29uY2F0KFxuICAgICAgICAgICAgdG9BcnJheS5jYWxsKFxuICAgICAgICAgICAgICAgIHRoaXMuJHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbChgWyR7UG9ydGFsLlBPUlRBTF9EQVRBX0FUVFJJQlVURX1dYClcbiAgICAgICAgICAgICkubWFwKChkb20pID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRvbS5nZXRBdHRyaWJ1dGUoUG9ydGFsLlBPUlRBTF9EQVRBX0FUVFJJQlVURSkpKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSA/IG5vZGUucGFyZW50Tm9kZSA6IG5vZGU7XG5cbiAgICAgICAgcmV0dXJuIHJvb3RzLnNvbWUoKGRvbSkgPT4gZG9tLmNvbnRhaW5zKGVsZW1lbnQpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2ssIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljaywgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuaGFuZGxlRm9jdXMsIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVPdXRzaWRlU2Nyb2xsV2hlZWwsIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLmhhbmRsZU91dHNpZGVTY3JvbGxXaGVlbCwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FwdHVyZUZvY3VzICYmICF0aGlzLmlzUGFydE9mRGlhbG9nKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLiRkaWFsb2cuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljaywgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZU91dHNpZGVTY3JvbGxXaGVlbCwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuaGFuZGxlT3V0c2lkZVNjcm9sbFdoZWVsLCB0cnVlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVGb2N1cyA9IChuYXRpdmVFdmVudCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMuY2FwdHVyZUZvY3VzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uT3V0c2lkZUZvY3VzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzUGFydE9mRGlhbG9nKG5hdGl2ZUV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucHJvcHMub25DbG9zZSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleHBsaWNpdE9yaWdpbmFsVGFyZ2V0IGlzIGZvciBGaXJlZm94LCBhcyBpdCBkb2Vzbid0IHN1cHBvcnQgcmVsYXRlZFRhcmdldFxuICAgICAgICBsZXQgcHJldmlvdXMgPSBuYXRpdmVFdmVudC5leHBsaWNpdE9yaWdpbmFsVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG5cbiAgICAgICAgaWYgKCAgIHRoaXMuaXNQYXJ0T2ZEaWFsb2cocHJldmlvdXMpXG4gICAgICAgICAgICAmJiAhdGhpcy5pc1BhcnRPZkRpYWxvZyhuYXRpdmVFdmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICBuYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcHJldmlvdXMuZm9jdXMoKTsgLy8gcmVzdG9yZSBmb2N1c1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uRXNjS2V5ICYmIGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucHJvcHMub25DbG9zZSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLm9uS2V5RG93bikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU91dHNpZGVDbGljayA9IChuYXRpdmVFdmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uT3V0c2lkZUNsaWNrICYmICF0aGlzLmlzUGFydE9mRGlhbG9nKG5hdGl2ZUV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucHJvcHMub25DbG9zZSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVPdXRzaWRlU2Nyb2xsV2hlZWwgPSAobmF0aXZlRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2xvc2VPbk91dHNpZGVTY3JvbGwgJiYgIXRoaXMuaXNQYXJ0T2ZEaWFsb2cobmF0aXZlRXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5wcm9wcy5vbkNsb3NlLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckJvZHkoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuYm9keVByb3BzfVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmJvZHlQcm9wcy5pZCB8fCB0aGlzLnV1aWRCb2R5fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItZGlhbG9nLWJvZHknLCB0aGlzLnByb3BzLmJvZHlQcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlckZvb3RlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZm9vdGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxmb290ZXJcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuZm9vdGVyUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItZGlhbG9nLWZvb3RlcicsIHRoaXMucHJvcHMuZm9vdGVyUHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmZvb3Rlcn1cbiAgICAgICAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJIZWFkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8aGVhZGVyXG4gICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLmhlYWRlclByb3BzfVxuICAgICAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5oZWFkZXJQcm9wcy5pZCB8fCB0aGlzLnV1aWRIZWFkZXJ9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItZGlhbG9nLWhlYWRlcicsIHRoaXMucHJvcHMuaGVhZGVyUHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmhlYWRlcn1cbiAgICAgICAgICAgICAgICA8L2hlYWRlcj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJGb2N1c0JvdW5kYXJ5KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXB0dXJlRm9jdXMpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Itb2Zmc2NyZWVuJyB0YWJJbmRleD0nMCcgYXJpYS1oaWRkZW49J3RydWUnPiZuYnNwOzwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0gLy8gdXNlZCB0byBsb2NrIGZvY3VzIGludG8gYSBwYXJ0aWN1bGFyIHN1YnNldCBvZiBET01cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy53cmFwcGVyUHJvcHN9XG4gICAgICAgICAgICAgICAgcmVmPXsobm9kZSkgPT4gKHRoaXMuJHdyYXBwZXIgPSBub2RlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWRpYWxvZy13cmFwcGVyJywgdGhpcy5wcm9wcy53cmFwcGVyUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICB0YWJJbmRleD0nMCc+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyRm9jdXNCb3VuZGFyeSgpfVxuXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuYmVmb3JlfVxuXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBEaWFsb2cuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXsobm9kZSkgPT4gKHRoaXMuJGRpYWxvZyA9IG5vZGUpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWRpYWxvZycsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIHJvbGU9J2RpYWxvZydcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PXt0aGlzLnV1aWRIZWFkZXJ9XG4gICAgICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9e3RoaXMudXVpZEJvZHl9XG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PScwJz5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVySGVhZGVyKCl9XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckJvZHkoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyRm9vdGVyKCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5hZnRlcn1cblxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckZvY3VzQm91bmRhcnkoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2ZpbmRET01Ob2RlfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbmNvbnN0IGluc3RhbmNlcyA9IFtdO1xuXG5mdW5jdGlvbiB0b0koc3RyaW5nTnVtYmVyKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZ051bWJlciwgMTApO1xufVxuXG5mdW5jdGlvbiByZXNjYWxlKGluc3RhbmNlKSB7XG4gICAgY29uc3Qgbm9kZSA9IGZpbmRET01Ob2RlKGluc3RhbmNlKTtcbiAgICBjb25zdCBjb250YWluZXJCb3ggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLnBhcmVudE5vZGUpO1xuICAgIGNvbnN0IGZvbnRTaXplID0gdG9JKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpLmZvbnRTaXplKTtcblxuICAgIGxldCBjb250YWluZXJIZWlnaHQgPSB0b0koY29udGFpbmVyQm94LmhlaWdodCk7XG4gICAgbGV0IGNvbnRhaW5lcldpZHRoID0gdG9JKGNvbnRhaW5lckJveC53aWR0aCk7XG5cbiAgICAvLyBuZWVkIHRvIGFjY291bnQgZm9yIHBhZGRpbmdcbiAgICBpZiAoY29udGFpbmVyQm94LmJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnIHx8IGNvbnRhaW5lckJveC5ib3hTaXppbmcgPT09ICdwYWRkaW5nLWJveCcpIHtcbiAgICAgICAgY29udGFpbmVySGVpZ2h0IC09IHRvSShjb250YWluZXJCb3gucGFkZGluZ1RvcCkgKyB0b0koY29udGFpbmVyQm94LnBhZGRpbmdCb3R0b20pO1xuICAgICAgICBjb250YWluZXJXaWR0aCAtPSB0b0koY29udGFpbmVyQm94LnBhZGRpbmdMZWZ0KSArIHRvSShjb250YWluZXJCb3gucGFkZGluZ1JpZ2h0KTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpbWl6ZUZvckhlaWdodCA9IE1hdGguZmxvb3IoKGZvbnRTaXplIC8gbm9kZS5vZmZzZXRIZWlnaHQpICogY29udGFpbmVySGVpZ2h0KTtcbiAgICBjb25zdCBvcHRpbWl6ZUZvcldpZHRoID0gTWF0aC5mbG9vcigoZm9udFNpemUgLyBub2RlLm9mZnNldFdpZHRoKSAqIGNvbnRhaW5lcldpZHRoKTtcblxuICAgIC8vIHRoZSB8fCAxIGlzIGEgZmFsbGJhY2sgdG8gcHJldmVudCBmb250U2l6ZSBmcm9tIGJlaW5nIHNldCB0byB6ZXJvLCB3aGljaCBmdWJhcnMgdGhpbmdzXG4gICAgbm9kZS5zdHlsZS5mb250U2l6ZSA9IChNYXRoLm1pbihpbnN0YW5jZS5wcm9wcy5tYXhGb250U2l6ZSwgb3B0aW1pemVGb3JIZWlnaHQsIG9wdGltaXplRm9yV2lkdGgpIHx8IDEpICsgJ3B4Jztcbn1cblxuZnVuY3Rpb24gaGFuZGxlV2luZG93UmVzaXplKCkge1xuICAgIGluc3RhbmNlcy5mb3JFYWNoKChpbnN0YW5jZSkgPT4gcmVzY2FsZShpbnN0YW5jZSkpO1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlckluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVdpbmRvd1Jlc2l6ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xufVxuXG5mdW5jdGlvbiB1bnJlZ2lzdGVySW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICBpbnN0YW5jZXMuc3BsaWNlKGluc3RhbmNlcy5pbmRleE9mKGluc3RhbmNlKSwgMSk7XG5cbiAgICBpZiAoaW5zdGFuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplLCB0cnVlKTtcbiAgICB9XG59XG5cbi8qKlxuIyBGaXR0ZWRUZXh0XG5fX0ZpdCBnaXZlbiB0ZXh0IGluc2lkZSBhIHBhcmVudCBjb250YWluZXIsIG9iZXlpbmcgaW1wbGljdCBhbmQgZXhwbGljaXQgY29uc3RyYWludHMuX19cblxuVGhlIG1vc3QgY29tbW9uIHVzZSBjYXNlIGZvciB0aGlzIGNsYXNzIGlzIGZpdHRpbmcgc2luZ2xlLWxpbmUgdGV4dCBvZiB1bmtub3duL3ZhcmlhYmxlIGxlbmd0aCBpbnRvIGEgYnV0dG9uIG9yIGhlYWRpbmcgd2l0aCBmaW5pdGUgYm91bmRhcmllcy5cblxuPiBUaGUgQm91bmRsZXNzIFRlYW0gcmVjb21tZW5kcyByZXZpZXdpbmcgdGhlIFtUZXJtaW5vbG9neSBhbmQgV29yZGluZ10oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvbWFjL2RvY3VtZW50YXRpb24vVXNlckV4cGVyaWVuY2UvQ29uY2VwdHVhbC9PU1hISUd1aWRlbGluZXMvVGVybWlub2xvZ3lXb3JkaW5nLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDE1LVNXMSkgc2VjdGlvbiBvZiB0aGUgQXBwbGUgSHVtYW4gSW50ZXJmYWNlIEd1aWRlbGluZXMgZm9yIGluc3BpcmF0aW9uIG9mIGRlc2lnbiBwYXR0ZXJuc1xuYW5kIG9wdGltYWwgICogdXNhZ2Ugb2YgYEZpdHRlZFRleHRgIGluIHlvdXIgcHJvamVjdC5cblxuIyMjIEludGVyYWN0aW9uc1xuXG5UaGVyZSBhcmUgbm8gZXhwZWN0ZWQgdXNlciBpbnRlcmFjdGlvbnMuIFRoZSBjb21wb25lbnQgZW1pdHMgbm9ybWFsIHRleHQgYW5kIG1lcmVseSBjaGFuZ2VzIHRoZSBwcmVzZW50YXRpb247IGFjY2Vzc2liaWxpdHkgaXMgbm90IG9ic3RydWN0ZWQuXG5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRml0dGVkVGV4dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbiB1cHBlciBib3VuZCAoaW4gcGl4ZWxzKSBmb3IgaG93IGxhcmdlIHRoZSB0ZXh0IGlzIGFsbG93ZWQgdG8gZ3Jvd1xuICAgICAgICAgKi9cbiAgICAgICAgbWF4Rm9udFNpemU6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXG4gICAgICAgIGNvbXBvbmVudDogJ3NwYW4nLFxuICAgICAgICBtYXhGb250U2l6ZTogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoRml0dGVkVGV4dC5kZWZhdWx0UHJvcHMpXG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgcmVzY2FsZSh0aGlzKTtcblxuICAgICAgICAvLyB0aGVyZSBhcmUgbGlrZWx5IHRvIGJlIG11bHRpcGxlIGluc3RhbmNlcyBvZiB0aGlzIGNvbXBvbmVudCBvbiBhIHBhZ2UsIHNvIGl0IG1ha2VzIHNlbnNlIHRvIGp1c3QgdXNlXG4gICAgICAgIC8vIGEgc2hhcmVkIGdsb2JhbCByZXNpemUgbGlzdGVuZXIgaW5zdGVhZCBvZiBlYWNoIGNvbXBvbmVudCBoYXZpbmcgaXRzIG93blxuICAgICAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgcmVzY2FsZSh0aGlzKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdW5yZWdpc3Rlckluc3RhbmNlKHRoaXMpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0aGlzLnByb3BzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIEZpdHRlZFRleHQuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXRleHQnLCB0aGlzLnByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC90aGlzLnByb3BzLmNvbXBvbmVudD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgbm9vcCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtbm9vcC9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIEltYWdlXG5fX0FuIGltYWdlIGJsb2NrIHdpdGggcGxhY2Vob2xkZXIgc3VwcG9ydCBmb3IgbG9hZGluZyBhbmQgZmFsbGJhY2sgc2NlbmFyaW9zLl9fXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHN0YXR1cyA9IHtcbiAgICAgICAgTE9BRElORzogJ0xPQURJTkcnLFxuICAgICAgICBMT0FERUQ6ICdMT0FERUQnLFxuICAgICAgICBFUlJPUjogJ0VSUk9SJyxcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogYSB3cml0dGVuIGRlc2NyaXB0aW9uIG9mIHRoZSBpbWFnZSBmb3Igc2VhcmNoIGVuZ2luZXMsIGhvdmVydGV4dCBhbmQgdGhvc2UgdXNpbmcgYWNjZXNzaWJpbGl0eSB0ZWNobm9sb2dpZXM7IGFwcGxpZWQgdG8gdGhlIGAuYi1pbWFnZWAgYXMgdGhlIEhUTUwgYXR0cmlidXRlcyBgYWx0YCBvciBgdGl0bGVgLCBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgcmVuZGVyZWQgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgYWx0OiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBlbWl0cyB0aGUgaW1hZ2UgYXMgYSBgPGRpdj5gIHdpdGggYGJhY2tncm91bmQtaW1hZ2VgIGNzcyBwcm9wZXJ0eSBzZXQgaW5zdGVhZCBvZiBgPGltZz5gXG4gICAgICAgICAqL1xuICAgICAgICBkaXNwbGF5QXNCYWNrZ3JvdW5kSW1hZ2U6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1pbWFnZWAgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgaW1hZ2VQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSB2YWxpZCBwYXRoIHRvIHRoZSBkZXNpcmVkIGltYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzcmM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItaW1hZ2Utc3RhdHVzYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0dXNQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBhbHQ6IG51bGwsXG4gICAgICAgIGRpc3BsYXlBc0JhY2tncm91bmRJbWFnZTogZmFsc2UsXG4gICAgICAgIGltYWdlUHJvcHM6IHt9LFxuICAgICAgICBzcmM6ICdhYm91dDpibGFuaycsXG4gICAgICAgIHN0YXR1c1Byb3BzOiB7fSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoSW1hZ2UuZGVmYXVsdFByb3BzKVxuXG4gICAgc3RhdGUgPSB7XG4gICAgICAgIHN0YXR1czogSW1hZ2Uuc3RhdHVzLkxPQURJTkcsXG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKG5leHRQcm9wcy5zcmMgIT09IHRoaXMucHJvcHMuc3JjKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UHJlbG9hZGVyKCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzdGF0dXM6IEltYWdlLnN0YXR1cy5MT0FESU5HfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5wcmVsb2FkKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLnByZWxvYWQoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZXNldFByZWxvYWRlcigpO1xuICAgIH1cblxuICAgIHJlc2V0UHJlbG9hZGVyKCkge1xuICAgICAgICB0aGlzLmxvYWRlci5vbmxvYWQgPSBudWxsO1xuICAgICAgICB0aGlzLmxvYWRlci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRlcikgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLmxvYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgICAgIHRoaXMubG9hZGVyLm9ubG9hZCA9ICgpID0+IHRoaXMuc2V0U3RhdGUoe3N0YXR1czogSW1hZ2Uuc3RhdHVzLkxPQURFRH0pO1xuICAgICAgICB0aGlzLmxvYWRlci5vbmVycm9yID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7c3RhdHVzOiBJbWFnZS5zdGF0dXMuRVJST1J9KTtcblxuICAgICAgICB0aGlzLmxvYWRlci5zcmMgPSB0aGlzLnByb3BzLnNyYztcbiAgICB9XG5cbiAgICByZW5kZXJJbWFnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzcGxheUFzQmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuaW1hZ2VQcm9wc31cbiAgICAgICAgICAgICAgICAgICAgcmVmPSdpbWFnZSdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1pbWFnZScsIHRoaXMucHJvcHMuaW1hZ2VQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5hbHR9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLmltYWdlUHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aGlzLnByb3BzLnNyY30pYCxcbiAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLmltYWdlUHJvcHN9XG4gICAgICAgICAgICAgICAgcmVmPSdpbWFnZSdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWltYWdlJywgdGhpcy5wcm9wcy5pbWFnZVByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgc3JjPXt0aGlzLnByb3BzLnNyY31cbiAgICAgICAgICAgICAgICBhbHQ9e3RoaXMucHJvcHMuYWx0fVxuICAgICAgICAgICAgICAgIG9uTG9hZD17bm9vcH1cbiAgICAgICAgICAgICAgICBvbkVycm9yPXtub29wfSAvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlclN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgey4uLnRoaXMucHJvcHMuc3RhdHVzUHJvcHN9XG4gICAgICAgICAgICAgICAgIHJlZj0nc3RhdHVzJ1xuICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWltYWdlLXN0YXR1cycsIHRoaXMucHJvcHMuc3RhdHVzUHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdiLWltYWdlLWxvYWRpbmcnOiB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gSW1hZ2Uuc3RhdHVzLkxPQURJTkcsXG4gICAgICAgICAgICAgICAgICAgICdiLWltYWdlLWxvYWRlZCc6IHRoaXMuc3RhdGUuc3RhdHVzID09PSBJbWFnZS5zdGF0dXMuTE9BREVELFxuICAgICAgICAgICAgICAgICAgICAnYi1pbWFnZS1lcnJvcic6IHRoaXMuc3RhdGUuc3RhdHVzID09PSBJbWFnZS5zdGF0dXMuRVJST1IsXG4gICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICByb2xlPSdwcmVzZW50YXRpb24nIC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIEltYWdlLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSd3cmFwcGVyJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItaW1hZ2Utd3JhcHBlcicsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW1hZ2UoKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJTdGF0dXMoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiZXhwb3J0IGRlZmF1bHQgKHRlc3QpID0+IHR5cGVvZiB0ZXN0ID09PSAnc3RyaW5nJztcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IGlzU3RyaW5nIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1zdHJpbmcvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbi8qKlxuIyBJbnB1dFxuX19BbiBpbnB1dCBjb250cm9sIHdpdGggcGxhY2Vob2xkZXIgZW11bGF0aW9uIGZvciBub24tc3VwcG9ydGluZyBwbGF0Zm9ybXMuX19cblxuSW5wdXQgYWJzdHJhY3RzIGF3YXkgdGhlIGNyb3NzLXBsYXRmb3JtIGRpZmZlcmVuY2VzIG9mIHBsYWNlaG9sZGVyIHN0eWxpbmcgYW5kIGJlaGF2aW9ycywgZm9yIGV4YW1wbGU6IEludGVybmV0IEV4cGxvcmVyIGRpc21pc3NlcyBuYXRpdmUgcGxhY2Vob2xkZXJzIG9uIGlucHV0IGZvY3VzIGFuZCBvdGhlciBwbGF0Zm9ybXMgZG8gbm90LiBUaGlzIGNvbXBvbmVudCBlbnN1cmVzIHRoYXQgdGV4dCBpbnB1dCBjb250cm9scyB3aWxsIGZlZWwgYW5kIGJlaGF2ZSBzaW1pbGFybHkgb24gbW9yZSBkZXZpY2VzLlxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblR5cGUgfCBDb250ZXh0IHwgRXhwZWN0YXRpb25cbi0tLS0gfCAtLS0tLS0tIHwgLS0tLS0tLS0tLS1cbl9fS2V5Ym9hcmRfXyB8IHRleHQgZW50cnkgb24gdGhlIGlucHV0IHwgc2hvdWxkIGNsZWFyIG91dCB0aGUgcGxhY2Vob2xkZXIgdGV4dFxuX19Gb2N1c19fIHwgb24gdGhlIGlucHV0IHwgc2hvdWxkIGNsZWFyIG91dCB0aGUgcGxhY2Vob2xkZXIgdGV4dCBpbiBleHBlY3RhdGlvbiBvZiB0eXBpbmcgKGlmIGBwcm9wcy5oaWRlUGxhY2Vob2xkZXJPbkZvY3VzYCBpcyBgdHJ1ZWApXG5fX0JsdXJfXyB8IG9uIHRoZSBpbnB1dCB8IHNob3VsZCByZXN0b3JlIHRoZSBwbGFjZWhvbGRlciB0ZXh0IGlmIHRoZSBpbnB1dCBpcyBlbXB0eSBhdCB0aGUgdGltZSBvZiBmb2N1cyBtb3ZpbmcgYXdheSAoaWYgYHByb3BzLmhpZGVQbGFjZWhvbGRlck9uRm9jdXNgIGlzIGB0cnVlYClcblxuIyMjIENvbXBvbmVudCBJbnN0YW5jZSBNZXRob2RzXG5cbldoZW4gdXNpbmcgYElucHV0YCBpbiB5b3VyIHByb2plY3QsIHlvdSBtYXkgY2FsbCB0aGUgZm9sbG93aW5nIG1ldGhvZHMgb24gYSByZW5kZXJlZCBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50LiBVc2UgW2ByZWZzYF0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwpIHRvIGdldCB0aGUgaW5zdGFuY2UuXG5cbi0gX19nZXRWYWx1ZSgpX19cbiAgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgaW5wdXQgZmllbGRcblxuLSBfX3NldFZhbHVlKHN0cmluZylfX1xuICBwcm9ncmFtbWF0aWNhbGx5IHNldCB0aGUgaW5wdXQgdmFsdWU7IHVzZWZ1bCBmb3IgY2xlYXJpbmcgb3V0IHRoZSBpbnB1dCBpbiBcInVuY29udHJvbGxlZFwiIG1vZGUgLS0gbm90ZSB0aGF0IGRpZ2dpbmcgaW50byB0aGUgaW50ZXJuYWxzIGFuZCBzZXR0aW5nIHRoZSBgcmVmcy5maWVsZC52YWx1ZSA9ICcnYCBkaXJlY3RseSB3aWxsIG5vdCB0cmlnZ2VyIGV2ZW50cyBhbmQgbWVzc2VzIHVwIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogdHJpZ2dlcnMgdGhlIHBsYWNlaG9sZGVyIHRvIGRpc2FwcGVhciB3aGVuIHRoZSBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkLCByZWFwcGVhcnMgd2hlbiB0aGUgdXNlciBoYXMgdGFiYmVkIGF3YXkgb3IgZm9jdXMgaXMgbW92ZWRcbiAgICAgICAgICovXG4gICAgICAgIGhpZGVQbGFjZWhvbGRlck9uRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcm9wcyB0byBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgaW5wdXQgbm9kZSwgYC5iLXRleHR1YWwtaW5wdXRgOyB0aGlzIGluY2x1ZGVzIHRoZSBzdGFuZGFyZCBzZXQgb2YgUmVhY3QgaW5wdXQgcHJvcHMgbGlrZSBgZGVmYXVsdFZhbHVlYCwgYHZhbHVlYCwgYG5hbWVgLCBgcGxhY2Vob2xkZXJgLCBgYXV0b0ZvY3VzYCwgZXRjLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5wdXRQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgICAgICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgdHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICB9KSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBoaWRlUGxhY2Vob2xkZXJPbkZvY3VzOiB0cnVlLFxuICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIH0sXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKElucHV0LmRlZmF1bHRQcm9wcylcblxuICAgIHN0YXRlID0ge1xuICAgICAgICBpbnB1dDogJycsXG4gICAgICAgIGlzQ29udHJvbGxlZDogaXNTdHJpbmcodGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlKSxcbiAgICAgICAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29udHJvbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0SW5wdXRWYWx1ZSh0aGlzLnByb3BzLmlucHV0UHJvcHMudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuaW5wdXRQcm9wcy52YWx1ZSAhPT0gdGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldElucHV0VmFsdWUobmV4dFByb3BzLmlucHV0UHJvcHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW5wdXRWYWx1ZSA9ICh2YWx1ZSA9ICcnKSA9PiB0aGlzLnNldFN0YXRlKHtpbnB1dDogdmFsdWV9KVxuXG4gICAgZ2V0VmFsdWUgPSAoKSA9PiB0aGlzLnJlZnMuZmllbGQudmFsdWVcblxuICAgIHNldFZhbHVlKG5leHRWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldElucHV0VmFsdWUobmV4dFZhbHVlKTtcbiAgICAgICAgdGhpcy5yZWZzLmZpZWxkLnZhbHVlID0gbmV4dFZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29udHJvbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gc2ltdWxhdGUgaW5wdXQgY2hhbmdlIGV2ZW50IGZsb3dcbiAgICAgICAgICAgIHRoaXMucmVmcy5maWVsZC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7YnViYmxlczogdHJ1ZX0pKTtcbiAgICAgICAgICAgIHRoaXMucmVmcy5maWVsZC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywge2J1YmJsZXM6IHRydWV9KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVCbHVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzRm9jdXNlZDogZmFsc2V9KTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25CbHVyKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQmx1cihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGb2N1cyA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0ZvY3VzZWQ6IHRydWV9KTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25Gb2N1cykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICAvLyBmb3IgXCJjb250cm9sbGVkXCIgc2NlbmFyaW9zLCB1cGRhdGVzIHRvIHRoZSBjYWNoZWQgaW5wdXQgdGV4dCBzaG91bGQgY29tZVxuICAgICAgICAvLyBleGNsdXNpdmVseSB2aWEgcHJvcHMgKGNXUlApIHNvIGl0IGV4YWN0bHkgbWlycm9ycyB0aGUgY3VycmVudCBhcHBsaWNhdGlvblxuICAgICAgICAvLyBzdGF0ZSwgb3RoZXJ3aXNlIGEgcmUtcmVuZGVyIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBuZXcgdGV4dCBoYXMgY29tcGxldGVkIGl0c1xuICAgICAgICAvLyBmZWVkYmFjayBsb29wIGFuZCB0aGUgY3Vyc29yIHBvc2l0aW9uIGlzIGxvc3RcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNDb250cm9sbGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25DaGFuZ2UpID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmlucHV0UHJvcHMub25DaGFuZ2UoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGxhY2Vob2xkZXJUZXh0KCkge1xuICAgICAgICBjb25zdCBpc05vbkVtcHR5ID0gdGhpcy5zdGF0ZS5pbnB1dCAhPT0gJyc7XG4gICAgICAgIGNvbnN0IHNob3VsZFNob3dQbGFjZWhvbGRlciA9ICAgdGhpcy5wcm9wcy5oaWRlUGxhY2Vob2xkZXJPbkZvY3VzID09PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnN0YXRlLmlzRm9jdXNlZCA9PT0gZmFsc2UgJiYgaXNOb25FbXB0eSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzTm9uRW1wdHkgPT09IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBzaG91bGRTaG93UGxhY2Vob2xkZXIgPyB0aGlzLnByb3BzLmlucHV0UHJvcHMucGxhY2Vob2xkZXIgOiAnJztcbiAgICB9XG5cbiAgICByZW5kZXJQbGFjZWhvbGRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgcmVmPSdwbGFjZWhvbGRlcicgY2xhc3NOYW1lPSdiLWlucHV0LXBsYWNlaG9sZGVyIGItaW5wdXQnPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldFBsYWNlaG9sZGVyVGV4dCgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7cHJvcHN9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHByb3BzLCBJbnB1dC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgIHJlZj0nd3JhcHBlcidcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWlucHV0LXdyYXBwZXInLCBwcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmdldFBsYWNlaG9sZGVyVGV4dCgpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJQbGFjZWhvbGRlcigpfVxuXG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wcy5pbnB1dFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2ZpZWxkJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWlucHV0JywgcHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bnVsbH1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLmhhbmRsZUJsdXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9e3RoaXMuaGFuZGxlRm9jdXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBSZXR1cm5zIGFuIGludGVyc2VjdGlvbiBvZiB0aGUgZmlyc3QgYXJndW1lbnQgYWdhaW5zdCB0aGUgc2Vjb25kIGFyZ3VtZW50J3Mga2V5cy5cbiAqIGUuZy4gdXNlZCBpbiBUeXBlYWhlYWQgdG8gaWRlbnRpZnkgd2hpY2ggcHJvcHMgYXJlIG1lYW50IGZvciBJbnB1dFxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqMVxuICogQHBhcmFtICB7T2JqZWN0fSBvYmoyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBrZXk6IHZhbHVlcyBpbiBvYmoxIG1hdGNoaW5nIHRoZSBrZXlzIHN1cHBsaWVkIGluIG9iajJcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24ob2JqMSwgb2JqMikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmoyKS5yZWR1Y2UoKGNoaWxkUHJvcHMsIGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5IGluIG9iajEpIHtcbiAgICAgICAgICAgIGNoaWxkUHJvcHNba2V5XSA9IG9iajFba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZFByb3BzO1xuXG4gICAgfSwge30pO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBEaWFsb2cgZnJvbSAnLi4vYm91bmRsZXNzLWRpYWxvZy9pbmRleCc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uL2JvdW5kbGVzcy1wb3J0YWwvaW5kZXgnO1xuaW1wb3J0IGV4dHJhY3RDaGlsZFByb3BzIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vYmplY3QtaW50ZXJzZWN0aW9uL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuXG4vKipcbiMgTW9kYWxcbl9fQSBibG9ja2luZywgZm9jdXMtc3RlYWxpbmcgY29udGFpbmVyLl9fXG5cbk1vZGFsIGlzIGFuIGVuaGFuY2VtZW50IHVwb24gW0RpYWxvZ10oaHR0cHM6Ly9naXRodWIuY29tL2JpYmxpb3RlY2gvdWlraXQvYmxvYi9tYXN0ZXIvcGFja2FnZXMvYm91bmRsZXNzLWRpYWxvZy9SRUFETUUubWQpLiBUeXBpY2FsbHksIGEgbWFza2luZyBsYXllciBpcyBwcm92aWRlZCB0byBvYnNjdXJlIHRoZSByZXN0IG9mIHRoZSBwYWdlIGluIHNvbWUgZmFzaGlvbiwgd2hpbGUgYWxzbyBibG9ja2luZyBvdXRzaWRlIGNsaWNrIGFuZCBrZXlzdHJva2UgYWNjZXNzIHVudGlsIHRoZSBtb2RhbCBpcyBkaXNtaXNzZWQuXG5cbj4gVGhlIEJvdW5kbGVzcyBUZWFtIHJlY29tbWVuZHMgcmV2aWV3aW5nIHRoZSBbQWxlcnRzXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9tYWMvZG9jdW1lbnRhdGlvbi9Vc2VyRXhwZXJpZW5jZS9Db25jZXB0dWFsL09TWEhJR3VpZGVsaW5lcy9XaW5kb3dBbGVydHMuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkLzIwMDAwOTU3LUNINDQtU1cxKSBzZWN0aW9uIG9mIHRoZSBBcHBsZSBIdW1hbiBJbnRlcmZhY2UgR3VpZGVsaW5lcyBmb3IgaW5zcGlyYXRpb24gb2YgZGVzaWduIHBhdHRlcm5zIGFuZCBvcHRpbWFsIHVzYWdlIG9mIGBNb2RhbGAgaW4geW91ciBwcm9qZWN0LlxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblJlZmVyIHRvIFtEaWFsb2ddKGh0dHBzOi8vZ2l0aHViLmNvbS9iaWJsaW90ZWNoL3Vpa2l0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL2JvdW5kbGVzcy1kaWFsb2cvUkVBRE1FLm1kKVxuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqIE1vZGFsIHN1cHBvcnRzIGFsbCBbRGlhbG9nIHByb3BzXSgvRGlhbG9nI3Byb3BzKSAqL1xuICAgICAgICAuLi5EaWFsb2cucHJvcFR5cGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1tb2RhbC1tYXNrYCBIVE1MIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIG1hc2tQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItbW9kYWxgIEhUTUwgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgbW9kYWxQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55L2FsbCBzdXBwb3J0ZWQgW1BvcnRhbCBwcm9wc10oL1BvcnRhbC9SRUFETUUubWQpXG4gICAgICAgICAqL1xuICAgICAgICBwb3J0YWxQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5EaWFsb2cuZGVmYXVsdFByb3BzLFxuICAgICAgICBjYXB0dXJlRm9jdXM6IHRydWUsXG4gICAgICAgIG1hc2tQcm9wczoge30sXG4gICAgICAgIG1vZGFsUHJvcHM6IHt9LFxuICAgICAgICBwb3J0YWxQcm9wczoge30sXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKE1vZGFsLmRlZmF1bHRQcm9wcylcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge3Byb3BzfSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxQb3J0YWwgey4uLnByb3BzLnBvcnRhbFByb3BzfT5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHsuLi5vbWl0KHByb3BzLCBNb2RhbC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhub2RlKSA9PiAodGhpcy4kbW9kYWwgPSBub2RlKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1tb2RhbC13cmFwcGVyJywgcHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wcy5tYXNrUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLW1vZGFsLW1hc2snLCBwcm9wcy5tYXNrUHJvcHMuY2xhc3NOYW1lKX0gLz5cblxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICB7Li4uZXh0cmFjdENoaWxkUHJvcHMocHJvcHMsIERpYWxvZy5kZWZhdWx0UHJvcHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLnByb3BzLm1vZGFsUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLW1vZGFsJywgcHJvcHMubW9kYWxQcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2c+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1BvcnRhbD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzSW50ZWdlcigzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzSW50ZWdlcignMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMi4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9GaW5pdGUoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgfVxuICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0ludGVnZXI7XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9ib3VuZGxlc3MtYnV0dG9uL2luZGV4JztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleCc7XG5pbXBvcnQgbm9vcCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtbm9vcC9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIFNlZ21lbnRlZENvbnRyb2xcbl9fQSBjb250cm9sIGNvbnRhaW5pbmcgbXVsdGlwbGUgYnV0dG9ucywgb25seSBvbmUgb2Ygd2hpY2ggY2FuIGJlIGFjdGl2ZSBhdCBhIHRpbWUuX19cblxuU2VnbWVudGVkQ29udHJvbCBpcyBpbXBsZW1lbnRlZCBhcyBhIFwiY29udHJvbGxlZCBjb21wb25lbnRcIiwgbWVhbmluZyBpdCBpcyBhIGRpcmVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgZGF0YSBwYXNzZWQgaW5zaWRlLiBVc2VyIGludGVyYWN0aW9uIHdpbGwgYnViYmxlIGNoYW5nZXMgaW4gdGhlIGZvcm0gb2YgYG9uT3B0aW9uU2VsZWN0ZWRgIHRoYXQgYSBjb250cm9sbGVyIHZpZXcgbXVzdCBpbnRlcmNlcHQgYW5kIGFwcGx5IGFnYWluc3QgdGhlIGRhdGEgcHJvdmlkZXIuXG5cbj4gVGhlIEJvdW5kbGVzcyBUZWFtIHJlY29tbWVuZHMgcmV2aWV3aW5nIHRoZSBbU2VnbWVudGVkIENvbnRyb2xdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL1VzZXJFeHBlcmllbmNlL0NvbmNlcHR1YWwvT1NYSElHdWlkZWxpbmVzL0NvbnRyb2xzU2VsZWN0aW9uLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDQ5LVNXNSkgb2YgdGhlIEFwcGxlIEh1bWFuIEludGVyZmFjZSBHdWlkZWxpbmVzIGZvciBpbnNwaXJhdGlvbiBvZiBkZXNpZ24gcGF0dGVybnMgYW5kIG9wdGltYWwgdXNhZ2Ugb2YgYFNlZ21lbnRlZENvbnRyb2xgIGluIHlvdXIgcHJvamVjdC5cblxuIyMjIEludGVyYWN0aW9uc1xuXG5UeXBlIHwgQ29udGV4dCB8IEV4cGVjdGF0aW9uXG4tLS0tIHwgLS0tLS0tLSB8IC0tLS0tLS0tLS0tXG5fX01vdXNlX18gfCBgY2xpY2tgIChub3Qgc2VsZWN0ZWQpIHwgc2hvdWxkIHRyaWdnZXIgYG9uT3B0aW9uU2VsZWN0ZWRgIG9uIGNsaWNrZWQgb3B0aW9uXG5fX0tleWJvYXJkX18gfGBbVGFiXWAgfCBzaG91bGQgZm9yd2FyZC1leGl0IGBTZWdtZW50ZWRDb250cm9sYCB0YWJiaW5nIGNvbnRleHRcbl9fS2V5Ym9hcmRfXyB8YFtTaGlmdCtUYWJdYCB8IHNob3VsZCBiYWNrd2FyZC1leGl0IGBTZWdtZW50ZWRDb250cm9sYCB0YWJiaW5nIGNvbnRleHRcbl9fS2V5Ym9hcmRfXyB8YFsnTGVmdCcsICdSaWdodCddYCB8IHNob3VsZCBtb3ZlIGZvY3VzIHRvIHByZXZpb3VzL25leHQgY2hpbGQ7IHNob3VsZCBsb29wXG5fX0tleWJvYXJkX18gfCBgWydFbnRlciddYCB8IHNob3VsZCB0cmlnZ2VyIGBvbk9wdGlvblNlbGVjdGVkYCBmb3IgZm9jdXNlZCBvcHRpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VnbWVudGVkQ29udHJvbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhIGNoaWxkIGVsZW1lbnQgYmVjb21lcyBzZWxlY3RlZDsgYmFja2luZyBkYXRhIG11c3QgYmUgdXBkYXRlZCB0byBwZXJzaXN0IHRoZSBzdGF0ZSBjaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIG9uT3B0aW9uU2VsZWN0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgYmFja2luZyBkYXRhIGZvciB0aGUgc2VnbWVudHMgb2YgdGhlIHJlbmRlcmVkIGNvbnRyb2xcblxuICAgICAgICAgKiA+IF9fVmFsaWRhdGlvbiBDcml0ZXJpYTpfX1xuICAgICAgICAgKiA+XG4gICAgICAgICAqID4gMS4gVGhlcmUgbXVzdCBiZSBhdCBsZWFzdCB0d28gYG9wdGlvbnNgIChhIHNlZ21lbnRlZCBjb250cm9sIHdpdGggb25lIGJ1dHRvbiBpcyBub3QgYWxsb3dlZClcbiAgICAgICAgICogPiAxLiBUaGVyZSBtdXN0IG9ubHkgYmUgb25lIGBvcHRpb25gIHdob3NlIGBzZWxlY3RlZGAgYXR0cmlidXRlIGlzIGB0cnVlYCAobXVsdGlwbGUgc2VsZWN0aW9ucyBhcmUgbm90IGFsbG93ZWQpXG4gICAgICAgICAqID4gMS4gRWFjaCBgdmFsdWVgIGF0dHJpYnV0ZSBtdXN0IGJlIHVuaXF1ZSBhY3Jvc3MgdGhlIHNldCBvZiBgb3B0aW9uc2BcblxuICAgICAgICAgKiAtIF9fb3B0aW9uc1tdLnNlbGVjdGVkX18gYEJvb2xlYW5gXG4gICAgICAgICAqIC0gX19vcHRpb25zW10udmFsdWVfXyBgU3RyaW5nYFxuICAgICAgICAgKiAtIF9fb3B0aW9uc1tdLmNvbnRlbnRfXyBgKmBcbiAgICAgICAgICAgKiB0aGUgY29udGVudCB0byBnbyBpbnNpZGUgdGhlIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAgb3B0aW9uczogZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25zKHByb3BzKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMub3B0aW9ucy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgYXQgbGVhc3QgdHdvIG9wdGlvbnMuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdTZWxlY3RlZCA9IHByb3BzLm9wdGlvbnMuc29tZSgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoJ3NlbGVjdGVkJyBpbiBvcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAobWlzc2luZ1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgYSBgc2VsZWN0ZWRgIHByb3AgZm9yIGVhY2ggb3B0aW9uLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc2VlblNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBtdWx0aXBsZVNlbGVjdGVkID0gcHJvcHMub3B0aW9ucy5zb21lKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWVuU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2VlblNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG11bHRpcGxlU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuY291bnRlcmVkIG11bHRpcGxlIG9wdGlvbnMgd2l0aCBgc2VsZWN0ZWQ6IHRydWVgLiBUaGVyZSBjYW4gYmUgb25seSBvbmUuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcm9wcy5vcHRpb25zLnNvbWUoKG9wdGlvbikgPT4gdHlwZW9mIG9wdGlvbi52YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdXN0IHByb3ZpZGUgYSBgdmFsdWVgIHByb3AgZm9yIGVhY2ggb3B0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIG9uT3B0aW9uU2VsZWN0ZWQ6IG5vb3AsXG4gICAgICAgIG9wdGlvbnM6IFtdLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhTZWdtZW50ZWRDb250cm9sLmRlZmF1bHRQcm9wcylcbiAgICBzdGF0aWMgaW50ZXJuYWxDaGlsZEtleXMgPSBbXG4gICAgICAgICdjb250ZW50JyxcbiAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgJ3NlbGVjdGVkJyxcbiAgICBdXG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgaW5kZXhPZk9wdGlvbkluRm9jdXM6IG51bGwsXG4gICAgfVxuXG4gICAgY3VycmVudFZhbHVlKCkge1xuICAgICAgICBsZXQgdmFsdWU7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLnNvbWUoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gb3B0aW9uLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXRGb2N1cyhpbmRleCkge1xuICAgICAgICBmaW5kRE9NTm9kZSh0aGlzLnJlZnNbJ29wdGlvbl8kJyArIGluZGV4XSkuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBnZXROZXh0T3B0aW9uSW5kZXgoY3VycmVudE9wdGlvbkluZGV4KSB7XG4gICAgICAgIGxldCBuZXh0ID0gY3VycmVudE9wdGlvbkluZGV4ICsgMTtcblxuICAgICAgICByZXR1cm4gbmV4dCA8IHRoaXMucHJvcHMub3B0aW9ucy5sZW5ndGggPyBuZXh0IDogMDtcbiAgICB9XG5cbiAgICBnZXRQcmV2aW91c09wdGlvbkluZGV4KGN1cnJlbnRPcHRpb25JbmRleCkge1xuICAgICAgICBsZXQgcHJldmlvdXMgPSBjdXJyZW50T3B0aW9uSW5kZXggLSAxO1xuXG4gICAgICAgIHJldHVybiBwcmV2aW91cyA8IDAgPyB0aGlzLnByb3BzLm9wdGlvbnMubGVuZ3RoIC0gMSA6IHByZXZpb3VzO1xuICAgIH1cblxuICAgIGhhbmRsZU9wdGlvbkJsdXIob3B0aW9uLCBldmVudCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbmRleE9mT3B0aW9uSW5Gb2N1cyA9PT0gdGhpcy5wcm9wcy5vcHRpb25zLmluZGV4T2Yob3B0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aW5kZXhPZk9wdGlvbkluRm9jdXM6IG51bGx9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbi5vbkJsdXIpKSB7XG4gICAgICAgICAgICBvcHRpb24ub25CbHVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU9wdGlvbkNsaWNrKG9wdGlvbiwgZXZlbnQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvblNlbGVjdGVkKG9wdGlvbi52YWx1ZSk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9uLm9uQ2xpY2spKSB7XG4gICAgICAgICAgICBvcHRpb24ub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVPcHRpb25Gb2N1cyhvcHRpb24sIGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2luZGV4T2ZPcHRpb25JbkZvY3VzOiB0aGlzLnByb3BzLm9wdGlvbnMuaW5kZXhPZihvcHRpb24pfSk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9uLm9uRm9jdXMpKSB7XG4gICAgICAgICAgICBvcHRpb24ub25Gb2N1cyhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleTtcbiAgICAgICAgY29uc3QgYWN0aXZlSXRlbUluZGV4ID0gdGhpcy5zdGF0ZS5pbmRleE9mT3B0aW9uSW5Gb2N1cztcblxuICAgICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgICAgICAgdGhpcy5zZXRGb2N1cyh0aGlzLmdldFByZXZpb3VzT3B0aW9uSW5kZXgoYWN0aXZlSXRlbUluZGV4KSk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLnNldEZvY3VzKHRoaXMuZ2V0TmV4dE9wdGlvbkluZGV4KGFjdGl2ZUl0ZW1JbmRleCkpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlT3B0aW9uQ2xpY2sodGhpcy5wcm9wcy5vcHRpb25zW2FjdGl2ZUl0ZW1JbmRleF0pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMub25LZXlEb3duKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMub3B0aW9ucy5tYXAoKGRlZmluaXRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgey4uLm9taXQoZGVmaW5pdGlvbiwgU2VnbWVudGVkQ29udHJvbC5pbnRlcm5hbENoaWxkS2V5cyl9XG4gICAgICAgICAgICAgICAgICAgIHJvbGU9J3JhZGlvJ1xuICAgICAgICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e1N0cmluZyhkZWZpbml0aW9uLnNlbGVjdGVkKX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXsnb3B0aW9uXyQnICsgaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIGtleT17ZGVmaW5pdGlvbi52YWx1ZX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1zZWdtZW50ZWQtY29udHJvbC1vcHRpb24nLCBkZWZpbml0aW9uLmNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2Itc2VnbWVudGVkLWNvbnRyb2wtb3B0aW9uLXNlbGVjdGVkJzogZGVmaW5pdGlvbi5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXtkZWZpbml0aW9uLnNlbGVjdGVkID8gJzAnIDogJy0xJ31cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLmhhbmRsZU9wdGlvbkJsdXIuYmluZCh0aGlzLCBkZWZpbml0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgb25QcmVzc2VkPXt0aGlzLmhhbmRsZU9wdGlvbkNsaWNrLmJpbmQodGhpcywgZGVmaW5pdGlvbil9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9e3RoaXMuaGFuZGxlT3B0aW9uRm9jdXMuYmluZCh0aGlzLCBkZWZpbml0aW9uKX0+XG4gICAgICAgICAgICAgICAgICAgIHtkZWZpbml0aW9uLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgU2VnbWVudGVkQ29udHJvbC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgIHJlZj0nd3JhcHBlcidcbiAgICAgICAgICAgICAgICByb2xlPSdyYWRpb2dyb3VwJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2Itc2VnbWVudGVkLWNvbnRyb2wnLCB0aGlzLnByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259PlxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlck9wdGlvbnMoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBpc0ludGVnZXIgZnJvbSAnbG9kYXNoLmlzaW50ZWdlcic7XG5cbmltcG9ydCBTZWdtZW50ZWRDb250cm9sIGZyb20gJy4uL2JvdW5kbGVzcy1zZWdtZW50ZWQtY29udHJvbC9pbmRleCc7XG5pbXBvcnQgQXJyb3dLZXlOYXZpZ2F0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy1hcnJvdy1rZXktbmF2aWdhdGlvbi9pbmRleCc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5pbXBvcnQgdXVpZCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtdXVpZC9pbmRleCc7XG5cbmNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQSB1dGlsaXR5IGNvbXBvbmVudCBmb3IgaGFuZGxpbmcgcHJvbWlzZXMgYXMgY2hpbGRyZW4gYW5kIGV2ZW50dWFsbHkgZG9pbmcgc29tZXRoaW5nIHdpdGggdGhlaXIgcmVzb2x2ZWQgcGF5bG9hZC5cbiAqL1xuY2xhc3MgSXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIGNvbnZlcnRUb0pTWEZ1bmM6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgICAgICBldmVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgaW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIGxvYWRpbmdDb250ZW50OiBQcm9wVHlwZXMubm9kZSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBjb252ZXJ0VG9KU1hGdW5jOiBub29wLFxuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBldmVuOiB0cnVlLFxuICAgICAgICBpbmRleDogMCxcbiAgICAgICAgbG9hZGluZ0NvbnRlbnQ6IG51bGwsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKEl0ZW0uZGVmYXVsdFByb3BzKVxuXG4gICAgbW91bnRlZCA9IGZhbHNlXG4gICAgc3RhdGUgPSB7fVxuXG4gICAgY29udmVydERhdGFUb0pTWE9yV2FpdChwcm9wcyA9IHRoaXMucHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzLmRhdGEgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtjb21wb25lbnQ6IG51bGx9KTtcblxuICAgICAgICAgICAgY29uc3QgY2xvc3VyZVByb21pc2UgPSBwcm9wcy5kYXRhO1xuXG4gICAgICAgICAgICBwcm9wcy5kYXRhLnRoZW4oKHJlc29sdmVkUGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUsIGN1cnJlbnRQcm9wcykgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogY3VycmVudFByb3BzLmRhdGEgPT09IGNsb3N1cmVQcm9taXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY3VycmVudFByb3BzLmNvbnZlcnRUb0pTWEZ1bmMocmVzb2x2ZWRQYXlsb2FkLCBjdXJyZW50UHJvcHMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3RhdGUuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSAvLyBvbmx5IHJlcGxhY2UgaWYgd2UncmUgbG9va2luZyBhdCB0aGUgc2FtZSBwcm9taXNlLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAgICAgfSwgbm9vcCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2NvbXBvbmVudDogcHJvcHMuY29udmVydFRvSlNYRnVuYyhwcm9wcy5kYXRhLCBwcm9wcy5pbmRleCl9KTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSAgICAgICAgICAgICAgICAgeyB0aGlzLmNvbnZlcnREYXRhVG9KU1hPcldhaXQoKTsgfVxuICAgIGNvbXBvbmVudERpZE1vdW50KCkgICAgICAgICAgICAgICAgICB7IHRoaXMubW91bnRlZCA9IHRydWU7IH1cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykgeyB0aGlzLmNvbnZlcnREYXRhVG9KU1hPcldhaXQobmV4dFByb3BzKTsgfVxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkgICAgICAgICAgICAgICB7IHRoaXMubW91bnRlZCA9IGZhbHNlOyB9XG5cbiAgICBnZXRDbGFzc2VzKGV4dHJhQ2xhc3Nlcykge1xuICAgICAgICByZXR1cm4gY3goJ2ItcGFnaW5hdGlvbi1pdGVtJywgZXh0cmFDbGFzc2VzLCB7XG4gICAgICAgICAgICAnYi1wYWdpbmF0aW9uLWl0ZW0tZXZlbic6IHRoaXMucHJvcHMuZXZlbixcbiAgICAgICAgICAgICdiLXBhZ2luYXRpb24taXRlbS1vZGQnOiAhdGhpcy5wcm9wcy5ldmVuLFxuICAgICAgICAgICAgJ2ItcGFnaW5hdGlvbi1pdGVtLWxvYWRpbmcnOiB0aGlzLnN0YXRlLmNvbXBvbmVudCA9PT0gbnVsbCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb21wb25lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiB7Li4ub21pdCh0aGlzLnByb3BzLCBJdGVtLmludGVybmFsS2V5cyl9IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc2VzKCl9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5sb2FkaW5nQ29udGVudH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMuc3RhdGUuY29tcG9uZW50LCB7XG4gICAgICAgICAgICAuLi5vbWl0KHRoaXMucHJvcHMsIEl0ZW0uaW50ZXJuYWxLZXlzKSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5nZXRDbGFzc2VzKHRoaXMuc3RhdGUuY29tcG9uZW50LnByb3BzICYmIHRoaXMuc3RhdGUuY29tcG9uZW50LnByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAnZGF0YS1wYWdpbmF0aW9uLWluZGV4JzogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKipcbiMgUGFnaW5hdGlvblxuX19WaWV3IGFuZCBuYXZpZ2F0ZSBoZXRlcm9nZW5pb3VzIGNvbnRlbnQgb25lIHBhZ2UgYXQgYSB0aW1lLl9fXG5cblBhZ2luYXRpb24gaXMgaW1wbGVtZW50ZWQgYXMgYW4gZW5jYXBzdWxhdGVkIHZpZXcgc3lzdGVtLCBhY2NlcHRpbmcgYW4gYXJyYXkgb2YgaXRlbXMgYXMgaW5wdXQuXG5cbi0tLVxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblR5cGUgfCBDb250ZXh0IHwgRXhwZWN0YXRpb25cbi0tLS0gfCAtLS0tLS0tIHwgLS0tLS0tLS0tLS1cbl9fTW91c2VfXyB8IGBjbGlja2AgKG5vdCBzZWxlY3RlZCkgfCBzaG91bGQgdHJpZ2dlciBgb25DbGlja2Agb24gY2xpY2tlZCBjb250cm9sXG5fX0tleWJvYXJkX18gfCBwYWdlIHRvZ2dsZXMgYFsnTGVmdCcsICdSaWdodCddYCB8IHNob3VsZCBtb3ZlIGZvY3VzIHRvIG5leHQvcHJldmlvdXMgdG9nZ2xlOyBzaG91bGQgbG9vcFxuX19LZXlib2FyZF9fIHwgbGlzdCBpdGVtcyBgWydVcCcsICdEb3duJ11gIHwgc2hvdWxkIG1vdmUgZm9jdXMgdG8gbmV4dC9wcmV2aW91cyB0b2dnbGU7IHNob3VsZCBsb29wXG5fX0tleWJvYXJkX18gfCBgWydFbnRlciddYCB8IHNob3VsZCB0cmlnZ2VyIGBvbkNsaWNrYC9gb25PcHRpb25TZWxlY3RlZGAgZm9yIGZvY3VzZWQgdG9nZ2xlXG5cbiMjIyBDb21wb25lbnQgSW5zdGFuY2UgTWV0aG9kc1xuXG5XaGVuIHVzaW5nIGBQYWdpbmF0aW9uYCBpbiB5b3VyIHByb2plY3QsIHlvdSBtYXkgY2FsbCB0aGUgZm9sbG93aW5nIG1ldGhvZHMgb24gYSByZW5kZXJlZCBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50LiBVc2UgW2ByZWZzYF0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwpIHRvIGdldCB0aGUgaW5zdGFuY2UuXG5cbi0gX19jdXJyZW50UGFnZSgpX19cbiAgcmV0dXJucyB0aGUgX19fb25lX19fLWluZGV4ZWQgcGFnZSBudW1iZXIgY3VycmVudGx5IGluIHZpZXdcblxuLSBfX3BhZ2VUb0luZGV4KGBOdW1iZXJgKV9fXG4gIHJlbmRlcnMgdGhlIHBhZ2UgdGhhdCBjb250YWlucyB0aGUgX19femVyb19fXy1pbmRleGVkIGl0ZW1cblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdpbmF0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIGNvbnRyb2xzID0ge1xuICAgICAgICBGSVJTVDogJ0ZJUlNUJyxcbiAgICAgICAgUFJFVklPVVM6ICdQUkVWSU9VUycsXG4gICAgICAgIE5FWFQ6ICdORVhUJyxcbiAgICAgICAgTEFTVDogJ0xBU1QnLFxuICAgIH1cblxuICAgIHN0YXRpYyBwb3NpdGlvbnMgPSB7XG4gICAgICAgIEFCT1ZFOiAnQUJPVkUnLFxuICAgICAgICBCRUxPVzogJ0JFTE9XJyxcbiAgICAgICAgQk9USDogJ0JPVEgnLFxuICAgIH1cblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhcmJpdHJhcnkgY29udGVudCB0byBiZSByZW5kZXJlZCBhZnRlciB0aGUgaXRlbXMgaW4gdGhlIERPTVxuICAgICAgICAgKi9cbiAgICAgICAgYWZ0ZXI6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhcmJpdHJhcnkgY29udGVudCB0byBiZSByZW5kZXJlZCBiZWZvcmUgdGhlIGl0ZW1zIGluIHRoZSBET01cbiAgICAgICAgICovXG4gICAgICAgIGJlZm9yZTogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFsbG93cyBmb3IgYXJiaXRyYXJ5IGNvbnRlbnQgdG8gYmUgcmVuZGVyZWQgaW50byB0aGUgY29udHJvbCBhcmVhXG4gICAgICAgICAqL1xuICAgICAgICBjdXN0b21Db250cm9sQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB3aXRoIGEgZGVzaXJlZCBpdGVtIGluZGV4IHdoZW4gdGhhdCBpdGVtIGNvbWVzIGludG8gdmlldzsgYWNjZXB0cyBhIGBQcm9taXNlYCBpZiB5b3UgbmVlZCB0byBmZXRjaCB0aGUgcm93IGFzeW5jaHJvbm91c2x5XG4gICAgICAgICAqL1xuICAgICAgICBnZXRJdGVtOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZG9lcyBub3QgcmVuZGVyIHRoZSBwYWdpbmcgY29udHJvbHMgaWYgdGhlIG51bWJlciBvZiBpdGVtcyBzdXBwbGllZCB0byB0aGUgdmlldyBpcyBsZXNzLXRoYW4tb3ItZXF1YWwtdG8gdGhlIG51bWJlciBvZiBpdGVtcyB0byBzaG93IHBlciBwYWdlIHZpYSBgcHJvcHMubnVtSXRlbXNQZXJQYWdlYFxuICAgICAgICAgKi9cbiAgICAgICAgaGlkZVBhZ2VySWZOb3ROZWVkZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHVuaXF1ZSBuYW1lIGZvciB0aGUgZGF0YXNldCBiZWluZyBjb25zdW1lZDsgcGFzcyBhIGRpZmZlcmVudCBuYW1lIHRvIGNhdXNlIHRoZSB2aWV3IHRvIGZ1bGx5IHJlc2V0IGFuZCBwdWxsIGJyYW5kIG5ldyBkYXRhXG4gICAgICAgICAqL1xuICAgICAgICBpZGVudGlmaWVyOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSAoX29uZS1pbmRleGVkXykgbnVtYmVyIG9mIHRoZSBwYWdlIHRoYXQgc2hvdWxkIGJlIGluaXRpYWxseSBkaXNwbGF5ZWQ7IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgdG90YWwgbnVtYmVyIG9mIHBhZ2VzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0aWFsUGFnZTogZnVuY3Rpb24gdmFsaWRhdGVJbml0aWFsUGFnZShwcm9wcykge1xuICAgICAgICAgICAgaWYgKGlzSW50ZWdlcihwcm9wcy5pbml0aWFsUGFnZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignYGluaXRpYWxQYWdlYCBtdXN0IGJlIGFuIGludGVnZXIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG51bWJlck9mUGFnZXMgPSBNYXRoLmNlaWwocHJvcHMudG90YWxJdGVtcyAvIHByb3BzLm51bUl0ZW1zUGVyUGFnZSk7XG5cbiAgICAgICAgICAgIGlmIChwcm9wcy5pbml0aWFsUGFnZSA8IDEgfHwgcHJvcHMuaW5pdGlhbFBhZ2UgPiBudW1iZXJPZlBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignYGluaXRpYWxQYWdlYCBtdXN0IGJlIGJldHdlZW4gMSBhbmQgJyArIG51bWJlck9mUGFnZXMgKyAnLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbGxvd3MgZm9yIGFyYml0cmFyeSBjb250ZW50IHRvIGJlIHJlbmRlcmVkIGludG8gcGFnaW5hdGlvbiBpdGVtcyBhcyB0aGV5J3JlIGxvYWRpbmcgaWYgdGhlIGJhY2tpbmcgZGF0YSBpcyBhIGBQcm9taXNlYFxuICAgICAgICAgKi9cbiAgICAgICAgaXRlbUxvYWRpbmdDb250ZW50OiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW4gb3B0aW9uYWwgZnVuY3Rpb24gdG8gc3BlY2lmeSBob3cgYW4gaXRlbSBzaG91bGQgYmUgY29udmVydGVkIHRvIEpTWCwgaWYgaXQgaXMgbm90IGFscmVhZHkgcmVuZGVyYWJsZSBieSBSZWFjdFxuICAgICAgICAgKi9cbiAgICAgICAgaXRlbVRvSlNYQ29udmVydGVyRnVuYzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnRlbnQgdG8gYmUgZGlzcGxheWVkIGluc2lkZSBvZiB0aGUgXCJGaXJzdCBwYWdlXCIgY29udHJvbCBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIGp1bXBUb0ZpcnN0Q29udHJvbENvbnRlbnQ6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb250ZW50IHRvIGJlIGRpc3BsYXllZCBpbnNpZGUgb2YgdGhlIFwiTGFzdCBwYWdlXCIgY29udHJvbCBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIGp1bXBUb0xhc3RDb250cm9sQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXBhZ2luYXRpb24taXRlbS1saXN0YCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBsaXN0V3JhcHBlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb250ZW50IHRvIGJlIGRpc3BsYXllZCBpbnNpZGUgb2YgdGhlIFwiTmV4dCBwYWdlXCIgY29udHJvbCBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIG5leHRQYWdlQ29udHJvbENvbnRlbnQ6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdG8gYmUgZGlzcGxheWVkIG9uIGVhY2ggcGFnZTsgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyb1xuICAgICAgICAgKi9cbiAgICAgICAgbnVtSXRlbXNQZXJQYWdlOiBmdW5jdGlvbiB2YWxpZGF0ZU51bUl0ZW1zUGVyUGFnZShwcm9wcykge1xuICAgICAgICAgICAgaWYgKGlzSW50ZWdlcihwcm9wcy5udW1JdGVtc1BlclBhZ2UpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ2BudW1JdGVtc1BlclBhZ2VgIG11c3QgYmUgYW4gaW50ZWdlci4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMubnVtSXRlbXNQZXJQYWdlIDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ2BudW1JdGVtc1BlclBhZ2VgIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBtYXhpbXVtIG51bWJlciBvZiBwYWdlcyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIGNvbnRyb2wgYmFyIGF0IG9uZSB0aW1lXG4gICAgICAgICAqL1xuICAgICAgICBudW1QYWdlVG9nZ2xlczogUHJvcFR5cGVzLm51bWJlcixcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYWdpbmF0aW9uIGNvbnRyb2xzIGFyZSBkaXNwbGF5ZWQgYWJvdmUsIGJlbG93LCBvciBib3RoIGFib3ZlIGFuZCBiZWxvdyB0aGUgY29udGVudFxuICAgICAgICAgKi9cbiAgICAgICAgcG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihPYmplY3Qua2V5cyhQYWdpbmF0aW9uLnBvc2l0aW9ucykpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb250ZW50IHRvIGJlIGRpc3BsYXllZCBpbnNpZGUgb2YgdGhlIFwiUHJldmlvdXMgcGFnZVwiIGNvbnRyb2wgYnV0dG9uXG4gICAgICAgICAqL1xuICAgICAgICBwcmV2aW91c1BhZ2VDb250cm9sQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZXRoZXIgdGhlIFwiRmlyc3QgcGFnZVwiIGNvbnRyb2wgYnV0dG9uIHNob3VsZCBiZSBkaXNwbGF5ZWRcbiAgICAgICAgICovXG4gICAgICAgIHNob3dKdW1wVG9GaXJzdDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZXRoZXIgdGhlIFwiTGFzdCBwYWdlXCIgY29udHJvbCBidXR0b24gc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd0p1bXBUb0xhc3Q6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW5kZXJzIGFuIGVsZW1lbnQgY2FsbGVkIGAuYi1wYWdpbmF0aW9uLWNvbnRyb2wtc3RhdGVgIHRoYXQgY29udGFpbnMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHBhZ2luYXRpb24gbGlrZSBcIjEgb2YgMTBcIjsgYWx0ZXJuYXRpdmVseSwgdGhpcyBwcm9wIGFsc28gYWNjZXB0cyBhIGZ1bmN0aW9uIHRoYXQgaXQgd2lsbCBjYWxsIHdpdGggdGhlIGN1cnJlbnRQYWdlIGFuZCB0b3RhbFBhZ2VzIGZvciB5b3UgdG8gZm9ybWF0OlxuXG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiBzaG93UGFnaW5hdGVkU3RhdGU9e1xuICAgICAgICAgKiAgICAgKGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzKSA9PiAoXG4gICAgICAgICAqICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2Zvbyc+XG4gICAgICAgICAqICAgICAgICAgICAgIFlvdSdyZSBvbiBwYWdlIHtjdXJyZW50UGFnZX0gb2Yge3RvdGFsUGFnZXN9IHBhZ2VzIVxuICAgICAgICAgKiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgKiAgICAgKVxuICAgICAgICAgKiB9XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd1BhZ2luYXRpb25TdGF0ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuYm9vbCxcbiAgICAgICAgICAgIFByb3BUeXBlcy5mdW5jLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBTZWdtZW50ZWRDb250cm9sIG5vZGUocyksIGAuYi1wYWdpbmF0aW9uLWNvbnRyb2xzYFxuICAgICAgICAgKi9cbiAgICAgICAgdG9nZ2xlV3JhcHBlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgdmlld1xuICAgICAgICAgKi9cbiAgICAgICAgdG90YWxJdGVtczogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGFmdGVyOiBudWxsLFxuICAgICAgICBiZWZvcmU6IG51bGwsXG4gICAgICAgIGN1c3RvbUNvbnRyb2xDb250ZW50OiBudWxsLFxuICAgICAgICBnZXRJdGVtOiBub29wLFxuICAgICAgICBoaWRlUGFnZXJJZk5vdE5lZWRlZDogZmFsc2UsXG4gICAgICAgIGlkZW50aWZpZXI6IHV1aWQoKSxcbiAgICAgICAgaW5pdGlhbFBhZ2U6IDEsXG4gICAgICAgIGl0ZW1Mb2FkaW5nQ29udGVudDogbnVsbCxcbiAgICAgICAgaXRlbVRvSlNYQ29udmVydGVyRnVuYzogaWRlbnRpdHksXG4gICAgICAgIGp1bXBUb0ZpcnN0Q29udHJvbENvbnRlbnQ6ICfCqyBGaXJzdCcsXG4gICAgICAgIGp1bXBUb0xhc3RDb250cm9sQ29udGVudDogJ0xhc3QgwrsnLFxuICAgICAgICBsaXN0V3JhcHBlclByb3BzOiB7fSxcbiAgICAgICAgbmV4dFBhZ2VDb250cm9sQ29udGVudDogJ05leHQg4oC6JyxcbiAgICAgICAgbnVtSXRlbXNQZXJQYWdlOiAxMCxcbiAgICAgICAgbnVtUGFnZVRvZ2dsZXM6IDUsXG4gICAgICAgIHBvc2l0aW9uOiBQYWdpbmF0aW9uLnBvc2l0aW9ucy5BQk9WRSxcbiAgICAgICAgcHJldmlvdXNQYWdlQ29udHJvbENvbnRlbnQ6ICfigLkgUHJldmlvdXMnLFxuICAgICAgICBzaG93SnVtcFRvRmlyc3Q6IHRydWUsXG4gICAgICAgIHNob3dKdW1wVG9MYXN0OiB0cnVlLFxuICAgICAgICBzaG93UGFnaW5hdGlvblN0YXRlOiB0cnVlLFxuICAgICAgICB0b2dnbGVXcmFwcGVyUHJvcHM6IHt9LFxuICAgICAgICB0b3RhbEl0ZW1zOiBudWxsLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhQYWdpbmF0aW9uLmRlZmF1bHRQcm9wcylcblxuICAgIHN0YXRlID0ge1xuICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5wcm9wcy5pbml0aWFsUGFnZSxcbiAgICAgICAgdGFyZ2V0SW5kZXg6ICh0aGlzLnByb3BzLmluaXRpYWxQYWdlIC0gMSkgKiB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZSxcbiAgICB9XG5cbiAgICBjdXJyZW50UGFnZSA9ICgpID0+IHRoaXMuc3RhdGUuY3VycmVudFBhZ2VcbiAgICBnZXRQYWdlRm9ySW5kZXggPSAoaW5kZXgsIGl0ZW1zUGVyUGFnZSA9IHRoaXMucHJvcHMubnVtSXRlbXNQZXJQYWdlKSA9PiBNYXRoLmNlaWwoKGluZGV4ICsgMSkgLyBpdGVtc1BlclBhZ2UpXG4gICAgdG90YWxQYWdlcyA9ICgpID0+IE1hdGguY2VpbCh0aGlzLnByb3BzLnRvdGFsSXRlbXMgLyB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZSlcblxuICAgIGZpcnN0VmlzaWJsZUl0ZW1JbmRleCA9ICgpID0+ICh0aGlzLmN1cnJlbnRQYWdlKCkgLSAxKSAqIHRoaXMucHJvcHMubnVtSXRlbXNQZXJQYWdlXG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgaWYgKHByZXZTdGF0ZS5jdXJyZW50UGFnZSAhPT0gdGhpcy5jdXJyZW50UGFnZSgpKSB7XG4gICAgICAgICAgICBmaW5kRE9NTm9kZSh0aGlzLnJlZnMuaXRlbV8wKS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgICAgY29uc3Qgb2xkUHJvcHMgPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIC8vIHVzZSB0cmFuc2FjdGlvbmFsIGBzZXRTdGF0ZSgpYCBzeW50YXggdG8gZW5zdXJlIHRoYXQgcGVuZGluZyBzdGF0ZSB1cGRhdGVzIGFyZSBob25vcmVkLFxuICAgICAgICAvLyBsaWtlIHRob3NlIGZyb20gYHBhZ2VUb0luZGV4KClgXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgICAgICAgLy8gTk9URTogYHByb3BzYCBoZXJlIGlzIHRlY2huaWNhbGx5IHRoZSBgbmV4dFByb3BzYCB5b3UnZCByZWNlaXZlIGZyb20gdGhlIGZpcnN0IGNXUlAgYXJndW1lbnRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQncyB3aHkgd2UncmUgY2FjaGluZyBgb2xkUHJvcHNgIG91dHNpZGUgdGhlIGBzZXRTdGF0ZWBcbiAgICAgICAgICAgIGlmIChwcm9wcy5pZGVudGlmaWVyICE9PSBvbGRQcm9wcy5pZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEluZGV4OiAwLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuZ2V0UGFnZUZvckluZGV4KHN0YXRlLnRhcmdldEluZGV4LCBwcm9wcy5udW1JdGVtc1BlclBhZ2UpLFxuICAgICAgICAgICAgICAgIHRhcmdldEluZGV4OiBzdGF0ZS50YXJnZXRJbmRleCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBhZ2VUb0luZGV4ID0gKGkpID0+IHtcbiAgICAgICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5wcm9wcy50b3RhbEl0ZW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKGBDYW5ub3QgcGFnZSB0byBpbnZhbGlkIGluZGV4ICR7aX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLmdldFBhZ2VGb3JJbmRleChpKSxcbiAgICAgICAgICAgIHRhcmdldEluZGV4OiBpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVQYWdlQnV0dG9uT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IFtdO1xuICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMuY3VycmVudFBhZ2UoKTtcbiAgICAgICAgY29uc3QgbnVtUGFnZVRvZ2dsZXMgPSB0aGlzLnByb3BzLm51bVBhZ2VUb2dnbGVzO1xuICAgICAgICBjb25zdCB0b3RhbFBhZ2VzID0gdGhpcy50b3RhbFBhZ2VzKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0UGFnZSA9IGN1cnJlbnRQYWdlIC0gKChjdXJyZW50UGFnZSAtIDEpICUgbnVtUGFnZVRvZ2dsZXMpO1xuICAgICAgICBjb25zdCBlbmRQYWdlID0gTWF0aC5taW4oc3RhcnRQYWdlICsgbnVtUGFnZVRvZ2dsZXMgLSAxLCB0b3RhbFBhZ2VzKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93UGFnaW5hdGlvblN0YXRlKSB7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBpc0Z1bmN0aW9uKHRoaXMucHJvcHMuc2hvd1BhZ2luYXRpb25TdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuc2hvd1BhZ2luYXRpb25TdGF0ZShjdXJyZW50UGFnZSwgdG90YWxQYWdlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke2N1cnJlbnRQYWdlfSBvZiAke3RvdGFsUGFnZXN9YCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogJycsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYi1wYWdpbmF0aW9uLWNvbnRyb2wgYi1wYWdpbmF0aW9uLWNvbnRyb2wtc3RhdGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93SnVtcFRvRmlyc3QpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucHJvcHMuanVtcFRvRmlyc3RDb250cm9sQ29udGVudCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogUGFnaW5hdGlvbi5jb250cm9scy5GSVJTVCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5jdXJyZW50UGFnZSgpID09PSAxLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ItcGFnaW5hdGlvbi1jb250cm9sIGItcGFnaW5hdGlvbi1jb250cm9sLWZpcnN0JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucHJvcHMucHJldmlvdXNQYWdlQ29udHJvbENvbnRlbnQsXG4gICAgICAgICAgICB2YWx1ZTogUGFnaW5hdGlvbi5jb250cm9scy5QUkVWSU9VUyxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmN1cnJlbnRQYWdlKCkgPT09IDEsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdiLXBhZ2luYXRpb24tY29udHJvbCBiLXBhZ2luYXRpb24tY29udHJvbC1wcmV2aW91cycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydFBhZ2U7IGkgPD0gZW5kUGFnZTsgaSsrKSB7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ItcGFnaW5hdGlvbi1jb250cm9sJyxcbiAgICAgICAgICAgICAgICAnZGF0YS1wYWdlLW51bWJlcic6IGksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGkgPT09IHRoaXMuY3VycmVudFBhZ2UoKSxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29udGVudDogdGhpcy5wcm9wcy5uZXh0UGFnZUNvbnRyb2xDb250ZW50LFxuICAgICAgICAgICAgdmFsdWU6IFBhZ2luYXRpb24uY29udHJvbHMuTkVYVCxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmN1cnJlbnRQYWdlKCkgPT09IHRvdGFsUGFnZXMsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdiLXBhZ2luYXRpb24tY29udHJvbCBiLXBhZ2luYXRpb24tY29udHJvbC1uZXh0JyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2hvd0p1bXBUb0xhc3QpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucHJvcHMuanVtcFRvTGFzdENvbnRyb2xDb250ZW50LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBQYWdpbmF0aW9uLmNvbnRyb2xzLkxBU1QsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuY3VycmVudFBhZ2UoKSA9PT0gdG90YWxQYWdlcyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiLXBhZ2luYXRpb24tY29udHJvbCBiLXBhZ2luYXRpb24tY29udHJvbC1sYXN0JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY3VzdG9tQ29udHJvbENvbnRlbnQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucHJvcHMuY3VzdG9tQ29udHJvbENvbnRlbnQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHV1aWQoKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiLXBhZ2luYXRpb24tY29udHJvbCBiLXBhZ2luYXRpb24tY29udHJvbC1jdXN0b20nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUl0ZW1zKCkge1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWRJdGVtcyA9IFtdO1xuICAgICAgICBjb25zdCBmaXJzdEl0ZW1JbmRleCA9IHRoaXMuZmlyc3RWaXNpYmxlSXRlbUluZGV4KCk7XG4gICAgICAgIGNvbnN0IGxhc3RJdGVtSW5kZXggPSBNYXRoLm1pbih0aGlzLnByb3BzLnRvdGFsSXRlbXMsIGZpcnN0SXRlbUluZGV4ICsgdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2UpIC0gMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gZmlyc3RJdGVtSW5kZXg7IGkgPD0gbGFzdEl0ZW1JbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICBnZW5lcmF0ZWRJdGVtcy5wdXNoKHtkYXRhOiB0aGlzLnByb3BzLmdldEl0ZW0oaSl9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRJdGVtcztcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBsZXQgbmV4dFRhcmdldEluZGV4O1xuXG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgY2FzZSBQYWdpbmF0aW9uLmNvbnRyb2xzLkZJUlNUOlxuICAgICAgICAgICAgbmV4dFRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBhZ2luYXRpb24uY29udHJvbHMuUFJFVklPVVM6XG4gICAgICAgICAgICBuZXh0VGFyZ2V0SW5kZXggPSB0aGlzLmZpcnN0VmlzaWJsZUl0ZW1JbmRleCgpIC0gdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYWdpbmF0aW9uLmNvbnRyb2xzLk5FWFQ6XG4gICAgICAgICAgICBuZXh0VGFyZ2V0SW5kZXggPSB0aGlzLmZpcnN0VmlzaWJsZUl0ZW1JbmRleCgpICsgdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQYWdpbmF0aW9uLmNvbnRyb2xzLkxBU1Q6XG4gICAgICAgICAgICBuZXh0VGFyZ2V0SW5kZXggPSB0aGlzLnByb3BzLnRvdGFsSXRlbXMgLSAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBuZXh0VGFyZ2V0SW5kZXggPSBwYXJzZUludCh2YWx1ZSwgMTApICogdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2UgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5nZXRQYWdlRm9ySW5kZXgobmV4dFRhcmdldEluZGV4KSxcbiAgICAgICAgICAgIHRhcmdldEluZGV4OiBuZXh0VGFyZ2V0SW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlckl0ZW1zKCkge1xuICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHMubGlzdFdyYXBwZXJQcm9wcztcbiAgICAgICAgY29uc3QgaW5kZXhPZmZzZXQgPSB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZSAqICh0aGlzLmN1cnJlbnRQYWdlKCkgLSAxKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEFycm93S2V5TmF2aWdhdGlvblxuICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgICByZWY9J2l0ZW1MaXN0J1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcGFnaW5hdGlvbi1pdGVtcycsIHByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgIHt0aGlzLmdlbmVyYXRlSXRlbXMoKS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8SXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17YGl0ZW1fJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydFRvSlNYRnVuYz17dGhpcy5wcm9wcy5pdGVtVG9KU1hDb252ZXJ0ZXJGdW5jfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE9e2l0ZW0uZGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVuPXtpbmRleCAlIDIgPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9e2luZGV4T2Zmc2V0ICsgaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0NvbnRlbnQ9e3RoaXMucHJvcHMuaXRlbUxvYWRpbmdDb250ZW50fSAvPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9BcnJvd0tleU5hdmlnYXRpb24+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyQ29udHJvbHMocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKCAgIHRoaXMucHJvcHMuaGlkZVBhZ2VySWZOb3ROZWVkZWRcbiAgICAgICAgICAgICYmIHRoaXMucHJvcHMudG90YWxJdGVtcyA8PSB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzLnRvZ2dsZVdyYXBwZXJQcm9wcztcbiAgICAgICAgY29uc3QgcG9zaXRpb25Mb3dlciA9IHBvc2l0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQ2FwaXRhbGl6ZWQgPSBwb3NpdGlvbkxvd2VyWzBdLnRvVXBwZXJDYXNlKCkgKyBwb3NpdGlvbkxvd2VyLnNsaWNlKDEpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8U2VnbWVudGVkQ29udHJvbFxuICAgICAgICAgICAgICAgIHsuLi5wcm9wc31cbiAgICAgICAgICAgICAgICByZWY9e2BzZWdtZW50ZWRDb250cm9sJHtwb3NpdGlvbkNhcGl0YWxpemVkfWB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wYWdpbmF0aW9uLWNvbnRyb2xzJywgcHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgIFtgYi1wYWdpbmF0aW9uLWNvbnRyb2xzLSR7cG9zaXRpb25Mb3dlcn1gXTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLmNyZWF0ZVBhZ2VCdXR0b25PcHRpb25zKCl9XG4gICAgICAgICAgICAgICAgb25PcHRpb25TZWxlY3RlZD17dGhpcy5oYW5kbGVDbGlja30gLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJWaWV3KCkge1xuICAgICAgICBjb25zdCB7cHJvcHN9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBQYWdpbmF0aW9uLnBvc2l0aW9ucztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJlZj0ncGFnaW5hdGVkVmlldydcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2ItcGFnaW5hdGlvbic+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIChwcm9wcy5wb3NpdGlvbiA9PT0gcG9zaXRpb24uQUJPVkUgfHwgcHJvcHMucG9zaXRpb24gPT09IHBvc2l0aW9uLkJPVEgpXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5yZW5kZXJDb250cm9scyhwb3NpdGlvbi5BQk9WRSlcbiAgICAgICAgICAgICAgICAgICAgOiBub29wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHtwcm9wcy5iZWZvcmV9XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJdGVtcygpfVxuXG4gICAgICAgICAgICAgICAge3Byb3BzLmFmdGVyfVxuXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIChwcm9wcy5wb3NpdGlvbiA9PT0gcG9zaXRpb24uQkVMT1cgfHwgcHJvcHMucG9zaXRpb24gPT09IHBvc2l0aW9uLkJPVEgpXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5yZW5kZXJDb250cm9scyhwb3NpdGlvbi5CRUxPVylcbiAgICAgICAgICAgICAgICAgICAgOiBub29wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFBhZ2luYXRpb24uaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wYWdpbmF0aW9uLXdyYXBwZXInLCB0aGlzLnByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclZpZXcoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3ByaWF0ZSB2ZW5kb3ItcHJlZml4ZWQgcHJvcGVydHkgZm9yIHVzZSBpbiBwcm9ncmFtbWF0aWMgdHJhbnNmb3JtIHN0eWxlIG1hbmlwdWxhdGlvbi5cbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIHByb3BlcnR5IGtleSAoZS5nLiBgV2Via2l0VHJhbnNmb3JtYCwgYG1zVHJhbnNmb3JtYClcbiAqL1xuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIGRldGVjdFRyYW5zZm9ybVByb3BlcnR5KCkge1xuICAgIGNvbnN0IHByb3BzID0gW1xuICAgICAgICAndHJhbnNmb3JtJyxcbiAgICAgICAgJ1dlYmtpdFRyYW5zZm9ybScsXG4gICAgICAgICdNb3pUcmFuc2Zvcm0nLFxuICAgICAgICAnT1RyYW5zZm9ybScsXG4gICAgICAgICdtc1RyYW5zZm9ybScsXG4gICAgICAgICd3ZWJraXQtdHJhbnNmb3JtJywgLy8gdXNlZCBpbiBKU0RPTVxuICAgIF07XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcHJvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BzW2ldIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufSkoKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IERpYWxvZyBmcm9tICcuLi9ib3VuZGxlc3MtZGlhbG9nL2luZGV4JztcbmltcG9ydCBQb3J0YWwgZnJvbSAnLi4vYm91bmRsZXNzLXBvcnRhbC9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcbmltcG9ydCB0cmFuc2Zvcm1Qcm9wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy10cmFuc2Zvcm0tcHJvcGVydHkvaW5kZXgnO1xuXG5mdW5jdGlvbiB3aXRob3V0KGFycjEsIGFycjIpIHsgcmV0dXJuIGFycjEuZmlsdGVyKChpdGVtKSA9PiBhcnIyLmluZGV4T2YoaXRlbSkgPT09IC0xKTsgfVxuZnVuY3Rpb24gdmFsdWVzKG9iaikgICAgICAgICB7IHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcCgoa2V5KSA9PiBvYmpba2V5XSk7IH1cblxuY29uc3QgREVGQVVMVF9DQVJFVF9DT01QT05FTlQgPSAoXG4gICAgPHN2ZyB2aWV3Qm94PScwIDAgMTQgOS41JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPlxuICAgICAgICA8Zz5cbiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzTmFtZT0nYi1wb3BvdmVyLWNhcmV0LWJvcmRlcicgZmlsbD0nIzAwMCcgcG9pbnRzPSc3IDAgMTQgMTAgMCAxMCcgLz5cbiAgICAgICAgICAgIDxwb2x5Z29uIGNsYXNzTmFtZT0nYi1wb3BvdmVyLWNhcmV0LWZpbGwnIGZpbGw9JyNGRkYnIHBvaW50cz0nNi45ODIzMDQ0NCAxLjc1IDEyLjc1IDEwIDEuMjUgMTAnIC8+XG4gICAgICAgIDwvZz5cbiAgICA8L3N2Zz5cbik7XG5cbi8qKlxuIyBQb3BvdmVyXG5fX0Egbm9uLWJsb2NraW5nIGNvbnRhaW5lciBwb3NpdGlvbmVkIHRvIGEgc3BlY2lmaWMgYW5jaG9yIGVsZW1lbnQuX19cblxuQSBwb3BvdmVyIGlzIGEgdHlwZSBvZiBbZGlhbG9nXShodHRwczovL2dpdGh1Yi5jb20vYmlibGlvdGVjaC91aWtpdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtZGlhbG9nL1JFQURNRS5tZCkgdGhhdCBpcyBtZWFudCB0byBwcm92aWRlIGFkZGl0aW9uYWwgY29udGV4dCB0byBjb250ZW50IChhbiBcImFuY2hvclwiKSBjdXJyZW50bHkgb24tc2NyZWVuLiBUeXBpY2FsbHksIGEgcG9wb3ZlciBpcyBzcGF3bmVkIGJ5IGludGVyYWN0aW5nIHdpdGggdGhlIGNvbnRlbnQgaXQgZW5yaWNoZXMgYW5kIGlzIGRpc21pc3NlZCBieSBjbGlja2luZyBvciBzaGlmdGluZyBmb2N1cyB0byBhbiBhbHRlcm5hdGUgbG9jYXRpb24uXG5cbj4gVGhlIEJvdW5kbGVzcyBUZWFtIHJlY29tbWVuZHMgcmV2aWV3aW5nIHRoZSBbUG9wb3Zlcl0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvbWFjL2RvY3VtZW50YXRpb24vVXNlckV4cGVyaWVuY2UvQ29uY2VwdHVhbC9PU1hISUd1aWRlbGluZXMvQ29udHJvbHNWaWV3Lmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDUyLVNXMikgc2VjdGlvbiBvZiB0aGUgQXBwbGUgSHVtYW4gSW50ZXJmYWNlIEd1aWRlbGluZXMgZm9yIGluc3BpcmF0aW9uIG9mIGRlc2lnbiBwYXR0ZXJucyBhbmQgb3B0aW1hbCB1c2FnZSBvZiBgUG9wb3ZlcmAgaW4geW91ciBwcm9qZWN0LlxuXG5Vc2UgYSBwb3NpdGlvbmluZyBwcmVzZXQgdG8gYWxpZ24gdGhlIHBvcG92ZXIsIGUuZy5cblxuYGBganN4XG48UG9wb3ZlclxuICAgIGFuY2hvcj17SFRNTEVsZW1lbnR9XG4gICAgcHJlc2V0PXtQb3BvdmVyLnByZXNldC5CRUxPV30+XG4gICAgTXkgcG9wb3ZlciBjb250ZW50IVxuPC9Qb3BvdmVyPlxuYGBgXG5cbkZvciBtb3JlIGFkdmFuY2VkIHBvc2l0aW9uaW5nLCBjb21iaW5lIHRoZSB7ZWxlbWVudH17QXhpc31BbGlnbiBwcm9wZXJ0aWVzIHRvIGNyZWF0ZSBjb21wbGV0ZSBhbGlnbm1lbnQgcG9pbnRzKi4gZS5nLlxuXG5gYGBqc3hcbjxQb3BvdmVyXG4gICAgYW5jaG9yPXtIVE1MRWxlbWVudH1cbiAgICBhbmNob3JYQWxpZ249e1BvcG92ZXIucG9zaXRpb24uTUlERExFfVxuICAgIGFuY2hvcllBbGlnbj17UG9wb3Zlci5wb3NpdGlvbi5FTkR9PlxuICAgIE15IHBvcG92ZXIgY29udGVudCFcbjwvUG9wb3Zlcj5cbmBgYFxuXG5fKk5PVEU6IERlbW8gcmVmZXJlbmNlIHN0eWxlcyBhcmUgb25seSBwcm92aWRlZCBmb3IgdGhlIHByZXNldCB1c2UgY2FzZXMuX1xuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblJlZmVyIHRvIFtEaWFsb2ddKGh0dHBzOi8vZ2l0aHViLmNvbS9iaWJsaW90ZWNoL3Vpa2l0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL2JvdW5kbGVzcy1kaWFsb2cvUkVBRE1FLm1kKVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BvdmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHBvc2l0aW9uID0ge1xuICAgICAgICBTVEFSVDogJ1NUQVJUJyxcbiAgICAgICAgTUlERExFOiAnTUlERExFJyxcbiAgICAgICAgRU5EOiAnRU5EJyxcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJlc2V0ID0ge1xuICAgICAgICAnQUJPVkUnOiB7XG4gICAgICAgICAgICBhbmNob3JYQWxpZ246IFBvcG92ZXIucG9zaXRpb24uTUlERExFLFxuICAgICAgICAgICAgYW5jaG9yWUFsaWduOiBQb3BvdmVyLnBvc2l0aW9uLlNUQVJULFxuICAgICAgICAgICAgc2VsZlhBbGlnbjogUG9wb3Zlci5wb3NpdGlvbi5NSURETEUsXG4gICAgICAgICAgICBzZWxmWUFsaWduOiBQb3BvdmVyLnBvc2l0aW9uLkVORCxcbiAgICAgICAgfSxcbiAgICAgICAgJ0JFTE9XJzoge1xuICAgICAgICAgICAgYW5jaG9yWEFsaWduOiBQb3BvdmVyLnBvc2l0aW9uLk1JRERMRSxcbiAgICAgICAgICAgIGFuY2hvcllBbGlnbjogUG9wb3Zlci5wb3NpdGlvbi5FTkQsXG4gICAgICAgICAgICBzZWxmWEFsaWduOiBQb3BvdmVyLnBvc2l0aW9uLk1JRERMRSxcbiAgICAgICAgICAgIHNlbGZZQWxpZ246IFBvcG92ZXIucG9zaXRpb24uU1RBUlQsXG4gICAgICAgIH0sXG4gICAgICAgICdMRUZUJzoge1xuICAgICAgICAgICAgYW5jaG9yWEFsaWduOiBQb3BvdmVyLnBvc2l0aW9uLlNUQVJULFxuICAgICAgICAgICAgYW5jaG9yWUFsaWduOiBQb3BvdmVyLnBvc2l0aW9uLk1JRERMRSxcbiAgICAgICAgICAgIHNlbGZYQWxpZ246IFBvcG92ZXIucG9zaXRpb24uRU5ELFxuICAgICAgICAgICAgc2VsZllBbGlnbjogUG9wb3Zlci5wb3NpdGlvbi5NSURETEUsXG4gICAgICAgIH0sXG4gICAgICAgICdSSUdIVCc6IHtcbiAgICAgICAgICAgIGFuY2hvclhBbGlnbjogUG9wb3Zlci5wb3NpdGlvbi5FTkQsXG4gICAgICAgICAgICBhbmNob3JZQWxpZ246IFBvcG92ZXIucG9zaXRpb24uTUlERExFLFxuICAgICAgICAgICAgc2VsZlhBbGlnbjogUG9wb3Zlci5wb3NpdGlvbi5TVEFSVCxcbiAgICAgICAgICAgIHNlbGZZQWxpZ246IFBvcG92ZXIucG9zaXRpb24uTUlERExFLFxuICAgICAgICB9LFxuICAgIH1cblxuICAgIHN0YXRpYyBwcmVzZXRWYWx1ZXMgPSB2YWx1ZXMoUG9wb3Zlci5wcmVzZXQpXG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKiogUG9wb3ZlciBzdXBwb3J0cyBhbGwgW0RpYWxvZyBwcm9wc10oL0RpYWxvZyNwcm9wcykgKi9cbiAgICAgICAgLi4uRGlhbG9nLnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBET00gZWxlbWVudCBvciBSZWFjdCByZWZlcmVuY2UgdG8gb25lIGZvciBwb3NpdGlvbmluZyBwdXJwb3Nlc1xuICAgICAgICAgKi9cbiAgICAgICAgYW5jaG9yOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5pbnN0YW5jZU9mKEhUTUxFbGVtZW50KSxcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgcHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgICAgICAgICAgc3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgICAgICAgICB9KSwgLy8gYSByZWFjdCBlbGVtZW50IG9mIHNvbWUgZmFzaGlvbiwgUHJvcFR5cGVzLmVsZW1lbnQgd2Fzbid0IHdvcmtpbmdcbiAgICAgICAgXSkuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogbG9jYXRpb24gb24gdGhlIGFuY2hvciBYLWF4aXMgdG8gdXNlIGZvciBhbGlnbm1lbnQgY2FsY3VsYXRpb25zXG4gICAgICAgICAqIC0gYFBvcG92ZXIucG9zaXRpb24uU1RBUlRgXG4gICAgICAgICAqICAgZXF1YXRlcyB0byBgezAsID99YCBvbiBhIDEwMHgxMDAgY2FydGVzaWFuIHBsYW5lXG5cbiAgICAgICAgICogLSBgUG9wb3Zlci5wb3NpdGlvbi5NSURETEVgXG4gICAgICAgICAqICAgZXF1YXRlcyB0byBgezUwLCA/fWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuXG4gICAgICAgICAqIC0gYFBvcG92ZXIucG9zaXRpb24uRU5EYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHsxMDAsID99YCBvbiBhIDEwMHgxMDAgY2FydGVzaWFuIHBsYW5lXG4gICAgICAgICAqL1xuICAgICAgICBhbmNob3JYQWxpZ246IFByb3BUeXBlcy5vbmVPZihPYmplY3Qua2V5cyhQb3BvdmVyLnBvc2l0aW9uKSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGxvY2F0aW9uIG9uIHRoZSBhbmNob3IgWS1heGlzIHRvIHVzZSBmb3IgYWxpZ25tZW50IGNhbGN1bGF0aW9uc1xuICAgICAgICAgKiAtIGBQb3BvdmVyLnBvc2l0aW9uLlNUQVJUYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHs/LCAwfWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuXG4gICAgICAgICAqIC0gYFBvcG92ZXIucG9zaXRpb24uTUlERExFYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHs/LCA1MH1gIG9uIGEgMTAweDEwMCBjYXJ0ZXNpYW4gcGxhbmVcblxuICAgICAgICAgKiAtIGBQb3BvdmVyLnBvc2l0aW9uLkVORGBcbiAgICAgICAgICogICBlcXVhdGVzIHRvIGB7PywgMTAwfWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuICAgICAgICAgKi9cbiAgICAgICAgYW5jaG9yWUFsaWduOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoUG9wb3Zlci5wb3NpdGlvbikpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiB0aGUgZ2l2ZW4gYWxpZ25tZW50IHNldHRpbmdzIHdvdWxkIHRha2UgdGhlIHBvcG92ZXIgb3V0IG9mIGJvdW5kcywgY2hhbmdlIHRoZSBhbGlnbm1lbnQgYXMgbmVjZXNzYXJ5IHRvIHJlbWFpbiBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgICovXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIEpTWCB0aGF0IGlzIHJlbmRlcmVkIGFuZCB1c2VkIHRvIHBvaW50IGF0IHRoZSBtaWRkbGUgb2YgdGhlIGFuY2hvciBlbGVtZW50IGFuZCBpbmRpY2F0ZSB0aGUgY29udGV4dCBvZiB0aGUgcG9wb3ZlclxuICAgICAgICAgKi9cbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IFByb3BUeXBlcy5lbGVtZW50LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkvYWxsIHN1cHBvcnRlZCBbUG9ydGFsIHByb3BzXShib3VuZGxlc3MtcG9ydGFsL1JFQURNRS5tZClcbiAgICAgICAgICovXG4gICAgICAgIHBvcnRhbFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIGJhc2VsaW5lIHNldCBvZiBhbGlnbm1lbnQgcHJvcGVydGllcyB0aGF0IGNvdmVyIG1vc3QgdXNlIGNhc2VzOyBvdmVycmlkZSBhIHBhcnRpY3VsYXIgc3VicHJvcGVydHkgYnkgcGFzc2luZyBpdCBhcyB3ZWxsOlxuXG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiA8UG9wb3ZlclxuICAgICAgICAgKiAgICAgYW5jaG9yPXtIVE1MRWxlbWVudH1cbiAgICAgICAgICogICAgIHByZXNldD17UG9wb3Zlci5wcmVzZXQuQkVMT1d9XG4gICAgICAgICAqICAgICBzZWxmWEFsaWduPXtQb3BvdmVyLnBvc2l0aW9uLlNUQVJUfT5cbiAgICAgICAgICogICAgIE15IHBvcG92ZXIgY29udGVudCFcbiAgICAgICAgICogPC9Qb3BvdmVyPlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICovXG4gICAgICAgIHByZXNldDogUHJvcFR5cGVzLm9uZU9mKFBvcG92ZXIucHJlc2V0VmFsdWVzKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogbG9jYXRpb24gb24gdGhlIHBvcG92ZXIgWC1heGlzIHRvIHVzZSBmb3IgYWxpZ25tZW50IGNhbGN1bGF0aW9uc1xuICAgICAgICAgKiAtIGBQb3BvdmVyLnBvc2l0aW9uLlNUQVJUYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHswLCA/fWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuXG4gICAgICAgICAqIC0gYFBvcG92ZXIucG9zaXRpb24uTUlERExFYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHs1MCwgP31gIG9uIGEgMTAweDEwMCBjYXJ0ZXNpYW4gcGxhbmVcblxuICAgICAgICAgKiAtIGBQb3BvdmVyLnBvc2l0aW9uLkVORGBcbiAgICAgICAgICogICBlcXVhdGVzIHRvIGB7MTAwLCA/fWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZlhBbGlnbjogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKFBvcG92ZXIucG9zaXRpb24pKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogbG9jYXRpb24gb24gdGhlIHBvcG92ZXIgWS1heGlzIHRvIHVzZSBmb3IgYWxpZ25tZW50IGNhbGN1bGF0aW9uc1xuICAgICAgICAgKiAtIGBQb3BvdmVyLnBvc2l0aW9uLlNUQVJUYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHs/LCAwfWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuXG4gICAgICAgICAqIC0gYFBvcG92ZXIucG9zaXRpb24uTUlERExFYFxuICAgICAgICAgKiAgIGVxdWF0ZXMgdG8gYHs/LCA1MH1gIG9uIGEgMTAweDEwMCBjYXJ0ZXNpYW4gcGxhbmVcblxuICAgICAgICAgKiAtIGBQb3BvdmVyLnBvc2l0aW9uLkVORGBcbiAgICAgICAgICogICBlcXVhdGVzIHRvIGB7PywgMTAwfWAgb24gYSAxMDB4MTAwIGNhcnRlc2lhbiBwbGFuZVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZllBbGlnbjogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKFBvcG92ZXIucG9zaXRpb24pKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcG9wb3ZlcmAgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgd3JhcHBlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIC4uLkRpYWxvZy5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGFuY2hvcjogZG9jdW1lbnQuYm9keSxcbiAgICAgICAgYW5jaG9yWEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIGFuY2hvcllBbGlnbjogdW5kZWZpbmVkLFxuICAgICAgICBhdXRvUmVwb3NpdGlvbjogdHJ1ZSxcbiAgICAgICAgY2FwdHVyZUZvY3VzOiBmYWxzZSxcbiAgICAgICAgY2FyZXRDb21wb25lbnQ6IERFRkFVTFRfQ0FSRVRfQ09NUE9ORU5ULFxuICAgICAgICBjbG9zZU9uRXNjS2V5OiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZUNsaWNrOiB0cnVlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZVNjcm9sbDogdHJ1ZSxcbiAgICAgICAgcG9ydGFsUHJvcHM6IHt9LFxuICAgICAgICBwcmVzZXQ6IFBvcG92ZXIucHJlc2V0LkJFTE9XLFxuICAgICAgICBzZWxmWEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIHNlbGZZQWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgd3JhcHBlclByb3BzOiB7fSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gd2l0aG91dChPYmplY3Qua2V5cyhQb3BvdmVyLmRlZmF1bHRQcm9wcyksIERpYWxvZy5pbnRlcm5hbEtleXMpXG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBhbmNob3JYQWxpZ246IHByb3BzLmFuY2hvclhBbGlnbiB8fCBwcm9wcy5wcmVzZXQuYW5jaG9yWEFsaWduLFxuICAgICAgICAgICAgYW5jaG9yWUFsaWduOiBwcm9wcy5hbmNob3JZQWxpZ24gfHwgcHJvcHMucHJlc2V0LmFuY2hvcllBbGlnbixcbiAgICAgICAgICAgIHNlbGZYQWxpZ246IHByb3BzLnNlbGZYQWxpZ24gICAgIHx8IHByb3BzLnByZXNldC5zZWxmWEFsaWduLFxuICAgICAgICAgICAgc2VsZllBbGlnbjogcHJvcHMuc2VsZllBbGlnbiAgICAgfHwgcHJvcHMucHJlc2V0LnNlbGZZQWxpZ24sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvcikge1xuICAgICAgICBjb25zdCBhbmNob3JSZWN0ID0gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBib2R5UmVjdCA9IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5hbmNob3JMZWZ0ID0gYW5jaG9yUmVjdC5sZWZ0O1xuICAgICAgICB0aGlzLmFuY2hvclRvcCA9IGFuY2hvclJlY3QudG9wO1xuICAgICAgICB0aGlzLmFuY2hvckhlaWdodCA9IGFuY2hvclJlY3QuaGVpZ2h0O1xuICAgICAgICB0aGlzLmFuY2hvcldpZHRoID0gYW5jaG9yUmVjdC53aWR0aDtcblxuICAgICAgICAvLyBub3JtYWxseSB3ZSdkIHVzZSBzY3JvbGxUb3Avc2Nyb2xsTGVmdCwgYnV0IHNjcm9sbCBiZWhhdmlvciBjaGFuZ2VzIHdoZW4gcG9zaXRpb246IHN0aWNreSBpcyBlbmFibGVkIGluIENocm9tZVxuICAgICAgICAvLyBhbmQgaW52ZXJ0aW5nIHRoZSBuZWdhdGl2ZSB2aWV3cG9ydCByZWN0IHZhbHVlIHNlZW1zIHRvIHdvcmsgbW9yZSBjb25zaXN0ZW50bHlcbiAgICAgICAgdGhpcy5ib2R5TGVmdCA9IGJvZHlSZWN0LmxlZnQgKiAtMTtcbiAgICAgICAgdGhpcy5ib2R5VG9wID0gYm9keVJlY3QudG9wICogLTE7XG4gICAgfVxuXG4gICAgZ2V0TmV4dENhcmV0WFBvc2l0aW9uKGFuY2hvciwgY2FyZXQgPSB0aGlzLiRjYXJldCkge1xuICAgICAgICBjb25zdCB7YW5jaG9yWEFsaWduLCBzZWxmWEFsaWduLCBhbmNob3JZQWxpZ24sIHNlbGZZQWxpZ259ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBQb3BvdmVyLnBvc2l0aW9uO1xuXG4gICAgICAgIGxldCBuZXh0WCA9IDA7XG5cbiAgICAgICAgLy8gd2Ugb25seSB3YW50IHRvIGNoYW5nZSB0aGUgWCBwb3NpdGlvbiB3aGVuIHdlJ3JlXG4gICAgICAgIC8vIGZ1bGx5IGFib3ZlIG9yIGJlbG93IHRoZSBhbmNob3IgYW5kIHNlbGZYQWxpZ24gaXNuJ3QgTUlERExFXG5cbiAgICAgICAgaWYgKCAgIHNlbGZYQWxpZ24gIT09IHBvc2l0aW9uLk1JRERMRVxuICAgICAgICAgICAgJiYgKCAgIGFuY2hvcllBbGlnbiA9PT0gcG9zaXRpb24uU1RBUlQgJiYgc2VsZllBbGlnbiA9PT0gcG9zaXRpb24uRU5EXG4gICAgICAgICAgICAgICAgfHwgYW5jaG9yWUFsaWduID09PSBwb3NpdGlvbi5FTkQgJiYgc2VsZllBbGlnbiA9PT0gcG9zaXRpb24uU1RBUlQpKSB7XG5cbiAgICAgICAgICAgIGlmIChhbmNob3JYQWxpZ24gPT09IHBvc2l0aW9uLlNUQVJUKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JXaWR0aCAvIDIgLSBjYXJldC5jbGllbnRXaWR0aCAvIDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFuY2hvclhBbGlnbiA9PT0gcG9zaXRpb24uRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGggLSB0aGlzLmFuY2hvcldpZHRoIC8gMiAtIGNhcmV0LmNsaWVudFdpZHRoIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WDtcbiAgICB9XG5cbiAgICBnZXROZXh0Q2FyZXRZUG9zaXRpb24oYW5jaG9yLCBjYXJldCA9IHRoaXMuJGNhcmV0KSB7XG4gICAgICAgIGNvbnN0IHthbmNob3JYQWxpZ24sIHNlbGZYQWxpZ24sIGFuY2hvcllBbGlnbiwgc2VsZllBbGlnbn0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IFBvcG92ZXIucG9zaXRpb247XG5cbiAgICAgICAgbGV0IG5leHRZID0gMDtcblxuICAgICAgICAvLyB3ZSBvbmx5IHdhbnQgdG8gY2hhbmdlIHRoZSBZIHBvc2l0aW9uIHdoZW4gd2UncmVcbiAgICAgICAgLy8gZnVsbHkgdG8gdGhlIGxlZnQgb3IgcmlnaHQgb2YgdGhlIGFuY2hvciAoc3RhcnQsZW5kIHwgZW5kLHN0YXJ0KVxuICAgICAgICAvLyBzZWxmWUFsaWduIGlzbid0IE1JRERMRVxuXG4gICAgICAgIGlmICggICBzZWxmWUFsaWduICE9PSBwb3NpdGlvbi5NSURETEVcbiAgICAgICAgICAgICYmICggICBhbmNob3JYQWxpZ24gPT09IHBvc2l0aW9uLlNUQVJUICYmIHNlbGZYQWxpZ24gPT09IHBvc2l0aW9uLkVORFxuICAgICAgICAgICAgICAgIHx8IGFuY2hvclhBbGlnbiA9PT0gcG9zaXRpb24uRU5EICYmIHNlbGZYQWxpZ24gPT09IHBvc2l0aW9uLlNUQVJUKSkge1xuXG4gICAgICAgICAgICBpZiAoYW5jaG9yWUFsaWduID09PSBwb3NpdGlvbi5TVEFSVCkge1xuICAgICAgICAgICAgICAgIG5leHRZICs9IHRoaXMuYW5jaG9ySGVpZ2h0IC8gMiAtIGNhcmV0LmNsaWVudFdpZHRoIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5jaG9yWUFsaWduID09PSBwb3NpdGlvbi5FTkQpIHtcbiAgICAgICAgICAgICAgICBuZXh0WSArPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQgLSB0aGlzLmFuY2hvcldpZHRoIC8gMiAtIGNhcmV0LmNsaWVudFdpZHRoIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WTtcbiAgICB9XG5cbiAgICBnZXROZXh0RGlhbG9nWFBvc2l0aW9uKGFuY2hvciwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgY29uc3Qge2FuY2hvclhBbGlnbiwgc2VsZlhBbGlnbn0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IFBvcG92ZXIucG9zaXRpb247XG5cbiAgICAgICAgbGV0IG5leHRYID0gdGhpcy5hbmNob3JMZWZ0ICsgdGhpcy5ib2R5TGVmdDtcblxuICAgICAgICBzd2l0Y2ggKGFuY2hvclhBbGlnbikge1xuICAgICAgICBjYXNlIHBvc2l0aW9uLk1JRERMRTpcbiAgICAgICAgICAgIG5leHRYICs9IHRoaXMuYW5jaG9yV2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBwb3NpdGlvbi5FTkQ6XG4gICAgICAgICAgICBuZXh0WCArPSB0aGlzLmFuY2hvcldpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHNlbGZYQWxpZ24pIHtcbiAgICAgICAgY2FzZSBwb3NpdGlvbi5NSURETEU6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGggLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBwb3NpdGlvbi5FTkQ6XG4gICAgICAgICAgICBuZXh0WCAtPSBkaWFsb2cuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0WDtcbiAgICB9XG5cbiAgICBnZXROZXh0RGlhbG9nWVBvc2l0aW9uKGFuY2hvciwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IFBvcG92ZXIucG9zaXRpb247XG4gICAgICAgIGNvbnN0IGFuY2hvclkgPSB0aGlzLmFuY2hvclRvcCArIHRoaXMuYm9keVRvcDtcblxuICAgICAgICBsZXQgbmV4dFkgPSBhbmNob3JZICsgdGhpcy5hbmNob3JIZWlnaHQ7XG5cbiAgICAgICAgc3dpdGNoIChzdGF0ZS5hbmNob3JZQWxpZ24pIHtcbiAgICAgICAgY2FzZSBwb3NpdGlvbi5TVEFSVDpcbiAgICAgICAgICAgIG5leHRZID0gYW5jaG9yWTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgcG9zaXRpb24uTUlERExFOlxuICAgICAgICAgICAgbmV4dFkgPSBhbmNob3JZICsgdGhpcy5hbmNob3JIZWlnaHQgLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHN0YXRlLnNlbGZZQWxpZ24pIHtcbiAgICAgICAgY2FzZSBwb3NpdGlvbi5NSURETEU6XG4gICAgICAgICAgICBuZXh0WSAtPSBkaWFsb2cuY2xpZW50SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgcG9zaXRpb24uRU5EOlxuICAgICAgICAgICAgbmV4dFkgLT0gZGlhbG9nLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHRZO1xuICAgIH1cblxuICAgIGdldEFsaWdubWVudENvcnJlY3Rpb25JZk92ZXJmbG93aW5nKHgsIHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmF1dG9SZXBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb3JyZWN0aW9ucyA9IHsuLi50aGlzLnN0YXRlfTtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBQb3BvdmVyLnBvc2l0aW9uO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgY29uc3QgeE1heCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGg7XG4gICAgICAgIGNvbnN0IHlNYXggPSBkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDtcblxuICAgICAgICBpZiAoeCArIHdpZHRoID4geE1heCkgeyAvLyBvdmVyZmxvd2luZyBvZmYgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICBjb3JyZWN0aW9ucy5hbmNob3JYQWxpZ24gPSBwb3NpdGlvbi5TVEFSVDtcbiAgICAgICAgICAgIGNvcnJlY3Rpb25zLnNlbGZYQWxpZ24gPSBwb3NpdGlvbi5FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA8IDApIHsgLy8gb3ZlcmZsb3dpbmcgb2ZmIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICBjb3JyZWN0aW9ucy5hbmNob3JYQWxpZ24gPSBwb3NpdGlvbi5FTkQ7XG4gICAgICAgICAgICBjb3JyZWN0aW9ucy5zZWxmWEFsaWduID0gcG9zaXRpb24uU1RBUlQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSArIGhlaWdodCA+IHlNYXgpIHsgLy8gb3ZlcmZsb3dpbmcgYmVsb3dcbiAgICAgICAgICAgIC8vIGlmIGxlZnQvcmlnaHRcbiAgICAgICAgICAgIGlmICggICAoY29ycmVjdGlvbnMuYW5jaG9yWEFsaWduID09PSBwb3NpdGlvbi5TVEFSVCAmJiBjb3JyZWN0aW9ucy5zZWxmWEFsaWduID09PSBwb3NpdGlvbi5FTkQpXG4gICAgICAgICAgICAgICAgfHwgKGNvcnJlY3Rpb25zLmFuY2hvclhBbGlnbiA9PT0gcG9zaXRpb24uRU5EICYmIGNvcnJlY3Rpb25zLnNlbGZYQWxpZ24gPT09IHBvc2l0aW9uLlNUQVJUKSkge1xuICAgICAgICAgICAgICAgIGNvcnJlY3Rpb25zLmFuY2hvcllBbGlnbiA9IHBvc2l0aW9uLkVORDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29ycmVjdGlvbnMuYW5jaG9yWUFsaWduID0gcG9zaXRpb24uU1RBUlQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvcnJlY3Rpb25zLnNlbGZZQWxpZ24gPSBwb3NpdGlvbi5FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSA8IDApIHsgLy8gb3ZlcmZsb3dpbmcgYWJvdmVcbiAgICAgICAgICAgIC8vIGlmIGxlZnQvcmlnaHRcbiAgICAgICAgICAgIGlmICggICAoY29ycmVjdGlvbnMuYW5jaG9yWEFsaWduID09PSBwb3NpdGlvbi5TVEFSVCAmJiBjb3JyZWN0aW9ucy5zZWxmWEFsaWduID09PSBwb3NpdGlvbi5FTkQpXG4gICAgICAgICAgICAgICAgfHwgKGNvcnJlY3Rpb25zLmFuY2hvclhBbGlnbiA9PT0gcG9zaXRpb24uRU5EICYmIGNvcnJlY3Rpb25zLnNlbGZYQWxpZ24gPT09IHBvc2l0aW9uLlNUQVJUKSkge1xuICAgICAgICAgICAgICAgIGNvcnJlY3Rpb25zLmFuY2hvcllBbGlnbiA9IHBvc2l0aW9uLlNUQVJUO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3JyZWN0aW9ucy5hbmNob3JZQWxpZ24gPSBwb3NpdGlvbi5FTkQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvcnJlY3Rpb25zLnNlbGZZQWxpZ24gPSBwb3NpdGlvbi5TVEFSVDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb3JyZWN0aW9ucztcbiAgICB9XG5cbiAgICBhcHBseVRyYW5zbGF0aW9uKG5vZGUsIHgsIHkpIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybVByb3ApIHtcbiAgICAgICAgICAgIG5vZGUuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBgdHJhbnNsYXRlKCR7eH1weCwgJHt5fXB4KWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcbiAgICAgICAgICAgIG5vZGUuc3R5bGUudG9wID0geSArICdweCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaWRBbGlnbm1lbnRDaGFuZ2UobmV4dEFsaWdubWVudCwgY3VycmVudEFsaWdubWVudCA9IHRoaXMuc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuICAgIG5leHRBbGlnbm1lbnQuYW5jaG9yWEFsaWduICE9PSBjdXJyZW50QWxpZ25tZW50LmFuY2hvclhBbGlnblxuICAgICAgICAgICAgICAgfHwgbmV4dEFsaWdubWVudC5hbmNob3JZQWxpZ24gIT09IGN1cnJlbnRBbGlnbm1lbnQuYW5jaG9yWUFsaWduXG4gICAgICAgICAgICAgICB8fCBuZXh0QWxpZ25tZW50LnNlbGZYQWxpZ24gIT09IGN1cnJlbnRBbGlnbm1lbnQuc2VsZlhBbGlnblxuICAgICAgICAgICAgICAgfHwgbmV4dEFsaWdubWVudC5zZWxmWUFsaWduICE9PSBjdXJyZW50QWxpZ25tZW50LnNlbGZZQWxpZ247XG4gICAgfVxuXG4gICAgYWxpZ24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9ICAgdGhpcy5wcm9wcy5hbmNob3IgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMucHJvcHMuYW5jaG9yXG4gICAgICAgICAgICAgICAgICAgICAgIDogZmluZERPTU5vZGUodGhpcy5wcm9wcy5hbmNob3IpO1xuXG4gICAgICAgIHRoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvcik7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihhbmNob3IpKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihhbmNob3IpKTtcblxuICAgICAgICBjb25zdCBhbGlnbm1lbnRDb3JyZWN0aW9uID0gdGhpcy5nZXRBbGlnbm1lbnRDb3JyZWN0aW9uSWZPdmVyZmxvd2luZyhkeCwgZHkpO1xuXG4gICAgICAgIGlmIChhbGlnbm1lbnRDb3JyZWN0aW9uICYmIHRoaXMuZGlkQWxpZ25tZW50Q2hhbmdlKGFsaWdubWVudENvcnJlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZShhbGlnbm1lbnRDb3JyZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBjYXJldCBpcyBpbml0aWFsbHkgcG9zaXRpb25lZCBhdCAwLDAgaW5zaWRlIHRoZSBkaWFsb2dcbiAgICAgICAgLy8gd2hpY2ggaXMgYWxyZWFkeSBwb3NpdGlvbmVkIGF0IHRoZSBhbmNob3IsIHNvIHdlIGp1c3QgbmVlZCB0b1xuICAgICAgICAvLyBtYWtlIHNtYWxsIGFkanVzdG1lbnRzIGFzIG5lY2Vzc2FyeSB0byBsaW5lIHVwIHRoZSBjYXJldFxuICAgICAgICAvLyB3aXRoIHRoZSB2aXN1YWwgY2VudGVyIG9mIHRoZSBhbmNob3JcblxuICAgICAgICB0aGlzLiRjYXJldC5zdHlsZS5sZWZ0ID0gTWF0aC5yb3VuZCh0aGlzLmdldE5leHRDYXJldFhQb3NpdGlvbihhbmNob3IpKSArICdweCc7XG4gICAgICAgIHRoaXMuJGNhcmV0LnN0eWxlLnRvcCA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0Q2FyZXRZUG9zaXRpb24oYW5jaG9yKSkgKyAncHgnO1xuXG4gICAgICAgIHRoaXMuYXBwbHlUcmFuc2xhdGlvbih0aGlzLiRjYXJldCwgY3gsIDApO1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNsYXRpb24odGhpcy5kaWFsb2cuJHdyYXBwZXIsIGR4LCBkeSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuYWxpZ24oKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuYWxpZ24sIHRydWUpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHsgdGhpcy5hbGlnbigpOyB9XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgZ2V0Q2xhc3NBbGlnbm1lbnRGcmFnbWVudChjb25zdGFudCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IFBvcG92ZXIucG9zaXRpb247XG5cbiAgICAgICAgc3dpdGNoIChjb25zdGFudCkge1xuICAgICAgICBjYXNlIHBvc2l0aW9uLlNUQVJUOlxuICAgICAgICAgICAgcmV0dXJuICdzdGFydCc7XG5cbiAgICAgICAgY2FzZSBwb3NpdGlvbi5NSURETEU6XG4gICAgICAgICAgICByZXR1cm4gJ21pZGRsZSc7XG5cbiAgICAgICAgY2FzZSBwb3NpdGlvbi5FTkQ6XG4gICAgICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtnZXRDbGFzc0FsaWdubWVudEZyYWdtZW50OiBnZXRGcmFnLCBwcm9wcywgc3RhdGV9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFBvcnRhbCB7Li4ucHJvcHMucG9ydGFsUHJvcHN9PlxuICAgICAgICAgICAgICAgIDxEaWFsb2dcbiAgICAgICAgICAgICAgICAgICAgey4uLm9taXQocHJvcHMsIFBvcG92ZXIuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXsoaW5zdGFuY2UpID0+ICh0aGlzLmRpYWxvZyA9IGluc3RhbmNlKX1cbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChwcm9wcy5jYXJldENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogKG5vZGUpID0+ICh0aGlzLiRjYXJldCA9IG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY3goJ2ItcG9wb3Zlci1jYXJldCcsIHByb3BzLmNhcmV0Q29tcG9uZW50LnByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXJQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHMud3JhcHBlclByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyJywgcHJvcHMud3JhcHBlclByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgYi1wb3BvdmVyLWFuY2hvci14LSR7Z2V0RnJhZyhzdGF0ZS5hbmNob3JYQWxpZ24pfWBdOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgYi1wb3BvdmVyLWFuY2hvci15LSR7Z2V0RnJhZyhzdGF0ZS5hbmNob3JZQWxpZ24pfWBdOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtgYi1wb3BvdmVyLXNlbGYteC0ke2dldEZyYWcoc3RhdGUuc2VsZlhBbGlnbil9YF06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2BiLXBvcG92ZXItc2VsZi15LSR7Z2V0RnJhZyhzdGF0ZS5zZWxmWUFsaWduKX1gXTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgPC9Qb3J0YWw+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLWZ1bmN0aW9uL2luZGV4JztcbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuXG4vKipcbiMgUHJvZ3Jlc3NpdmVEaXNjbG9zdXJlXG5fX0hpZGUgY29udGVudCB1bnRpbCBpdCdzIG5lZWRlZCwgd2l0aCBjb25maWd1cmFibGUgdGVhc2Vycy5fX1xuXG4+IFRoZSBCb3VuZGxlc3MgVGVhbSByZWNvbW1lbmRzIHJldmlld2luZyB0aGUgW0Rpc2Nsb3N1cmVdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL1VzZXJFeHBlcmllbmNlL0NvbmNlcHR1YWwvT1NYSElHdWlkZWxpbmVzL0NvbnRyb2xzQnV0dG9ucy5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvMjAwMDA5NTctQ0g0OC1TVzEyKSBzZWN0aW9uIG9mIHRoZSBBcHBsZSBIdW1hbiBJbnRlcmZhY2UgR3VpZGVsaW5lcyBmb3IgaW5zcGlyYXRpb24gb2YgZGVzaWduIHBhdHRlcm5zIGFuZCBvcHRpbWFsIHVzYWdlIG9mIGBQcm9ncmVzc2l2ZURpc2Nsb3N1cmVgIGluIHlvdXIgcHJvamVjdC5cblxuTWVjaGFuaWNhbGx5LCBoaWRkZW4gZGlzY2xvc3VyZSBjb250ZW50IGlzIG5vdCByZW5kZXJlZCB0byB0aGUgRE9NIHVudGlsIGl0IGlzIG5lZWRlZC5cblxuIyMjIEludGVyYWN0aW9uc1xuXG5UeXBlIHwgQ29udGV4dCB8IEV4cGVjdGF0aW9uXG4tLS0tIHwgLS0tLS0tLSB8IC0tLS0tLS0tLS0tXG5fX01vdXNlX18gfCBgY2xpY2tgIG9uIHRvZ2dsZSB8IGV4cGFuZC9jb250cmFjdCB0aGUgZGlzY2xvc3VyZSBjb250ZW50LCB0cmlnZ2VyIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFjazogYG9uKEV4cGFuZHxIaWRlKWBcbl9fS2V5Ym9hcmRfXyB8IGBbRW50ZXJdYCBvbiB0b2dnbGUgfCBleHBhbmQvY29udHJhY3QgdGhlIGRpc2Nsb3N1cmUgY29udGVudCwgdHJpZ2dlciB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2s6IGBvbihFeHBhbmR8SGlkZSlgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2dyZXNzaXZlRGlzY2xvc3VyZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbGxvd3MgdGhlIGRpc2Nsb3N1cmUgdG8gYmUgcmVuZGVyZWQgZXhwYW5kZWQgYnkgZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwYW5kZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgY29udGVudCBpcyBzaG93bjsgbm90IGNhbGxlZCBvbiBpbml0aWFsIHJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgb25FeHBhbmQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgY29udGVudCBpcyBoaWRkZW47IG5vdCBjYWxsZWQgb24gaW5pdGlhbCByZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIG9uSGlkZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnRlbnQgdG8gYmUgc2hvd24gbmV4dCB0byB0aGUgZXhwYW5zaW9uIHRvZ2dsZSwgZS5nLiBcIkFkdmFuY2VkIE9wdGlvbnNcIlxuICAgICAgICAgKi9cbiAgICAgICAgdGVhc2VyOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29udGVudCB0byBiZSBzaG93biBuZXh0IHRvIHRoZSBleHBhbnNpb24gdG9nZ2xlIHdoZW4gdGhlIGRpc2Nsb3N1cmUgaXMgaW4gXCJleHBhbmRlZFwiIHN0YXRlLCBlLmcuIFwiSGlkZSBBZHZhbmNlZCBPcHRpb25zXCJcbiAgICAgICAgICovXG4gICAgICAgIHRlYXNlckV4cGFuZGVkOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItZGlzY2xvc3VyZS10b2dnbGVgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZVByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICAgIG9uRXhwYW5kOiBub29wLFxuICAgICAgICBvbkhpZGU6IG5vb3AsXG4gICAgICAgIHRlYXNlcjogbnVsbCxcbiAgICAgICAgdGVhc2VyRXhwYW5kZWQ6IG51bGwsXG4gICAgICAgIHRvZ2dsZVByb3BzOiB7fSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoUHJvZ3Jlc3NpdmVEaXNjbG9zdXJlLmRlZmF1bHRQcm9wcylcblxuICAgIHN0YXRlID0ge1xuICAgICAgICBleHBhbmRlZDogdGhpcy5wcm9wcy5leHBhbmRlZCxcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XG4gICAgICAgIGlmIChuZXdQcm9wcy5leHBhbmRlZCAhPT0gdGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZXhwYW5kZWQ6IG5ld1Byb3BzLmV4cGFuZGVkfSwgdGhpcy5kaXNwYXRjaENhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHNbdGhpcy5zdGF0ZS5leHBhbmRlZCA/ICdvbkV4cGFuZCcgOiAnb25IaWRlJ10oKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWR9LCB0aGlzLmRpc3BhdGNoQ2FsbGJhY2spO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMudG9nZ2xlUHJvcHMub25DbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudG9nZ2xlUHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWR9LCB0aGlzLmRpc3BhdGNoQ2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy50b2dnbGVQcm9wcy5vbktleURvd24pKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZVByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5leHBhbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj0nY29udGVudCdcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYi1kaXNjbG9zdXJlLWNvbnRlbnQnPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBQcm9ncmVzc2l2ZURpc2Nsb3N1cmUuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaXNjbG9zdXJlJywgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAnYi1kaXNjbG9zdXJlLWV4cGFuZGVkJzogdGhpcy5zdGF0ZS5leHBhbmRlZCxcbiAgICAgICAgICAgICAgICB9KX0+XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLnRvZ2dsZVByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J3RvZ2dsZSdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaXNjbG9zdXJlLXRvZ2dsZScsIHRoaXMucHJvcHMudG9nZ2xlUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja31cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PScwJz5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXhwYW5kZWQgPyB0aGlzLnByb3BzLnRlYXNlckV4cGFuZGVkIHx8IHRoaXMucHJvcHMudGVhc2VyIDogdGhpcy5wcm9wcy50ZWFzZXJ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMuY29tcG9uZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYm91bmRsZXNzLWJ1dHRvbi9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIFByb2dyZXNzXG5fX0FuIHVub3BpbmlvbmF0ZWQgcHJvZ3Jlc3MgaW1wbGVtZW50YXRpb24sIGFsbG93aW5nIGZvciBhIHZhcmlldHkgb2Ygc2hhcGVzIGFuZCBlZmZlY3RzLl9fXG5cbj4gVGhlIEJvdW5kbGVzcyBUZWFtIHJlY29tbWVuZHMgcmV2aWV3aW5nIHRoZSBbUHJvZ3Jlc3MgSW5kaWNhdG9yXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9tYWMvZG9jdW1lbnRhdGlvbi9Vc2VyRXhwZXJpZW5jZS9Db25jZXB0dWFsL09TWEhJR3VpZGVsaW5lcy9Db250cm9sc0luZGljYXRvcnMuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkLzIwMDAwOTU3LUNINTAtU1cyKSBhbmQgW1VzZXIgRmVlZGJhY2tdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL1VzZXJFeHBlcmllbmNlL0NvbmNlcHR1YWwvT1NYSElHdWlkZWxpbmVzL0ZlZWRiYWNrLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDktU1cxKSBzZWN0aW9ucyBvZiB0aGUgQXBwbGUgSHVtYW4gSW50ZXJmYWNlIEd1aWRlbGluZXMgZm9yIGluc3BpcmF0aW9uIG9mIGRlc2lnbiBwYXR0ZXJucyBhbmQgb3B0aW1hbCB1c2FnZSBvZiBgUHJvZ3Jlc3NgIGluIHlvdXIgcHJvamVjdC5cblxuIyMjIEludGVyYWN0aW9uc1xuXG5UeXBlIHwgQ29udGV4dCB8IEV4cGVjdGF0aW9uXG4tLS0tIHwgLS0tLS0tLSB8IC0tLS0tLS0tLS0tXG5fX1JlbmRlcl9fIHwgbm8gYHByb2dyZXNzYCBwYXNzZWQgfCBzaG91bGQgaGF2ZSB0aGUgaW5kZXRlcm1pbmF0ZSBjbGFzc1xuX19LZXlib2FyZF9fIHwgYFtFbnRlciwgU3BhY2VdYCBvbiBjYW5jZWwgZWxlbWVudCB8IHNob3VsZCB0cmlnZ2VyIHRoZSBvbkNhbmNlbCBoYW5kbGVyXG5fX01vdXNlX18gfCBgY2xpY2tgIG9uIGNhbmNlbCBlbGVtZW50IHwgc2hvdWxkIHRyaWdnZXIgdGhlIG9uQ2FuY2VsIGhhbmRsZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcHJvZ3Jlc3MtY2FuY2VsYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBjYW5jZWxQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSB2YWx1ZSB0byBzaG93IGFzIGEgbGFiZWwgb2YgdGhlIHByb2dyZXNzLCBlLmcuIFwiNTAlXCJcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcHJvZ3Jlc3MtbGFiZWxgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGlmIHN1cHBsaWVkLCBhZGRzIGEgY2FuY2VsIGVsZW1lbnQgYW5kIGNhbGxzIHRoaXMgZnVuY3Rpb24gd2hlbiB0aGF0IGVsZW1lbnQgaXMgY2xpY2tlZFxuICAgICAgICAgKi9cbiAgICAgICAgb25DYW5jZWw6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgaW50ZWdlciAoYW5kIHVuaXQsIGlmIGFwcGxpY2FibGUpIG9mIHRoZSBjdXJyZW50IHByb2dyZXNzIHN0YXRlLCBlLmcuIDAuMDEgKG9wYWNpdHkpXG4gICAgICAgICAqL1xuICAgICAgICBwcm9ncmVzczogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcHJvZ3Jlc3NgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHByb2dyZXNzUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBDU1MgcHJvcGVydHkgdG8gdHdlZW4gKG11c3QgYWNjZXB0IHBlcmNlbnRhZ2VzKSAtIGRlZmF1bHRzIHRvIFwid2lkdGhcIlxuICAgICAgICAgKi9cbiAgICAgICAgdHdlZW5Qcm9wZXJ0eTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBjYW5jZWxQcm9wczoge30sXG4gICAgICAgIGNvbXBvbmVudDogJ2RpdicsXG4gICAgICAgIGxhYmVsOiBudWxsLFxuICAgICAgICBsYWJlbFByb3BzOiB7fSxcbiAgICAgICAgb25DYW5jZWw6IG51bGwsXG4gICAgICAgIHByb2dyZXNzOiB1bmRlZmluZWQsXG4gICAgICAgIHByb2dyZXNzUHJvcHM6IHt9LFxuICAgICAgICB0d2VlblByb3BlcnR5OiAnd2lkdGgnLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhQcm9ncmVzcy5kZWZhdWx0UHJvcHMpXG5cbiAgICByZW5kZXJMYWJlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubGFiZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5sYWJlbFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2xhYmVsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXByb2dyZXNzLWxhYmVsJywgdGhpcy5wcm9wcy5sYWJlbFByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLm9uQ2FuY2VsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuY2FuY2VsUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIHJlZj0nY2FuY2VsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXByb2dyZXNzLWNhbmNlbCcsIHRoaXMucHJvcHMuY2FuY2VsUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgb25QcmVzc2VkPXt0aGlzLnByb3BzLm9uQ2FuY2VsfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclByb2dyZXNzKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLnByb2dyZXNzUHJvcHN9XG4gICAgICAgICAgICAgICAgcmVmPSdwcm9ncmVzcydcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXByb2dyZXNzJywgdGhpcy5wcm9wcy5wcm9ncmVzc1Byb3BzLmNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAnYi1wcm9ncmVzcy1pbmRldGVybWluYXRlJzogdHlwZW9mIHRoaXMucHJvcHMucHJvZ3Jlc3MgPT09ICd1bmRlZmluZWQnLFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIHJvbGU9J3ByZXNlbnRhdGlvbidcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLnByb2dyZXNzUHJvcHMuc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLnByb3BzLnR3ZWVuUHJvcGVydHldOiB0aGlzLnByb3BzLnByb2dyZXNzLFxuICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRoaXMucHJvcHMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgUHJvZ3Jlc3MuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wcm9ncmVzcy13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJQcm9ncmVzcygpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckxhYmVsKCl9XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQ2FuY2VsKCl9XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMuY29tcG9uZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleCc7XG5pbXBvcnQgbm9vcCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtbm9vcC9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcbmltcG9ydCB1dWlkIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy11dWlkL2luZGV4JztcblxuLyoqXG4jIFJhZGlvXG5fX0FuIGFjY2Vzc2libGUgcmFkaW8gZm9ybSBjb250cm9sLl9fXG5cblJhZGlvIGlzIGltcGxlbWVudGVkIGFzIGEgXCJjb250cm9sbGVkIGlucHV0XCIsIG1lYW5pbmcgaXQgaXMgYSBkaXJlY3QgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1vZGVsIGRhdGEgcGFzc2VkIGluc2lkZS4gVXNlciBpbnRlcmFjdGlvbiB3aWxsIGJ1YmJsZSBjaGFuZ2VzIGluIHRoZSBmb3JtIG9mIGBvblNlbGVjdGVkYCB0aGF0IGEgY29udHJvbGxlciB2aWV3IG11c3QgaW50ZXJjZXB0IGFuZCBhcHBseSBhZ2FpbnN0IHRoZSBkYXRhIHByb3ZpZGVyLlxuXG4+IFRoZSBCb3VuZGxlc3MgVGVhbSByZWNvbW1lbmRzIHJldmlld2luZyB0aGUgW1JhZGlvIEJ1dHRvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvbWFjL2RvY3VtZW50YXRpb24vVXNlckV4cGVyaWVuY2UvQ29uY2VwdHVhbC9PU1hISUd1aWRlbGluZXMvQ29udHJvbHNCdXR0b25zLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC8yMDAwMDk1Ny1DSDQ4LVNXMTApIHNlY3Rpb24gb2YgdGhlIEFwcGxlIEh1bWFuIEludGVyZmFjZSBHdWlkZWxpbmVzIGZvciBpbnNwaXJhdGlvbiBvZiBkZXNpZ24gcGF0dGVybnMgYW5kIG9wdGltYWwgdXNhZ2Ugb2YgYFJhZGlvYCBpbiB5b3VyIHByb2plY3QuXG5cbiMjIyBJbnRlcmFjdGlvbnNcblxuVHlwZSB8IENvbnRleHQgfCBFeHBlY3RhdGlvblxuLS0tLSB8IC0tLS0tLS0gfCAtLS0tLS0tLS0tLVxuX19LZXlib2FyZF9fIHwgYFtFbnRlciwgU3BhY2VdYCAobm90IHNlbGVjdGVkKSB8IHNob3VsZCB0cmlnZ2VyIGBvblNlbGVjdGVkYFxuX19Nb3VzZV9fIHwgYGNsaWNrYCAobm90IHNlbGVjdGVkKSB8IHNob3VsZCB0cmlnZ2VyIGBvblNlbGVjdGVkYFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSYWRpbyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1yYWRpb2Agbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgaW5wdXRQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFJlYWN0LXJlbmRlcmFibGUgY29udGVudCwgbW9zdCBjb21tb25seSBhIHNpbXBsZSBzdHJpbmdcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcmFkaW8tbGFiZWxgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHBhc3N0aHJvdWdoIHRvIHRoZSBIVE1MIGBuYW1lYCBhdHRyaWJ1dGUgb24gdGhlIGAuYi1yYWRpb2Agbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIHNlbGVjdGVkOyBiYWNraW5nIGRhdGEgbXVzdCBiZSB1cGRhdGVkIHRvIHBlcnNpc3QgdGhlIHN0YXRlIGNoYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgb25TZWxlY3RlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVybWluZXMgdGhlIGFjdGl2YXRpb24gc3RhdGUgb2YgdGhlIHJhZGlvIGNvbnRyb2wsIHNlZSBSZWFjdCBbXCJjb250cm9sbGVkIGlucHV0c1wiXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL2Zvcm1zLmh0bWwjY29udHJvbGxlZC1jb21wb25lbnRzKSlcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGVkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcGFzc3Rocm91Z2ggdG8gdGhlIEhUTUwgYHZhbHVlYCBhdHRyaWJ1dGUgb24gdGhlIGAuYi1yYWRpb2Agbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBpbnB1dFByb3BzOiB7fSxcbiAgICAgICAgbGFiZWw6IG51bGwsXG4gICAgICAgIGxhYmVsUHJvcHM6IHt9LFxuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgb25TZWxlY3RlZDogbm9vcCxcbiAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogJycsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKFJhZGlvLmRlZmF1bHRQcm9wcylcblxuICAgIHV1aWQgPSB1dWlkKClcblxuICAgIGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWxlY3RlZChldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcklucHV0KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuaW5wdXRQcm9wc31cbiAgICAgICAgICAgICAgICByZWY9J2lucHV0J1xuICAgICAgICAgICAgICAgIHR5cGU9J3JhZGlvJ1xuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlkIHx8IHRoaXMucHJvcHMuaW5wdXRQcm9wcy5pZCB8fCB0aGlzLnV1aWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1yYWRpbycsIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ItcmFkaW8tc2VsZWN0ZWQnOiB0aGlzLnByb3BzLnNlbGVjdGVkLFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLnNlbGVjdGVkfVxuICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD17U3RyaW5nKHRoaXMucHJvcHMuc2VsZWN0ZWQpfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJMYWJlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubGFiZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLmxhYmVsUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIHJlZj0nbGFiZWwnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcmFkaW8tbGFiZWwnLCB0aGlzLnByb3BzLmxhYmVsUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgaHRtbEZvcj17dGhpcy5wcm9wcy5pZCB8fCB0aGlzLnByb3BzLmlucHV0UHJvcHMuaWQgfHwgdGhpcy51dWlkfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgUmFkaW8uaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1yYWRpby13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbnB1dCgpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckxhYmVsKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWF0Y2hPcGVyYXRvcnNSZSA9IC9bfFxcXFx7fSgpW1xcXV4kKyo/Ll0vZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc3RyKSB7XG5cdGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgc3RyaW5nJyk7XG5cdH1cblxuXHRyZXR1cm4gc3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnNSZSwgJ1xcXFwkJicpO1xufTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGVzY2FwZXIgZnJvbSAnZXNjYXBlLXN0cmluZy1yZWdleHAnO1xuXG5pbXBvcnQgSW5wdXQgZnJvbSAnLi4vYm91bmRsZXNzLWlucHV0L2luZGV4JztcbmltcG9ydCBleHRyYWN0Q2hpbGRQcm9wcyBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb2JqZWN0LWludGVyc2VjdGlvbi9pbmRleCc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IGlzU3RyaW5nIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1zdHJpbmcvaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5pbXBvcnQgdXVpZCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtdXVpZC9pbmRleCc7XG5cbi8qKlxuIyBUeXBlYWhlYWRcbl9fSW50ZWxsaWdlbnRseSByZWNvbW1lbmQgZW50aXRpZXMgdmlhIGN1c3RvbWl6YWJsZSwgZnV6enkgcmVjb2duaXRpb24uX19cblxuVHlwZWFoZWFkIGlzIGFuIGVuaGFuY2VtZW50IHVwb24gW0lucHV0XShodHRwczovL2dpdGh1Yi5jb20vYmlibGlvdGVjaC91aWtpdC90cmVlL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtaW5wdXQpIHdoaWNoIHByb3ZpZGVzIHR3byBidWlsdC1pbiBtYXRjaGluZyBhbGdvcml0aG1zIGFuZCBzdXBwb3J0cyB0aGUgdXNlIG9mIGN1c3RvbSBtYXRjaGluZyBhbmQgbWFya2luZyBmdW5jdGlvbnMuXG5cbj4gVGhlIEJvdW5kbGVzcyBUZWFtIHJlY29tbWVuZHMgcmV2aWV3aW5nIHRoZSBbU2VhcmNoIEZpZWxkXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9tYWMvZG9jdW1lbnRhdGlvbi9Vc2VyRXhwZXJpZW5jZS9Db25jZXB0dWFsL09TWEhJR3VpZGVsaW5lcy9Db250cm9sc1RleHQuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkLzIwMDAwOTU3LUNINTEtU1c1KSBhbmQgW1RleHQgSW5wdXQgRmllbGRdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L21hYy9kb2N1bWVudGF0aW9uL1VzZXJFeHBlcmllbmNlL0NvbmNlcHR1YWwvT1NYSElHdWlkZWxpbmVzL0NvbnRyb2xzVGV4dC5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvMjAwMDA5NTctQ0g1MS1TVzMpIHNlY3Rpb25zIG9mIHRoZSBBcHBsZSBIdW1hbiBJbnRlcmZhY2UgR3VpZGVsaW5lcyBmb3IgaW5zcGlyYXRpb24gb2YgZGVzaWduIHBhdHRlcm5zIGFuZCBvcHRpbWFsIHVzYWdlIG9mIGBUeXBlYWhlYWRgIGluIHlvdXIgcHJvamVjdC5cblxuVHlwZWFoZWFkIG9mZmVycyB0d28gYnVpbHQtaW4gbWF0Y2hpbmcgYWxnb3JpdGhtczogXCJmdXp6eVwiICh0aGUgZGVmYXVsdCkgYW5kIFwic3RhcnRzLXdpdGhcIi4gRm9yIHRoZSBleGFtcGxlcyBiZWxvdywgaW1hZ2luZSB0aGUgYDw+YCBpbiB0aGUgXCJtYXJrZWRcIiBzZWN0aW9uIGlzIGEgd3JhcHBpbmcgYDxkaXYgY2xhc3M9XCJiLXR5cGVhaGVhZC1tYXRjaC1oaWdobGlnaHRcIj48L2Rpdj5gOlxuXG4xLiBfX1wiU3RhcnRzLXdpdGhcIiBtYXRjaGluZyAmIG1hcmtpbmdfXyBgYWxnb3JpdGhtPXtVSVR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRIfWBcbiAgIEZvciB1c2VyIGlucHV0IGBcImFcImAgYW5kIGVudGl0eSB0ZXh0cyBgW1wiYXBwbGVcIiwgXCJncmFwZVwiLCBcImFwcmljb3RcIl1gOlxuXG4gICBNYXRjaGVkOiBgW1wiYXBwbGVcIiwgXCJhcHJpY290XCJdYDxici8+XG4gICBNYXJrZWQ6IGBbXCI8YT5wcGxlXCIsIFwiPGE+cHJpY290XCJdYDxici8+PGJyLz5cblxuMS4gX19cIkZ1enp5XCIgbWF0Y2hpbmcgJiBtYXJraW5nX18gYGFsZ29yaXRobT17VUlUeXBlYWhlYWQubW9kZS5GVVpaWX1gXG4gICBGb3IgdXNlciBpbnB1dCBgXCJhXCJgIGFuZCBlbnRpdHkgdGV4dHMgYFtcImFwcGxlXCIsIFwiZ3JhcGVcIiwgXCJhcHJpY290XCJdYDpcblxuICAgTWF0Y2hlZDogYFtcImFwcGxlXCIsIFwiZ3JhcGVcIiwgXCJhcHJpY290XCJdYDxici8+XG4gICBNYXJrZWQ6IGBbXCI8YT5wcGxlXCIsIFwiZ3I8YT5wZVwiLCBcIjxhPnByaWNvdFwiXWA8YnIvPjxici8+XG5cbjEuIF9fQ3VzdG9tIG1hdGNoaW5nICYgbWFya2luZ19fIGBhbGdvcml0aG09e3ttYXRjaGVyOiB5b3VyTWF0Y2hGdW5jLCBtYXJrZXI6IHlvdXJNYXJrRnVuY319YFxuICAgT3B0aW9uYWxseSwgeW91IGNhbiBwcm92aWRlIHlvdXIgb3duIGNvbWJpbmF0aW9uIG9mIG1hdGNoaW5nIGFuZCBtYXJraW5nIGZ1bmN0aW9ucy4gRm9yIGV4YW1wbGUsIGxvb3NlbmluZyB0aGUgbWF0Y2hpbmcgdG8gaW5jbHVkZSB1bmljb2RlIHZhcmlhbnRzIG9mIGNoYXJhY3RlcnMgY291bGQgYmUgdXNlZnVsLCBlLmcuIMOnICZyYXJyOyBjXG5cbiAgIEZvbGxvdyB0aGUgZ3VpZGUgaW4gdGhlIFtwcm9wcyBzdW1tYXJ5IGZvciBhbGdvcml0aG1dKCNhdmFpbGFibGUtcHJvcHMpLlxuXG4jIyMgSW50ZXJhY3Rpb25zXG5cblR5cGUgfCBDb250ZXh0IHwgRXhwZWN0YXRpb25cbi0tLS0gfCAtLS0tLS0tIHwgLS0tLS0tLS0tLS1cbl9fS2V5Ym9hcmRfXyB8IGBbRG93bl1gIHwgc2VsZWN0IHRoZSBuZXh0IGF2YWlsYWJsZSB0eXBlYWhlYWQgbWF0Y2gsIHJldGFpbiBmb2N1cyBvbiBpbnB1dCBmaWVsZCwgc2hvdWxkIG5vdCBtb3ZlIGN1cnNvclxuX19LZXlib2FyZF9fIHwgYFtVcF1gIHwgc2VsZWN0IHRoZSBwcmV2aW91cyB0eXBlYWhlYWQgbWF0Y2gsIHJldGFpbiBmb2N1cyBvbiBpbnB1dCBmaWVsZCwgc2hvdWxkIG5vdCBtb3ZlIGN1cnNvclxuX19LZXlib2FyZF9fIHwgYFtSaWdodCwgVGFiXWAgfCBmaWxsIHRoZSBjdXJyZW50bHktc2VsZWN0ZWQgdHlwZWFoZWFkIHRleHQgaW50byB0aGUgaW5wdXQgZmllbGQsIGRpc21pc3MgbWF0Y2hlc1xuX19LZXlib2FyZF9fIHwgYFtFbnRlcl1gIHwgc2VsZWN0IHRoZSBjdXJyZW50IHR5cGVhaGVhZCBtYXRjaCBpZiBvbmUgZXhpc3RzOyBpZiBubyB0eXBlYWhlYWQgbWF0Y2gsIGNhbGwgYG9uQ29tcGxldGVgIGlmIHN1cHBsaWVkXG5fX0tleWJvYXJkX18gfCBgW0VzY2FwZV1gIHwgY2xlYXIgdHlwZWFoZWFkIG1hdGNoZXMgaWYgdGhleSBleGlzdFxuX19Nb3VzZV9fIHwgYFtDbGlja11gIG9uIHR5cGVhaGVhZCBtYXRjaCB8IGZpbGwgdGhlIHNlbGVjdGVkIHR5cGVhaGVhZCBtYXRjaCB0ZXh0IGludG8gdGhlIGlucHV0IGZpZWxkLCBkaXNtaXNzIG1hdGNoZXMsIHJldHVybiBmb2N1cyB0byBpbnB1dFxuXG4jIyMgQ29tcG9uZW50IEluc3RhbmNlIE1ldGhvZHNcblxuV2hlbiB1c2luZyBgVHlwZWFoZWFkYCBpbiB5b3VyIHByb2plY3QsIHlvdSBtYXkgY2FsbCB0aGUgZm9sbG93aW5nIG1ldGhvZHMgb24gYSByZW5kZXJlZCBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50LiBVc2UgW2ByZWZzYF0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwpIHRvIGdldCB0aGUgaW5zdGFuY2UuXG5cbi0gX19mb2N1cygpX19cbiAgZm9jdXNlcyB0aGUgYnJvd3NlciBvb24gdGhlIHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dCBmb3IgaW1tZWRpYXRlIHRleHQgZW50cnlcblxuLSBfX2dldElucHV0Tm9kZSgpX19cbiAgcmV0dXJucyB0aGUgcmF3IHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dCBET00gbm9kZVxuXG4tIF9fZ2V0U2VsZWN0ZWRFbnRpdHlUZXh0KClfX1xuICByZXR1cm5zIHRoZSBgdGV4dGAgcHJvcGVydHkgb2YgdGhlIGN1cnJlbnRseSBoaWdobGlnaHRlZCBlbnRpdHkgKGZyb20gYHByb3BzLmVudGl0aWVzYCksIG9yIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nXG5cbi0gX19nZXRWYWx1ZSgpX19cbiAgcmV0cmlldmVzIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSB1bmRlcmx5aW5nIHRleHR1YWwgaW5wdXRcblxuLSBfX3NlbGVjdCgpX19cbiAgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGVzIGEgZnVsbCBzZWxlY3Rpb24gb24gdGhlIHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dCBzdWNoIHRoYXQgYSBwcmVzcyBvZiB0aGUgQmFja3NwYWNlIGtleSB3b3VsZCBmdWxseSBjbGVhciB0aGUgaW5wdXRcblxuLSBfX3NldFZhbHVlKHZhbHVlOiBzdHJpbmcpX19cbiAgc2V0cyB0aGUgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0IHRvIHRoZSBzcGVjaWZpZWQgdGV4dCBhbmQgdXBkYXRlcyBpbnRlcm5hbCBzdGF0ZTsgZG8gbm90IHVzZSB0aGlzIG1ldGhvZCB3aGVuIHVzaW5nIGBUeXBlYWhlYWRgIGFzIGEgXCJjb250cm9sbGVkIGlucHV0XCJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHlwZWFoZWFkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIG1vZGUgPSB7XG4gICAgICAgICdTVEFSVFNfV0lUSCc6ICdTVEFSVFNfV0lUSCcsXG4gICAgICAgICdGVVpaWSc6ICdGVVpaWScsXG4gICAgfVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqIFR5cGVhaGVhZCBhY2NlcHRzIGFsbCBzdXBwb3J0ZWQgW0lucHV0IHByb3BzXSgvSW5wdXQjcHJvcHMpICovXG4gICAgICAgIC4uLklucHV0LnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIG1lY2hhbmlzbSB1c2VkIHRvIGlkZW50aWZ5IGFuZCBtYXJrIG1hdGNoaW5nIHN1YnN0cmluZ3M7IGEgY3VzdG9tIHNldCBjYW4gYmUgcHJvdmlkZWQgd2l0aCB0aGUgT2JqZWN0IGZvcm1hdDo8YnIvPjxici8+XG5cbiAgICAgICAgICogLSBfX2FsZ29yaXRobS5tYXRjaGVyX18gYEZ1bmN0aW9ufFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRIfFR5cGVhaGVhZC5tb2RlLkZVWlpZYFxuICAgICAgICAgICAgIHByb3ZpZGUgYSBjdXN0b20gbWF0Y2hpbmcgYWxnb3JpdGhtLCBhZGhlcmluZyB0byB0aGlzIGZvcm1hdDpcblxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBteU1hdGNoRnVuYyhpbnB1dFRleHQsIGVudGl0aWVzKSB7XG4gICAgICAgICAqICAgICAvLyAuLi5cbiAgICAgICAgICogICAgIHJldHVybiBbbWF0Y2gxSW5kZXgsIG1hdGNoMkluZGV4LCAuLi4gXTtcbiAgICAgICAgICogfVxuICAgICAgICAgKiBgYGBcblxuICAgICAgICAgKiB0aGUgaW5kZXggaXMgc3RvcmVkIGluc3RlYWQgb2YgdGhlIGVudGlyZSBlbnRpdHkgdG8gY29uc2VydmUgbWVtb3J5IGFuZCByZWR1Y2UgZGF0YSBkdXBsaWNhdGlvblxuXG4gICAgICAgICAqIC0gX19hbGdvcml0aG0ubWFya2VyX18gYEZ1bmN0aW9ufFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRIfFR5cGVhaGVhZC5tb2RlLkZVWlpZYFxuICAgICAgICAgKiAgIHByb3ZpZGUgYSBjdXN0b20gbWFya2luZyBmdW5jdGlvbiwgYWxsb3dzIGZvciB0aGUgdXNlIG9mIGN1c3RvbSB0ZW1wbGF0aW5nIC8gZGV2ZWxvcGVyLWRlZmluZWQgQ1NTIGhvb2tzLCBhZGhlcmluZyB0byB0aGlzIGZvcm1hdDpcblxuICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgKiBteU1hcmtGdW5jKGlucHV0VGV4dCwgZW50aXR5KSB7XG4gICAgICAgICAqICAgICByZXR1cm4gPGRlc2lyZWQgSlNYIHRlbXBsYXRpbmc+IF07XG4gICAgICAgICAqIH1cbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBhbGdvcml0aG06IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgICAgICAgICBUeXBlYWhlYWQubW9kZS5TVEFSVFNfV0lUSCxcbiAgICAgICAgICAgICAgICBUeXBlYWhlYWQubW9kZS5GVVpaWSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICBtYXJrZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgICAgICAgICAgUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRILFxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZWFoZWFkLm1vZGUuRlVaWlksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIG1hdGNoZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgICAgICAgICAgUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRILFxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZWFoZWFkLm1vZGUuRlVaWlksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiBgdHJ1ZWAsIGNsZWFycyB0aGUgaW5wdXQgdGV4dCB3aGVuIGEgKHBhcnRpYWwpIG1hdGNoIGlzIHNlbGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhclBhcnRpYWxJbnB1dE9uU2VsZWN0aW9uOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBhcHByb3ByaWF0ZSBgLmItdHlwZWFoZWFkLW1hdGNoYCBIVE1MIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGVudGl0aWVzOiBQcm9wVHlwZXMuYXJyYXlPZihcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogdGhlIHRleHQgdG8gYmUgdXNlZCB0byBkbyBzdHJpbmcgY29tcGFyaXNvbiBhbmQgbWF0Y2ggYWdhaW5zdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICB9KVxuICAgICAgICApLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW5kZXJzIGEgZGlzYWJsZWQgdGV4dGZpZWxkIHdpdGggdGhlIGZ1bGwgdGV4dCBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGlucHV0IGhpbnQ7IHdpbGwgcmVtYWluIGJsYW5rIGlmIHRoZSBtYXRjaGVkIHN1YnN0cmluZyBpcyBub3QgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgdXNlciBpbnB1dFxuICAgICAgICAgKi9cbiAgICAgICAgaGludDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXR5cGVhaGVhZC1oaW50YCBIVE1MIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGhpbnRQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItdHlwZWFoZWFkLW1hdGNoLXdyYXBwZXJgIEhUTUwgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgbWF0Y2hXcmFwcGVyUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBcIm9mZnNjcmVlblwiIGNsYXNzIHVzZWQgYnkgeW91ciBhcHBsaWNhdGlvbjsgc3BlY2lmaWNhbGx5IHRvIHJldGFpbiBbQVJJQSBuYXZpZ2FiaWxpdHldKGh0dHA6Ly9zbm9vay5jYS9hcmNoaXZlcy9odG1sX2FuZF9jc3MvaGlkaW5nLWNvbnRlbnQtZm9yLWFjY2Vzc2liaWxpdHkpIGFzIGBkaXNwbGF5OiBub25lYCBleGNsdWRlcyB0aGUgZWxlbWVudCBmcm9tIGNvbnNpZGVyYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIG9mZnNjcmVlbkNsYXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgdXNlciBwcmVzc2VzIGBFbnRlcmAgd2l0aCBubyBhdXRvc3VnZ2VzdCBoaW50IGF2YWlsYWJsZSwgaW5kaWNhdGluZyB0aGF0IGlucHV0IGlzIGNvbXBsZXRlXG4gICAgICAgICAqL1xuICAgICAgICBvbkNvbXBsZXRlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdpdGggdGhlIGluZGV4IG9mIHRoZSBoaWdobGlnaHRlZCBlbnRpdHkgZHVlIHRvIGtleWJvYXJkIHNlbGVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb25FbnRpdHlIaWdobGlnaHRlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB3aXRoIHRoZSBpbmRleCBvZiB0aGUgZW50aXR5IHNlbGVjdGVkIGJ5IHRoZSB1c2VyXG4gICAgICAgICAqL1xuICAgICAgICBvbkVudGl0eVNlbGVjdGVkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5JbnB1dC5kZWZhdWx0UHJvcHMsXG4gICAgICAgIGFsZ29yaXRobTogVHlwZWFoZWFkLm1vZGUuRlVaWlksXG4gICAgICAgIGNsZWFyUGFydGlhbElucHV0T25TZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICBlbnRpdGllczogW10sXG4gICAgICAgIGhpbnQ6IG51bGwsXG4gICAgICAgIGhpbnRQcm9wczoge30sXG4gICAgICAgIG1hdGNoV3JhcHBlclByb3BzOiB7fSxcbiAgICAgICAgb2Zmc2NyZWVuQ2xhc3M6ICdiLW9mZnNjcmVlbicsXG4gICAgICAgIG9uQ29tcGxldGU6IG5vb3AsXG4gICAgICAgIG9uRW50aXR5SGlnaGxpZ2h0ZWQ6IG5vb3AsXG4gICAgICAgIG9uRW50aXR5U2VsZWN0ZWQ6IG5vb3AsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKFR5cGVhaGVhZC5kZWZhdWx0UHJvcHMpXG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgZW50aXR5TWF0Y2hJbmRleGVzOiBbXSxcbiAgICAgICAgaWQ6IHV1aWQoKSxcbiAgICAgICAgaXNDb250cm9sbGVkOiBpc1N0cmluZyh0aGlzLnByb3BzLmlucHV0UHJvcHMudmFsdWUpLFxuICAgICAgICBpbnB1dDogdGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlXG4gICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLmlucHV0UHJvcHMuZGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICB8fCAnJyxcbiAgICAgICAgc2VsZWN0ZWRFbnRpdHlJbmRleDogLTEsXG4gICAgfVxuXG4gICAgbW91bnRlZCA9IGZhbHNlXG5cbiAgICB1cGRhdGVJbnB1dFN0YXRlID0gKHZhbHVlID0gJycpID0+IHRoaXMuc2V0U3RhdGUoe2lucHV0OiB2YWx1ZX0pXG5cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlucHV0UHJvcHMudmFsdWUgfHwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLmRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlTWF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMubW91bnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRW50aXR5SGlnaGxpZ2h0ZWQodGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuZW50aXRpZXMgIT09IHRoaXMucHJvcHMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1hdGNoZXMobmV4dFByb3BzLmVudGl0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0UHJvcHMuaW5wdXRQcm9wcy52YWx1ZSAhPT0gdGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0U3RhdGUobmV4dFByb3BzLmlucHV0UHJvcHMudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlTWF0Y2hlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmVudGl0eU1hdGNoSW5kZXhlcy5sZW5ndGggJiYgIXByZXZTdGF0ZS5lbnRpdHlNYXRjaEluZGV4ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlZnMubWF0Y2hlcy5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9IC8vIGZpeCBhbiBvZGQgYnVnIGluIEZGIHdoZXJlIGl0IGluaXRpYWxpemVzIHRoZSBlbGVtZW50IHdpdGggYW4gaW5jb3JyZWN0IHNjcm9sbFRvcFxuXG4gICAgICAgIGlmICggICB0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXggPj0gMFxuICAgICAgICAgICAgJiYgdGhpcy5wcm9wcy5lbnRpdGllc1t0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXhdICE9PSBwcmV2UHJvcHMuZW50aXRpZXNbcHJldlN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXhdKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRW50aXR5SGlnaGxpZ2h0ZWQodGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLm1vdW50ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRTZWxlY3RlZEVudGl0eVRleHQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMucHJvcHMuZW50aXRpZXNbdGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4XTtcblxuICAgICAgICByZXR1cm4gZW50aXR5ID8gZW50aXR5LnRleHQgOiAnJztcbiAgICB9XG5cbiAgICBoYW5kbGVNYXRjaENsaWNrKGluZGV4KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3NlbGVjdGVkRW50aXR5SW5kZXg6IGluZGV4fSwgdGhpcy5zZXRWYWx1ZVdpdGhTZWxlY3RlZEVudGl0eSk7XG4gICAgfVxuXG4gICAgc2VsZWN0TWF0Y2goZGVsdGEpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRoaXMuc3RhdGUuZW50aXR5TWF0Y2hJbmRleGVzO1xuICAgICAgICBjb25zdCB0b3RhbE1hdGNoZXMgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IG5leHRJbmRleCA9IG1hdGNoZXMuaW5kZXhPZih0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXgpICsgZGVsdGE7XG5cbiAgICAgICAgaWYgKHRvdGFsTWF0Y2hlcykge1xuICAgICAgICAgICAgaWYgKG5leHRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSB0b3RhbE1hdGNoZXMgLSAxOyAvLyByZXZlcnNlIGxvb3BcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dEluZGV4ID49IHRvdGFsTWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IDA7IC8vIGxvb3BcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbWF0Y2hJbmRleCA9IG1hdGNoZXNbbmV4dEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXNOb2RlID0gdGhpcy5yZWZzLm1hdGNoZXM7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzTm9kZVlFbmQgPSBtYXRjaGVzTm9kZS5zY3JvbGxUb3AgKyBtYXRjaGVzTm9kZS5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBtYXRjaE5vZGUgPSB0aGlzLnJlZnNbYG1hdGNoXyQke21hdGNoSW5kZXh9YF07XG4gICAgICAgICAgICBjb25zdCBtYXRjaE5vZGVZU3RhcnQgPSBtYXRjaE5vZGUub2Zmc2V0VG9wO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hOb2RlWUVuZCA9IG1hdGNoTm9kZVlTdGFydCArIG1hdGNoTm9kZS5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIGJyaW5nIGludG8gdmlldyBpZiBuZWNlc3NhcnlcbiAgICAgICAgICAgIGlmIChtYXRjaE5vZGVZRW5kID49IG1hdGNoZXNOb2RlWUVuZCkgeyAvLyBiZWxvd1xuICAgICAgICAgICAgICAgIG1hdGNoZXNOb2RlLnNjcm9sbFRvcCArPSBtYXRjaE5vZGVZRW5kIC0gbWF0Y2hlc05vZGVZRW5kO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaE5vZGVZU3RhcnQgPD0gbWF0Y2hlc05vZGUuc2Nyb2xsVG9wKSB7IC8vIGFib3ZlXG4gICAgICAgICAgICAgICAgbWF0Y2hlc05vZGUuc2Nyb2xsVG9wID0gbWF0Y2hOb2RlWVN0YXJ0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZEVudGl0eUluZGV4OiBtYXRjaEluZGV4fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldE1hdGNoZXMgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkRW50aXR5SW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgIGVudGl0eU1hdGNoSW5kZXhlczogW10sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldElucHV0Tm9kZSA9ICgpID0+IHRoaXMucmVmcy5pbnB1dC5yZWZzLmZpZWxkXG5cbiAgICBzZWxlY3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5nZXRJbnB1dE5vZGUoKTtcblxuICAgICAgICBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICAgIGlucHV0LnNlbGVjdGlvbkVuZCA9IHRoaXMuZ2V0VmFsdWUoKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9jdXMgPSAoKSA9PiB0aGlzLmdldElucHV0Tm9kZSgpLmZvY3VzKClcbiAgICBnZXRWYWx1ZSA9ICgpID0+IHRoaXMucmVmcy5pbnB1dC5nZXRWYWx1ZSgpXG5cbiAgICBzZXRWYWx1ZSA9ICh2YWx1ZSA9ICcnKSA9PiB7XG4gICAgICAgIHRoaXMucmVmcy5pbnB1dC5zZXRWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVJbnB1dFN0YXRlKHZhbHVlKTtcbiAgICAgICAgdGhpcy5yZXNldE1hdGNoZXMoKTtcbiAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgIH1cblxuICAgIGN1cnNvckF0RW5kT2ZJbnB1dCgpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZ2V0SW5wdXROb2RlKCk7XG5cbiAgICAgICAgcmV0dXJuICAgIG5vZGUuc2VsZWN0aW9uU3RhcnQgPT09IG5vZGUuc2VsZWN0aW9uRW5kXG4gICAgICAgICAgICAgICAmJiBub2RlLnNlbGVjdGlvbkVuZCA9PT0gdGhpcy5nZXRWYWx1ZSgpLmxlbmd0aDtcbiAgICB9XG5cbiAgICBzZXRWYWx1ZVdpdGhTZWxlY3RlZEVudGl0eSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkVudGl0eVNlbGVjdGVkKHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuY2xlYXJQYXJ0aWFsSW5wdXRPblNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSgnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHRoaXMuZ2V0U2VsZWN0ZWRFbnRpdHlUZXh0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmVlZHMgdG8gaGFwcGVuIGFmdGVyIHRoZSB1cGNvbWluZyByZW5kZXIgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCBieSBgc2V0VmFsdWVgXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMucmVzZXRNYXRjaGVzLCAwKTtcbiAgICB9XG5cbiAgICBtYXJrRnV6enlNYXRjaFN1YnN0cmluZyhpbnB1dCwgZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IGVudGl0eUNvbnRlbnQgPSBlbnRpdHkudGV4dDtcbiAgICAgICAgY29uc3QgZnJhZ3MgPSBlbnRpdHlDb250ZW50LnNwbGl0KG5ldyBSZWdFeHAoJygnICsgZXNjYXBlcihpbnB1dCkgKyAnKScsICdpZycpKTtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFVzZXJUZXh0ID0gaW5wdXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gZnJhZ3MubGVuZ3RoO1xuICAgICAgICBsZXQgaSA9IC0xO1xuXG4gICAgICAgIHdoaWxlICgrK2kgPCB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGlmIChmcmFnc1tpXS50b0xvd2VyQ2FzZSgpID09PSBub3JtYWxpemVkVXNlclRleHQpIHtcbiAgICAgICAgICAgICAgICBmcmFnc1tpXSA9IDxtYXJrIGtleT17aX0gY2xhc3NOYW1lPSdiLXR5cGVhaGVhZC1tYXRjaC1oaWdobGlnaHQnPntmcmFnc1tpXX08L21hcms+O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZyYWdzO1xuICAgIH1cblxuICAgIG1hcmtTdGFydHNXaXRoTWF0Y2hTdWJzdHJpbmcoaW5wdXQsIGVudGl0eSkge1xuICAgICAgICBjb25zdCBlbnRpdHlDb250ZW50ID0gZW50aXR5LnRleHQ7XG4gICAgICAgIGNvbnN0IHNlZWtWYWx1ZSA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGluZGV4U3RhcnQgPSBlbnRpdHlDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWVrVmFsdWUpO1xuICAgICAgICBjb25zdCBpbmRleEVuZCA9IGluZGV4U3RhcnQgKyBzZWVrVmFsdWUubGVuZ3RoO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICA8c3BhbiBrZXk9JzAnPntlbnRpdHlDb250ZW50LnNsaWNlKDAsIGluZGV4U3RhcnQpfTwvc3Bhbj4sXG4gICAgICAgICAgICA8bWFyayBrZXk9JzEnIGNsYXNzTmFtZT0nYi10eXBlYWhlYWQtbWF0Y2gtaGlnaGxpZ2h0Jz57ZW50aXR5Q29udGVudC5zbGljZShpbmRleFN0YXJ0LCBpbmRleEVuZCl9PC9tYXJrPixcbiAgICAgICAgICAgIDxzcGFuIGtleT0nMic+e2VudGl0eUNvbnRlbnQuc2xpY2UoaW5kZXhFbmQpfTwvc3Bhbj4sXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0TWFya2luZ0Z1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcodGhpcy5wcm9wcy5hbGdvcml0aG0pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hbGdvcml0aG0gPT09IFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFya1N0YXJ0c1dpdGhNYXRjaFN1YnN0cmluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFya0Z1enp5TWF0Y2hTdWJzdHJpbmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMuYWxnb3JpdGhtLm1hcmtlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLmFsZ29yaXRobS5tYXJrZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy53YXJuZWRNYXJrZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53YXJuZWRNYXJrZXIgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUeXBlYWhlYWQ6IG5vIGBwcm9wcy5hbGdvcml0aG0ubWFya2VyYCB3YXMgcHJvdmlkZWQ7IGZhbGxpbmcgYmFjayB0byB0aGUgZGVmYXVsdCBtYXJraW5nIGFsZ29yaXRobSAoRlVaWlkpLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubWFya0Z1enp5TWF0Y2hTdWJzdHJpbmc7XG4gICAgfVxuXG4gICAgbWFya01hdGNoU3Vic3RyaW5nID0gKC4uLmFyZ3MpID0+IHRoaXMuZ2V0TWFya2luZ0Z1bmN0aW9uKCkoLi4uYXJncylcblxuICAgIGdldEZ1enp5TWF0Y2hJbmRleGVzKHVzZXJUZXh0LCBlbnRpdGllcykge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gdXNlclRleHQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICByZXR1cm4gZW50aXRpZXMucmVkdWNlKGZ1bmN0aW9uIGZpbmRJbmRleGVzKHJlc3VsdCwgZW50aXR5LCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuICAgZW50aXR5LnRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKG5vcm1hbGl6ZWQpICE9PSAtMVxuICAgICAgICAgICAgICAgICAgID8gKHJlc3VsdC5wdXNoKGluZGV4KSAmJiByZXN1bHQpXG4gICAgICAgICAgICAgICAgICAgOiByZXN1bHQ7XG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG5cbiAgICBnZXRTdGFydHNXaXRoTWF0Y2hJbmRleGVzKHVzZXJUZXh0LCBlbnRpdGllcykge1xuICAgICAgICBjb25zdCBzZWVrVmFsdWUgPSB1c2VyVGV4dC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHJldHVybiBlbnRpdGllcy5yZWR1Y2UoZnVuY3Rpb24gc2Vla01hdGNoKHJlc3VsdHMsIGVudGl0eSwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChlbnRpdHkudGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2Vla1ZhbHVlKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChpbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuXG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG5cbiAgICBnZXRNYXRjaGluZ0Z1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaXNTdHJpbmcodGhpcy5wcm9wcy5hbGdvcml0aG0pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hbGdvcml0aG0gPT09IFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRIKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhcnRzV2l0aE1hdGNoSW5kZXhlcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnV6enlNYXRjaEluZGV4ZXM7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMuYWxnb3JpdGhtLm1hdGNoZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5hbGdvcml0aG0ubWF0Y2hlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLndhcm5lZE1hdGNoZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53YXJuZWRNYXRjaGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVHlwZWFoZWFkOiBubyBgcHJvcHMuYWxnb3JpdGhtLm1hdGNoZXJgIHdhcyBwcm92aWRlZDsgZmFsbGluZyBiYWNrIHRvIHRoZSBkZWZhdWx0IG1hdGNoaW5nIGFsZ29yaXRobSAoRlVaWlkpLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RnV6enlNYXRjaEluZGV4ZXM7XG4gICAgfVxuXG4gICAgZ2V0TWF0Y2hJbmRleGVzID0gKC4uLmFyZ3MpID0+IHRoaXMuZ2V0TWF0Y2hpbmdGdW5jdGlvbigpKC4uLmFyZ3MpXG5cbiAgICBjb21wdXRlTWF0Y2hlcyhwcm92aWRlZEVudGl0aWVzKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW50aXRpZXMgPSBwcm92aWRlZEVudGl0aWVzIHx8IHByb3BzLmVudGl0aWVzO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gc3RhdGUuaW5wdXQ7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzID0gY3VycmVudFZhbHVlID09PSAnJyA/IFtdIDogdGhpcy5nZXRNYXRjaEluZGV4ZXMoY3VycmVudFZhbHVlLCBlbnRpdGllcyk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFbnRpdHlJbmRleDogbWF0Y2hlcy5sZW5ndGggPyBtYXRjaGVzWzBdIDogLTEsXG4gICAgICAgICAgICAgICAgZW50aXR5TWF0Y2hJbmRleGVzOiBtYXRjaGVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29udHJvbGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5wdXRTdGF0ZShldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5jb21wdXRlTWF0Y2hlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuc2VsZWN0aW9uU3RhcnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ1RhYic6XG4gICAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICAgICAgaWYgKCAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCAhPT0gLTFcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmN1cnNvckF0RW5kT2ZJbnB1dCgpXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5nZXRJbnB1dE5vZGUoKSA9PT0gZXZlbnQudGFyZ2V0XG4gICAgICAgICAgICAgICAgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQubmF0aXZlRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZhbHVlV2l0aFNlbGVjdGVkRW50aXR5KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgZXZlbnQubmF0aXZlRXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gYmxvY2sgY3Vyc29yIG1vdmVtZW50XG4gICAgICAgICAgICB0aGlzLnNlbGVjdE1hdGNoKC0xKTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICBldmVudC5uYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBibG9jayBjdXJzb3IgbW92ZW1lbnRcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0TWF0Y2goMSk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgaWYgKCAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCAhPT0gLTFcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmdldElucHV0Tm9kZSgpID09PSBldmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdFbnRlcic6XG4gICAgICAgICAgICBpZiAoICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4ICE9PSAtMVxuICAgICAgICAgICAgICAgICYmIHRoaXMuZ2V0SW5wdXROb2RlKCkgPT09IGV2ZW50LnRhcmdldCkge1xuICAgICAgICAgICAgICAgIGV2ZW50Lm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZVdpdGhTZWxlY3RlZEVudGl0eSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQ29tcGxldGUodGhpcy5zdGF0ZS5pbnB1dCwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMub25LZXlEb3duKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyTm90aWZpY2F0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHJlZj0nYXJpYSdcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5zdGF0ZS5pZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3RoaXMucHJvcHMub2Zmc2NyZWVuQ2xhc3N9XG4gICAgICAgICAgICAgICAgYXJpYS1saXZlPSdwb2xpdGUnPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldFNlbGVjdGVkRW50aXR5VGV4dCgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVySGludCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGludCkge1xuICAgICAgICAgICAgY29uc3QgdXNlclRleHQgPSB0aGlzLnN0YXRlLmlucHV0O1xuICAgICAgICAgICAgY29uc3QgcmF3ID0gdGhpcy5nZXRTZWxlY3RlZEVudGl0eVRleHQoKTtcbiAgICAgICAgICAgIGxldCBwcm9jZXNzZWQgPSAnJztcblxuICAgICAgICAgICAgaWYgKCAgIHJhd1xuICAgICAgICAgICAgICAgICYmIHJhdy50b0xvd2VyQ2FzZSgpLmluZGV4T2YodXNlclRleHQudG9Mb3dlckNhc2UoKSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSByYXcucmVwbGFjZShuZXcgUmVnRXhwKHVzZXJUZXh0LCAnaScpLCB1c2VyVGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5oaW50UHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIHJlZj0naGludCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeChcbiAgICAgICAgICAgICAgICAgICAgICAgICdiLWlucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdiLWlucHV0LXBsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdiLXR5cGVhaGVhZC1oaW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGludFByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9Jy0xJz5cbiAgICAgICAgICAgICAgICAgICAge3Byb2Nlc3NlZH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJNYXRjaGVzKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbnRpdHlNYXRjaEluZGV4ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcHMubWF0Y2hXcmFwcGVyUHJvcHM7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIHJlZj0nbWF0Y2hlcydcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi10eXBlYWhlYWQtbWF0Y2gtd3JhcHBlcicsIHByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lbnRpdHlNYXRjaEluZGV4ZXMubWFwKChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5wcm9wcy5lbnRpdGllc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7Y2xhc3NOYW1lLCB0ZXh0LCAuLi5yZXN0fSA9IGVudGl0eTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2BtYXRjaF8kJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXR5cGVhaGVhZC1tYXRjaCcsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ItdHlwZWFoZWFkLW1hdGNoLXNlbGVjdGVkJzogdGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4ID09PSBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17dGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVNYXRjaENsaWNrLmJpbmQodGhpcywgaW5kZXgpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMubWFya01hdGNoU3Vic3RyaW5nKHRoaXMuc3RhdGUuaW5wdXQsIGVudGl0eSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHtwcm9wcywgc3RhdGV9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHByb3BzLCBUeXBlYWhlYWQuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi10eXBlYWhlYWQtd3JhcHBlcicsIHByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259PlxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlck5vdGlmaWNhdGlvbigpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckhpbnQoKX1cblxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICB7Li4uZXh0cmFjdENoaWxkUHJvcHMocHJvcHMsIElucHV0LmRlZmF1bHRQcm9wcyl9XG4gICAgICAgICAgICAgICAgICAgIHJlZj0naW5wdXQnXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtY29udHJvbHM9e3N0YXRlLmlkfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5wcm9wcy5pbnB1dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi10eXBlYWhlYWQnLCBwcm9wcy5pbnB1dFByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIH19IC8+XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJNYXRjaGVzKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IFR5cGVhaGVhZCBmcm9tICcuLi9ib3VuZGxlc3MtdHlwZWFoZWFkL2luZGV4JztcbmltcG9ydCBleHRyYWN0Q2hpbGRQcm9wcyBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb2JqZWN0LWludGVyc2VjdGlvbi9pbmRleCc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbmNvbnN0IGZpcnN0ID0gKGFycmF5KSA9PiBhcnJheVswXTtcbmNvbnN0IGxhc3QgPSAoYXJyYXkpID0+IGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuXG4vKipcbiMgVG9rZW5pemVkSW5wdXRcbl9fRGlzdGlsbCByaWNoIGVudGl0eSBkYXRhIG1hdGNoZWQgdmlhIHR5cGVhaGVhZCBpbnB1dCBpbnRvIHNpbXBsZSB2aXN1YWwgYWJzdHJhY3Rpb25zLl9fXG5cbkJhc2ljIHVzYWdlIG9mIHRoaXMgY29tcG9uZW50IGlzIGlkZW50aWNhbCB0byB0aGF0IG9mIFtUeXBlYWhlYWRdKGh0dHBzOi8vZ2l0aHViLmNvbS9iaWJsaW90ZWNoL3Vpa2l0L3RyZWUvbWFzdGVyL3BhY2thZ2VzL2JvdW5kbGVzcy10eXBlYWhlYWQpLiBBZGRpdGlvbmFsIHByb3BzIGFyZSBhdmFpbGFibGUgdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIHRva2VuaXphdGlvbiBmdW5jdGlvbmFsaXR5LlxuXG4+IFRoZSBCb3VuZGxlc3MgVGVhbSByZWNvbW1lbmRzIHJldmlld2luZyB0aGUgW1Rva2VuIEZpZWxkXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9tYWMvZG9jdW1lbnRhdGlvbi9Vc2VyRXhwZXJpZW5jZS9Db25jZXB0dWFsL09TWEhJR3VpZGVsaW5lcy9Db250cm9sc1RleHQuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkLzIwMDAwOTU3LUNINTEtU1c0KSBvZiB0aGUgQXBwbGUgSHVtYW4gSW50ZXJmYWNlIEd1aWRlbGluZXMgZm9yIGluc3BpcmF0aW9uIG9mIGRlc2lnbiBwYXR0ZXJucyBhbmQgb3B0aW1hbCB1c2FnZSBvZiBgVG9rZW5pemVkSW5wdXRgIGluIHlvdXIgcHJvamVjdC5cblxuIyMjIEludGVyYWN0aW9uc1xuXG5UeXBlIHwgQ29udGV4dCB8IEV4cGVjdGF0aW9uXG4tLS0tIHwgLS0tLS0tLSB8IC0tLS0tLS0tLS0tXG5fX0tleWJvYXJkX18gfCBgW0VudGVyXWAgfCBzZWxlY3QgdGhlIGN1cnJlbnQgdHlwZWFoZWFkIG1hdGNoIGlmIG9uZSBleGlzdHMsIHRyaWdnZXIgYGhhbmRsZUFkZFRva2VuYCB3aXRoIHRoZSBlbnRpdHkgaW5kZXggYW5kIGNsZWFyIG91dCB0aGUgaW5wdXQgZmllbGRcbl9fS2V5Ym9hcmRfXyB8IGBbQmFja3NwYWNlXWAgb24gdG9rZW4gfCB0cmlnZ2VyIGBoYW5kbGVSZW1vdmVUb2tlbnNgIHdpdGggdGhlIGVudGl0eSBpbmRleChlcylcbl9fS2V5Ym9hcmRfXyB8IGBbTGVmdF1gIHwgY3ljbGUgbGVmdCB0aHJvdWdoIHRva2VucyBpZiBhIHRva2VuIGlzIGFscmVhZHkgc2VsZWN0ZWQgb3IgY3Vyc29yIGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgdHlwZWFoZWFkXG5fX0tleWJvYXJkX18gfCBgW1JpZ2h0XWAgfCBjeWNsZSByaWdodCB0aHJvdWdoIHRva2VucyBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSB0b2tlbnMgYW5kIHRoZSByaWdodG1vc3Qgb25lIGlzIG5vdCBzZWxlY3RlZFxuX19Nb3VzZV9fIHwgYFtDbGlja11gIG9uIHRva2VuIHwgZm9jdXMgdG9rZW4sIGNhbGxzIGBoYW5kbGVTZWxlY3Rpb25gIHdpdGggdGhlIHRva2VuJ3MgZW50aXR5IGluZGV4XG5fX01vdXNlX18gfCBgW0NsaWNrXWAgb24gdG9rZW4gY2xvc2UgfCB0cmlnZ2VyIGBoYW5kbGVSZW1vdmVUb2tlbnNgIHdpdGggdGhlIHRva2VuJ3MgZW50aXR5IGluZGV4XG5cbiMjIyBDb21wb25lbnQgSW5zdGFuY2UgTWV0aG9kc1xuXG5XaGVuIHVzaW5nIGBUb2tlbml6ZWRJbnB1dGAgaW4geW91ciBwcm9qZWN0LCB5b3UgbWF5IGNhbGwgdGhlIGZvbGxvd2luZyBtZXRob2RzIG9uIGEgcmVuZGVyZWQgaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudC4gVXNlIFtgcmVmc2BdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmVmcy1hbmQtdGhlLWRvbS5odG1sKSB0byBnZXQgdGhlIGluc3RhbmNlLlxuXG4tIF9fYWRkKGluZGV4OiBudW1iZXIpX19cbiAgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGVzIGEgdG9rZW4gZm9yIGBwcm9wcy5lbnRpdGllc1tpbmRleF1gOyBgcHJvcHMuaGFuZGxlQWRkVG9rZW5gIHdpbGwgYmUgY2FsbGVkIGFzIGEgaGludCB0byBwZXJzaXN0IHRoZSBjaGFuZ2UgaW4geW91ciBjb250cm9sbGVyIHZpZXcgb3Igb3RoZXIgYXBwbGljYXRpb24gc3RhdGVcblxuLSBfX2ZvY3VzKClfX1xuICBmb2N1c2VzIHRoZSBicm93c2VyIG9vbiB0aGUgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0IGZvciBpbW1lZGlhdGUgdGV4dCBlbnRyeVxuXG4tIF9fZ2V0SW5wdXROb2RlKClfX1xuICByZXR1cm5zIHRoZSByYXcgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0IERPTSBub2RlXG5cbi0gX19nZXRTZWxlY3RlZEVudGl0eVRleHQoKV9fXG4gIHJldHVybnMgdGhlIGB0ZXh0YCBwcm9wZXJ0eSBvZiB0aGUgY3VycmVudGx5IGhpZ2hsaWdodGVkIGVudGl0eSAoZnJvbSBgcHJvcHMuZW50aXRpZXNgKSwgb3IgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmdcblxuLSBfX2dldFZhbHVlKClfX1xuICByZXRyaWV2ZXMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dFxuXG4tIF9fcmVtb3ZlKGluZGV4OiBudW1iZXIpX19cbiAgcHJvZ3JhbW1hdGljYWxseSByZW1vdmVzIHRoZSB0b2tlbiBmb3IgYHByb3BzLmVudGl0aWVzW2luZGV4XWA7IGBwcm9wcy5oYW5kbGVSZW1vdmVUb2tlbnNgIHdpbGwgYmUgY2FsbGVkIGFzIGEgaGludCB0byBwZXJzaXN0IHRoZSBjaGFuZ2UgaW4geW91ciBjb250cm9sbGVyIHZpZXcgb3Igb3RoZXIgYXBwbGljYXRpb24gc3RhdGVcblxuLSBfX3NlbGVjdCgpX19cbiAgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGVzIGEgZnVsbCBzZWxlY3Rpb24gb24gdGhlIHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dCBzdWNoIHRoYXQgYSBwcmVzcyBvZiB0aGUgQmFja3NwYWNlIGtleSB3b3VsZCBmdWxseSBjbGVhciB0aGUgaW5wdXRcblxuLSBfX3NldFZhbHVlKHZhbHVlOiBzdHJpbmcpX19cbiAgc2V0cyB0aGUgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0IHRvIHRoZSBzcGVjaWZpZWQgdGV4dCBhbmQgdXBkYXRlcyBpbnRlcm5hbCBzdGF0ZTsgZG8gbm90IHVzZSB0aGlzIG1ldGhvZCB3aGVuIHVzaW5nIGBUeXBlYWhlYWRgIGFzIGEgXCJjb250cm9sbGVkIGlucHV0XCJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9rZW5pemVkSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKiogVG9rZW5pemVkSW5wdXQgYWNjZXB0cyBhbGwgW2BUeXBlYWhlYWRgXSgvVHlwZWFoZWFkI3Byb3BzKSBhbmQgW2BJbnB1dGBdKC9JbnB1dCNwcm9wcykgcHJvcHMgKi9cbiAgICAgICAgLi4uVHlwZWFoZWFkLnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZnVuY3Rpb24gaGFuZGxlciB0aGF0IGlzIGNhbGxlZCB3aGVuIGFuIGVudGl0eSBpcyBzZWxlY3RlZCBieSB0aGUgdXNlciBhbmQgYSB0b2tlbiBzaG91bGQgYmUgY3JlYXRlZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFuZGxlQWRkVG9rZW46IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmdW5jdGlvbiBoYW5kbGVyIHRoYXQgaXMgY2FsbGVkIHdoZW4gb25lIG9yIG1vcmUgdG9rZW5zIGFyZSByZW1vdmVkIGJ5IHRoZSB1c2VyIHZpYSBjbGlja2luZyB0aGUgXCJjbG9zZVwiIGJ1dHRvbiBvciBwcmVzc2luZyB0aGUgYEJhY2tzcGFjZWAga2V5IHdoaWxlIHRva2VucyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGhhbmRsZVJlbW92ZVRva2VuczogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZ1bmN0aW9uIGhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgd2hlbiBvbmUgb3IgbW9yZSB0b2tlbnMgYXJlIHNlbGVjdGVkIGJ5IHRoZSB1c2VyIHZpYSBjbGljayBvciBrZXlib2FyZCBhY3Rpb25zOyBjYWxsZWQgd2l0aCB3aGF0IHRoZSBuZXcgc2VsZWN0aW9uIHNob3VsZCBiZVxuICAgICAgICAgKi9cbiAgICAgICAgaGFuZGxlTmV3U2VsZWN0aW9uOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIEpTWCB1c2VkIGZvciB0aGUgY2xvc2UgYnV0dG9uIGl0c2VsZlxuICAgICAgICAgKi9cbiAgICAgICAgdG9rZW5DbG9zZUNvbXBvbmVudDogUHJvcFR5cGVzLmVsZW1lbnQsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVybWluZXMgaWYgdGhlIGAuYi10b2tlbmZpZWxkLXRva2VuLWNsb3NlYCBlbGVtZW50IHNob3VsZCBiZSByZW5kZXJlZCBmb3IgZWFjaCB0b2tlblxuICAgICAgICAgKi9cbiAgICAgICAgdG9rZW5DbG9zZVZpc2libGU6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgaW5kZXhlcyBvZiBlbnRpdGllcyB0aGF0IHNob3VsZCBiZSByZW5kZXJlZCBhcyBcInRva2Vuc1wiIGluIHRoZSBjb21wb25lbnQgVUlcbiAgICAgICAgICovXG4gICAgICAgIHRva2VuczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBpbmRleGVzIG9mIHRva2VuaXplZCBlbnRpdGllcyB0aGF0IGFyZSBwYXJ0IG9mIGFuIGFjdGl2ZSBzZWxlY3Rpb247IHRoZSB1c2VyIGNhbiBwcmVzcyBgQmFja3NwYWNlYCB0byB0cmlnZ2VyIGBoYW5kbGVSZW1vdmVUb2tlbnNgXG4gICAgICAgICAqL1xuICAgICAgICB0b2tlbnNTZWxlY3RlZDogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgLi4uVHlwZWFoZWFkLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgaGFuZGxlQWRkVG9rZW46IG5vb3AsXG4gICAgICAgIGhhbmRsZVJlbW92ZVRva2Vuczogbm9vcCxcbiAgICAgICAgaGFuZGxlTmV3U2VsZWN0aW9uOiBub29wLFxuICAgICAgICB0b2tlbkNsb3NlQ29tcG9uZW50OiAoPGRpdj5YPC9kaXY+KSxcbiAgICAgICAgdG9rZW5DbG9zZVZpc2libGU6IHRydWUsXG4gICAgICAgIHRva2VuczogW10sXG4gICAgICAgIHRva2Vuc1NlbGVjdGVkOiBbXSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoVG9rZW5pemVkSW5wdXQuZGVmYXVsdFByb3BzKVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICBjb25zdCBwcmV2aW91c1NlbGVjdGVkSW5kZXhlcyA9IHByZXZQcm9wcy50b2tlbnNTZWxlY3RlZDtcbiAgICAgICAgY29uc3QgY3VycmVudFNlbGVjdGVkSW5kZXhlcyA9IHRoaXMucHJvcHMudG9rZW5zU2VsZWN0ZWQ7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMudG9rZW5zLmxlbmd0aCA+IHByZXZQcm9wcy50b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKCcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zdXBwcmVzc05leHRUb2tlblNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NOZXh0VG9rZW5TZWxlY3Rpb24gPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCAgIHByZXZpb3VzU2VsZWN0ZWRJbmRleGVzICE9PSBjdXJyZW50U2VsZWN0ZWRJbmRleGVzXG4gICAgICAgICAgICAmJiBjdXJyZW50U2VsZWN0ZWRJbmRleGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgaWYgKCAgIGN1cnJlbnRTZWxlY3RlZEluZGV4ZXMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRTZWxlY3RlZEluZGV4ZXNbMF0gIT09IHByZXZpb3VzU2VsZWN0ZWRJbmRleGVzWzBdIC8qIG11bHRpIHNlbGVjdGlvbiwgbGVmdHdhcmQgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZzW2B0b2tlbl8ke2N1cnJlbnRTZWxlY3RlZEluZGV4ZXNbMF19YF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGFzdChjdXJyZW50U2VsZWN0ZWRJbmRleGVzKSAhPT0gbGFzdChwcmV2aW91c1NlbGVjdGVkSW5kZXhlcykgLyogbXVsdGkgc2VsZWN0aW9uLCByaWdodHdhcmQgKi8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWZzW2B0b2tlbl8ke2xhc3QoY3VycmVudFNlbGVjdGVkSW5kZXhlcyl9YF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWZzW2B0b2tlbl8ke2N1cnJlbnRTZWxlY3RlZEluZGV4ZXNbMF19YF0uZm9jdXMoKTtcbiAgICAgICAgfSAvLyBtb3ZlIGZvY3VzXG4gICAgfVxuXG4gICAgLy8gcGFzc3Rocm91Z2hzIHRvIFR5cGVhaGVhZCBpbnN0YW5jZSBtZXRob2RzXG4gICAgZm9jdXMgPSAoKSA9PiB0aGlzLnJlZnMudHlwZWFoZWFkLmZvY3VzKClcbiAgICBnZXRJbnB1dE5vZGUgPSAoKSA9PiB0aGlzLnJlZnMudHlwZWFoZWFkLmdldElucHV0Tm9kZSgpXG4gICAgZ2V0U2VsZWN0ZWRFbnRpdHlUZXh0ID0gKCkgPT4gdGhpcy5yZWZzLnR5cGVhaGVhZC5nZXRTZWxlY3RlZEVudGl0eVRleHQoKVxuICAgIGdldFZhbHVlID0gKCkgPT4gdGhpcy5yZWZzLnR5cGVhaGVhZC5nZXRWYWx1ZSgpXG4gICAgc2VsZWN0ID0gKCkgPT4gdGhpcy5yZWZzLnR5cGVhaGVhZC5zZWxlY3QoKVxuICAgIHNldFZhbHVlID0gKHZhbHVlKSA9PiB0aGlzLnJlZnMudHlwZWFoZWFkLnNldFZhbHVlKHZhbHVlKVxuXG4gICAgYWRkID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRva2Vucy5pbmRleE9mKGluZGV4KSA9PT0gLTEpIHsgdGhpcy5wcm9wcy5oYW5kbGVBZGRUb2tlbihpbmRleCk7IH1cbiAgICB9XG5cbiAgICByZW1vdmUoaW5kZXgpIHtcbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IChBcnJheS5pc0FycmF5KGluZGV4KSA/IGluZGV4IDogW2luZGV4XSkuZmlsdGVyKChpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnRva2Vucy5pbmRleE9mKGlkeCkgIT09IC0xO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5kZXhlcy5sZW5ndGgpIHsgdGhpcy5wcm9wcy5oYW5kbGVSZW1vdmVUb2tlbnMoaW5kZXhlcyk7IH1cbiAgICB9XG5cbiAgICBzZWxlY3RUb2tlbihpbmRleCkge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZU5ld1NlbGVjdGlvbihbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBzZWxlY3RUb2tlbnMoaW5kZXhlcykge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZU5ld1NlbGVjdGlvbihpbmRleGVzKTtcbiAgICB9XG5cbiAgICBzZWxlY3RQcmV2aW91c1Rva2VuKGFwcGVuZCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMucHJvcHMudG9rZW5zU2VsZWN0ZWQ7XG4gICAgICAgIGNvbnN0IGluZGV4ZXMgPSB0aGlzLnByb3BzLnRva2VucztcblxuICAgICAgICBpZiAoICAgc2VsZWN0ZWQubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiBmaXJzdChzZWxlY3RlZCkgPT09IGZpcnN0KGluZGV4ZXMpKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIGFscmVhZHkgYXQgbGVmdG1vc3QgYm91bmRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPT09IDApIHsgLy8gcGljayB0aGUgcmlnaHRtb3N0XG4gICAgICAgICAgICB0aGlzLnNlbGVjdFRva2VuKGxhc3QoaW5kZXhlcykpO1xuICAgICAgICB9IGVsc2UgeyAvLyBhZGQgdGhlIG5leHQgbGVmdG1vc3QgdG8gYSByZWNvbnN0cnVjdGVkIFwic2VsZWN0ZWRcIiBhcnJheVxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNUb2tlbiA9IGluZGV4ZXNbaW5kZXhlcy5pbmRleE9mKGZpcnN0KHNlbGVjdGVkKSkgLSAxXTtcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RUb2tlbnMoYXBwZW5kID8gW3ByZXZpb3VzVG9rZW5dLmNvbmNhdChzZWxlY3RlZCkgOiBbcHJldmlvdXNUb2tlbl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0TmV4dFRva2VuKGFwcGVuZCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMucHJvcHMudG9rZW5zU2VsZWN0ZWQ7XG4gICAgICAgIGNvbnN0IGluZGV4ZXMgPSB0aGlzLnByb3BzLnRva2VucztcblxuICAgICAgICBpZiAoc2VsZWN0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGFzdChzZWxlY3RlZCkgPT09IGxhc3QoaW5kZXhlcykpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRUb2tlbiA9IGluZGV4ZXNbaW5kZXhlcy5pbmRleE9mKGxhc3Qoc2VsZWN0ZWQpKSArIDFdO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFRva2VucyhhcHBlbmQgPyBzZWxlY3RlZC5jb25jYXQobmV4dFRva2VuKSA6IFtuZXh0VG9rZW5dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZU5ld1NlbGVjdGlvbihbXSk7XG4gICAgfVxuXG4gICAgaGFuZGxlSW5wdXRDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2xpY2spKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmlucHV0UHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVJbnB1dEZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25Gb2N1cykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIDM3OiAgICAvLyBsZWZ0IGFycm93XG4gICAgICAgICAgICB0aGlzLnNlbGVjdFByZXZpb3VzVG9rZW4oZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAzOTogICAgLy8gcmlnaHQgYXJyb3dcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0TmV4dFRva2VuKGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgODogICAgIC8vIGJhY2tzcGFjZVxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMudG9rZW5zU2VsZWN0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhpcy5wcm9wcy50b2tlbnNTZWxlY3RlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDY1OiAgICAvLyBsZXR0ZXIgXCJhXCJcbiAgICAgICAgICAgIGlmIChldmVudC5tZXRhS2V5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gaGFja3ksIGJ1dCB0aGUgb25seSB3YXkgdW5sZXNzIHdlIG1vdmUgc2VsZWN0aW9uIG1hbmFnZW1lbnQgaW50ZXJuYWwgYWdhaW5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdXBwcmVzc05leHRUb2tlblNlbGVjdGlvbiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhhbmRsZU5ld1NlbGVjdGlvbih0aGlzLnByb3BzLnRva2Vucyk7XG4gICAgICAgICAgICB9IC8vIFwiY21kXCJcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMub25LZXlEb3duKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlVG9rZW5DbG9zZUNsaWNrKGluZGV4LCBldmVudCkge1xuICAgICAgICAvLyBpZiB3ZSBkb24ndCBzdG9wIHByb3BhZ2F0aW9uLCB0aGUgZXZlbnQgYnViYmxlcyBhbmQgcmVzdWx0cyBpbiBhIGZhaWxlZCB0b2tlbiBzZWxlY3Rpb25cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgICB0aGlzLmZvY3VzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMudG9rZW5DbG9zZUNvbXBvbmVudC5wcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnRva2VuQ2xvc2VDb21wb25lbnQucHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJUb2tlbkNsb3NlKGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRva2VuQ2xvc2VWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMudG9rZW5DbG9zZUNvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY3goJ2ItdG9rZW5maWVsZC10b2tlbi1jbG9zZScsIHRoaXMucHJvcHMudG9rZW5DbG9zZUNvbXBvbmVudC5wcm9wcy5jbGFzc05hbWUpLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlVG9rZW5DbG9zZUNsaWNrLmJpbmQodGhpcywgaW5kZXgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVUb2tlbktleURvd24oaW5kZXgsIGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgY2FzZSAxMzogLy8gZW50ZXJcbiAgICAgICAgY2FzZSAzMjogLy8gc3BhY2VcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VG9rZW4oaW5kZXgpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgODogLy8gYmFja3NwYWNlXG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpbmRleCk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJUb2tlbnMoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYi10b2tlbmZpZWxkLXRva2Vucyc+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMudG9rZW5zLm1hcCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2B0b2tlbl8ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXRva2VuZmllbGQtdG9rZW4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ItdG9rZW5maWVsZC10b2tlbi1zZWxlY3RlZCc6IHRoaXMucHJvcHMudG9rZW5zU2VsZWN0ZWQuaW5kZXhPZihpbmRleCkgIT09IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc2VsZWN0VG9rZW4uYmluZCh0aGlzLCBpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZVRva2VuS2V5RG93bi5iaW5kKHRoaXMsIGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD0nMCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuZW50aXRpZXNbaW5kZXhdLnRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyVG9rZW5DbG9zZShpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBUb2tlbml6ZWRJbnB1dC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgIHJlZj0nd3JhcHBlcidcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXRva2VuZmllbGQtd3JhcHBlcicsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICBvbktleURvd249e3RoaXMuaGFuZGxlS2V5RG93bn0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyVG9rZW5zKCl9XG5cbiAgICAgICAgICAgICAgICA8VHlwZWFoZWFkXG4gICAgICAgICAgICAgICAgICAgIHsuLi5leHRyYWN0Q2hpbGRQcm9wcyh0aGlzLnByb3BzLCBUeXBlYWhlYWQuZGVmYXVsdFByb3BzKX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPSd0eXBlYWhlYWQnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYi10b2tlbmZpZWxkJ1xuICAgICAgICAgICAgICAgICAgICBjbGVhclBhcnRpYWxJbnB1dE9uU2VsZWN0aW9uPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnByb3BzLmlucHV0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLmhhbmRsZUlucHV0Q2xpY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiB0aGlzLmhhbmRsZUlucHV0Rm9jdXMsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uRW50aXR5U2VsZWN0ZWQ9e3RoaXMuYWRkfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbi8qKlxuIyBUb29sdGlwXG5fX0Egc2ltcGxlIHdyYXBwZXIgdGhhdCBkaXNwbGF5cyBwcm92aWRlZCB0ZXh0IG9uIG1vdXNlb3Zlci5fX1xuXG5OZXN0IGFueSBSZWFjdC1yZW5kZXJhYmxlIGNvbnRlbnQgaW5zaWRlIHRoZSBgVG9vbHRpcGAgd3JhcHBlciBhcyB5b3Ugd291bGQgYSBzaW1wbGUgYDxkaXY+YC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwb3NpdGlvbiA9IHtcbiAgICAgICAgQUJPVkU6ICdBQk9WRScsXG4gICAgICAgIEJFTE9XOiAnQkVMT1cnLFxuICAgICAgICBCRUZPUkU6ICdCRUZPUkUnLFxuICAgICAgICBBRlRFUjogJ0FGVEVSJyxcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogYW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXRlcm1pbmVzIHRoZSBjb3JyZWN0IGNsYXNzIHRvIGFwcGx5IHRvIHBvc2l0aW9uIHRoZSB0b29sdGlwXG4gICAgICAgICAqL1xuICAgICAgICBwb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKFRvb2x0aXAucG9zaXRpb24pKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGNvbnRlbnQgdG8gYmUgc2hvd24gaW4gdGhlIHRvb2x0aXBcbiAgICAgICAgICovXG4gICAgICAgIHRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY29tcG9uZW50OiAnZGl2JyxcbiAgICAgICAgcG9zaXRpb246IFRvb2x0aXAucG9zaXRpb24uQUJPVkUsXG4gICAgICAgIHRleHQ6ICcnLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhUb29sdGlwLmRlZmF1bHRQcm9wcylcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge3Bvc2l0aW9ufSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0aGlzLnByb3BzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFRvb2x0aXAuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXRvb2x0aXAnLCB0aGlzLnByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAnYi10b29sdGlwLXBvc2l0aW9uLWFib3ZlJzogcG9zaXRpb24gPT09IFRvb2x0aXAucG9zaXRpb24uQUJPVkUsXG4gICAgICAgICAgICAgICAgICAgICdiLXRvb2x0aXAtcG9zaXRpb24tYmVsb3cnOiBwb3NpdGlvbiA9PT0gVG9vbHRpcC5wb3NpdGlvbi5CRUxPVyxcbiAgICAgICAgICAgICAgICAgICAgJ2ItdG9vbHRpcC1wb3NpdGlvbi1iZWZvcmUnOiBwb3NpdGlvbiA9PT0gVG9vbHRpcC5wb3NpdGlvbi5CRUZPUkUsXG4gICAgICAgICAgICAgICAgICAgICdiLXRvb2x0aXAtcG9zaXRpb24tYWZ0ZXInOiBwb3NpdGlvbiA9PT0gVG9vbHRpcC5wb3NpdGlvbi5BRlRFUixcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICBkYXRhLXRvb2x0aXA9e3RoaXMucHJvcHMudGV4dH1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10gfHwgdGhpcy5wcm9wcy50ZXh0fT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvdGhpcy5wcm9wcy5jb21wb25lbnQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInRlc3QiLCJzb3VyY2UiLCJrZXlzIiwicmVkdWNlIiwiaGFzaCIsImtleSIsIm9taXR0ZWRLZXlzIiwiaW5kZXhPZiIsInN0YXRlIiwiYWN0aXZlQ2hpbGRJbmRleCIsIl90aGlzIiwicHJvcHMiLCJkZWZhdWx0QWN0aXZlQ2hpbGRJbmRleCIsImhhbmRsZUtleURvd24iLCJldmVudCIsIm1vZGUiLCJBcnJvd0tleU5hdmlnYXRpb24iLCJWRVJUSUNBTCIsIkJPVEgiLCJwcmV2ZW50RGVmYXVsdCIsIm1vdmVGb2N1cyIsIkhPUklaT05UQUwiLCJpc0Z1bmN0aW9uIiwib25LZXlEb3duIiwiaGFuZGxlRm9jdXMiLCJ0YXJnZXQiLCJoYXNBdHRyaWJ1dGUiLCJwYXJzZUludCIsImdldEF0dHJpYnV0ZSIsIlJlYWN0IiwiQ2hpbGRyZW4iLCJ0b0FycmF5IiwiY2hpbGRyZW4iLCJpbmRleCIsInNldFN0YXRlIiwiY2hpbGQiLCJvbkZvY3VzIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwidGhpcyIsInNldEZvY3VzIiwibmV4dFByb3BzIiwiY291bnQiLCJudW1DaGlsZHJlbiIsInJlZnMiLCJ3cmFwcGVyIiwiZmluZERPTU5vZGUiLCJjaGlsZE5vZGUiLCJjb21wYXJlRG9jdW1lbnRQb3NpdGlvbiIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsIk5vZGUiLCJET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkciLCJmb2N1cyIsImRlbHRhIiwibmV4dEluZGV4IiwibWFwIiwiY2xvbmVFbGVtZW50IiwiZGF0YS1mb2N1cy1pbmRleCIsImRhdGEtc2tpcCIsInRhYkluZGV4IiwidW5kZWZpbmVkIiwiX3RoaXMyIiwiY29tcG9uZW50Iiwib21pdCIsImludGVybmFsS2V5cyIsInJlZiIsIlB1cmVDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJmdW5jIiwibnVtYmVyIiwib25lT2YiLCJPYmplY3QiLCJkZWZhdWx0UHJvcHMiLCJoYXNPd25Qcm9wZXJ0eSIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmciLCJhcmdUeXBlIiwiY2xhc3NlcyIsInB1c2giLCJBcnJheSIsImlzQXJyYXkiLCJjbGFzc05hbWVzIiwiYXBwbHkiLCJoYXNPd24iLCJjYWxsIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJiYWJlbEhlbHBlcnMudHlwZW9mIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaGFuZGxlQ2xpY2siLCJkaXNhYmxlZCIsInRvZ2dsZVN0YXRlIiwib25DbGljayIsInByZXNzZWQiLCJCdXR0b24iLCJjbGFzc05hbWUiLCJjeCIsImItYnV0dG9uLXByZXNzYWJsZSIsImItYnV0dG9uLXByZXNzZWQiLCJhcmlhLXByZXNzZWQiLCJub2RlIiwib25QcmVzc2VkIiwib25VbnByZXNzZWQiLCJib29sIiwibm9vcCIsInJlcGxhY2UiLCJhIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwiaWQiLCJ1dWlkIiwiaGFuZGxlQ2hhbmdlIiwiaW5wdXRQcm9wcyIsImNoZWNrZWQiLCJuYW1lIiwib25DaGFuZ2UiLCJpbnB1dCIsImluZGV0ZXJtaW5hdGUiLCJzZXRJbmRldGVybWluYXRlIiwiU3RyaW5nIiwidHlwZSIsImItY2hlY2tib3gtbWl4ZWQiLCJiLWNoZWNrYm94LWNoZWNrZWQiLCJiLWNoZWNrYm94LXVuY2hlY2tlZCIsImFyaWEtY2hlY2tlZCIsImdldEFyaWFTdGF0ZSIsImxhYmVsIiwibGFiZWxQcm9wcyIsImh0bWxGb3IiLCJDaGVja2JveCIsInJlbmRlcklucHV0IiwicmVuZGVyTGFiZWwiLCJzaGFwZSIsInZhbHVlIiwib2JqZWN0Iiwib25DaGVja2VkIiwib25VbmNoZWNrZWQiLCJpdGVtcyIsImV2ZXJ5IiwiaXRlbSIsInNvbWUiLCJzZWxlY3RBbGwiLCJhbGxJdGVtc0NoZWNrZWQiLCJzZWxlY3RBbGxQcm9wcyIsImFsbENoZWNrZWQiLCJhbnlJdGVtc0NoZWNrZWQiLCJvbkFsbENoZWNrZWQiLCJvbkFsbFVuY2hlY2tlZCIsIm9uQ2hpbGRDaGVja2VkIiwib25DaGlsZFVuY2hlY2tlZCIsInJlbmRlckNoZWNrYm94ZXMiLCJzZWxlY3RBbGxQb3NpdGlvbiIsIkNvbnN0YW50cyIsIlNFTEVDVF9BTExfQkVGT1JFIiwidG9CZVJlbmRlcmVkIiwidW5zaGlmdCIsInJlbmRlclNlbGVjdEFsbCIsIlNFTEVDVF9BTExfQUZURVIiLCJDaGVja2JveEdyb3VwIiwicmVuZGVyQ2hpbGRyZW4iLCJhcnJheU9mIiwiaXNSZXF1aXJlZCIsIiRwb3J0YWwiLCIkcGFzc2VuZ2VyIiwiY3JlYXRlRWxlbWVudCIsImRlc3RpbmF0aW9uIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJQb3J0YWxsZWRDb250ZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJwb3J0YWxJZCIsIlJlYWN0RE9NIiwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicmVtb3ZlQ2hpbGQiLCJQb3J0YWwiLCJQT1JUQUxfREFUQV9BVFRSSUJVVEUiLCJDb21wb25lbnQiLCJpbnN0YW5jZU9mIiwiSFRNTEVsZW1lbnQiLCJib2R5IiwicHJvdG90eXBlIiwic2xpY2UiLCJtb3VudGVkIiwidXVpZEhlYWRlciIsInV1aWRCb2R5IiwibmF0aXZlRXZlbnQiLCJjYXB0dXJlRm9jdXMiLCJjbG9zZU9uT3V0c2lkZUZvY3VzIiwiaXNQYXJ0T2ZEaWFsb2ciLCJzZXRUaW1lb3V0Iiwib25DbG9zZSIsImV4cGxpY2l0T3JpZ2luYWxUYXJnZXQiLCJyZWxhdGVkVGFyZ2V0IiwicHJldmlvdXMiLCJjbG9zZU9uRXNjS2V5IiwiaGFuZGxlT3V0c2lkZUNsaWNrIiwiY2xvc2VPbk91dHNpZGVDbGljayIsImhhbmRsZU91dHNpZGVTY3JvbGxXaGVlbCIsImNsb3NlT25PdXRzaWRlU2Nyb2xsIiwiJHdyYXBwZXIiLCJjb25jYXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsInBhcmVudE5vZGUiLCJjb250YWlucyIsImVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiJGRpYWxvZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJib2R5UHJvcHMiLCJmb290ZXIiLCJmb290ZXJQcm9wcyIsImhlYWRlciIsImhlYWRlclByb3BzIiwiYXJpYS1oaWRkZW4iLCJ3cmFwcGVyUHJvcHMiLCJyZW5kZXJGb2N1c0JvdW5kYXJ5IiwiYmVmb3JlIiwiRGlhbG9nIiwicm9sZSIsImFyaWEtbGFiZWxsZWRieSIsImFyaWEtZGVzY3JpYmVkYnkiLCJyZW5kZXJIZWFkZXIiLCJyZW5kZXJCb2R5IiwicmVuZGVyRm9vdGVyIiwiYWZ0ZXIiLCJzdHJpbmdOdW1iZXIiLCJpbnN0YW5jZSIsImdldENvbXB1dGVkU3R5bGUiLCJ0b0kiLCJmb250U2l6ZSIsImNvbnRhaW5lckJveCIsImhlaWdodCIsIndpZHRoIiwiYm94U2l6aW5nIiwiY29udGFpbmVySGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJjb250YWluZXJXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiZmxvb3IiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsInN0eWxlIiwibWluIiwibWF4Rm9udFNpemUiLCJvcHRpbWl6ZUZvckhlaWdodCIsIm9wdGltaXplRm9yV2lkdGgiLCJpbnN0YW5jZXMiLCJmb3JFYWNoIiwiaGFuZGxlV2luZG93UmVzaXplIiwic3BsaWNlIiwicmVzY2FsZSIsInJlZ2lzdGVySW5zdGFuY2UiLCJ1bnJlZ2lzdGVySW5zdGFuY2UiLCJGaXR0ZWRUZXh0IiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwic3RhdHVzIiwiSW1hZ2UiLCJMT0FESU5HIiwic3JjIiwicmVzZXRQcmVsb2FkZXIiLCJwcmVsb2FkIiwibG9hZGVyIiwib25sb2FkIiwib25lcnJvciIsIkxPQURFRCIsIkVSUk9SIiwiZGlzcGxheUFzQmFja2dyb3VuZEltYWdlIiwiaW1hZ2VQcm9wcyIsInRpdGxlIiwiYWx0IiwiYmFja2dyb3VuZEltYWdlIiwib25Mb2FkIiwib25FcnJvciIsInN0YXR1c1Byb3BzIiwiYi1pbWFnZS1sb2FkaW5nIiwiYi1pbWFnZS1sb2FkZWQiLCJiLWltYWdlLWVycm9yIiwicmVuZGVySW1hZ2UiLCJyZW5kZXJTdGF0dXMiLCJpc0NvbnRyb2xsZWQiLCJpc1N0cmluZyIsImlzRm9jdXNlZCIsInNldElucHV0VmFsdWUiLCJnZXRWYWx1ZSIsImZpZWxkIiwiaGFuZGxlQmx1ciIsIm9uQmx1ciIsImRlZmF1bHRWYWx1ZSIsIm5leHRWYWx1ZSIsImRpc3BhdGNoRXZlbnQiLCJidWJibGVzIiwiaGlkZVBsYWNlaG9sZGVyT25Gb2N1cyIsImlzTm9uRW1wdHkiLCJwbGFjZWhvbGRlciIsImdldFBsYWNlaG9sZGVyVGV4dCIsIklucHV0IiwicmVuZGVyUGxhY2Vob2xkZXIiLCJvYmoxIiwib2JqMiIsImNoaWxkUHJvcHMiLCJwb3J0YWxQcm9wcyIsIk1vZGFsIiwiJG1vZGFsIiwibWFza1Byb3BzIiwiZXh0cmFjdENoaWxkUHJvcHMiLCJtb2RhbFByb3BzIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJvYmplY3RQcm90byIsInRvSW50ZWdlciIsImlzT2JqZWN0TGlrZSIsIm9iamVjdFRvU3RyaW5nIiwic3ltYm9sVGFnIiwidG9OdW1iZXIiLCJJTkZJTklUWSIsInRvRmluaXRlIiwicmVtYWluZGVyIiwicmVzdWx0IiwiaXNTeW1ib2wiLCJpc09iamVjdCIsInZhbHVlT2YiLCJvdGhlciIsInJlVHJpbSIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJpc0JpbmFyeSIsInJlSXNCYWRIZXgiLCJpc0ludGVnZXIiLCJpbmRleE9mT3B0aW9uSW5Gb2N1cyIsImdldFByZXZpb3VzT3B0aW9uSW5kZXgiLCJhY3RpdmVJdGVtSW5kZXgiLCJnZXROZXh0T3B0aW9uSW5kZXgiLCJoYW5kbGVPcHRpb25DbGljayIsIm9wdGlvbnMiLCJvcHRpb24iLCJzZWxlY3RlZCIsImN1cnJlbnRPcHRpb25JbmRleCIsIm5leHQiLCJvbk9wdGlvblNlbGVjdGVkIiwiZGVmaW5pdGlvbiIsIlNlZ21lbnRlZENvbnRyb2wiLCJpbnRlcm5hbENoaWxkS2V5cyIsImItc2VnbWVudGVkLWNvbnRyb2wtb3B0aW9uLXNlbGVjdGVkIiwiaGFuZGxlT3B0aW9uQmx1ciIsImJpbmQiLCJoYW5kbGVPcHRpb25Gb2N1cyIsImNvbnRlbnQiLCJyZW5kZXJPcHRpb25zIiwibWlzc2luZ1NlbGVjdGVkIiwic2VlblNlbGVjdGVkIiwibXVsdGlwbGVTZWxlY3RlZCIsIngiLCJkYXRhIiwidGhlbiIsInJlc29sdmVkUGF5bG9hZCIsImN1cnJlbnRQcm9wcyIsImNsb3N1cmVQcm9taXNlIiwiY29udmVydFRvSlNYRnVuYyIsImNvbnZlcnREYXRhVG9KU1hPcldhaXQiLCJleHRyYUNsYXNzZXMiLCJiLXBhZ2luYXRpb24taXRlbS1ldmVuIiwiZXZlbiIsImItcGFnaW5hdGlvbi1pdGVtLW9kZCIsImItcGFnaW5hdGlvbi1pdGVtLWxvYWRpbmciLCJJdGVtIiwiZ2V0Q2xhc3NlcyIsImxvYWRpbmdDb250ZW50IiwiZGF0YS1wYWdpbmF0aW9uLWluZGV4IiwiY3VycmVudFBhZ2UiLCJfdGhpczMiLCJpbml0aWFsUGFnZSIsInRhcmdldEluZGV4IiwibnVtSXRlbXNQZXJQYWdlIiwiZ2V0UGFnZUZvckluZGV4IiwiY2VpbCIsIml0ZW1zUGVyUGFnZSIsInRvdGFsUGFnZXMiLCJ0b3RhbEl0ZW1zIiwiZmlyc3RWaXNpYmxlSXRlbUluZGV4IiwicGFnZVRvSW5kZXgiLCJjb250cm9scyIsIkZJUlNUIiwibmV4dFRhcmdldEluZGV4IiwiUFJFVklPVVMiLCJORVhUIiwiTEFTVCIsIml0ZW1fMCIsImlkZW50aWZpZXIiLCJvbGRQcm9wcyIsIl90aGlzNCIsIm51bVBhZ2VUb2dnbGVzIiwic3RhcnRQYWdlIiwic2hvd1BhZ2luYXRpb25TdGF0ZSIsInNob3dKdW1wVG9GaXJzdCIsImp1bXBUb0ZpcnN0Q29udHJvbENvbnRlbnQiLCJQYWdpbmF0aW9uIiwicHJldmlvdXNQYWdlQ29udHJvbENvbnRlbnQiLCJlbmRQYWdlIiwiZGF0YS1wYWdlLW51bWJlciIsIm5leHRQYWdlQ29udHJvbENvbnRlbnQiLCJzaG93SnVtcFRvTGFzdCIsImp1bXBUb0xhc3RDb250cm9sQ29udGVudCIsImN1c3RvbUNvbnRyb2xDb250ZW50IiwiZmlyc3RJdGVtSW5kZXgiLCJsYXN0SXRlbUluZGV4IiwiZ2VuZXJhdGVkSXRlbXMiLCJnZXRJdGVtIiwibGlzdFdyYXBwZXJQcm9wcyIsImdlbmVyYXRlSXRlbXMiLCJfdGhpczUiLCJpdGVtVG9KU1hDb252ZXJ0ZXJGdW5jIiwiaW5kZXhPZmZzZXQiLCJpdGVtTG9hZGluZ0NvbnRlbnQiLCJwb3NpdGlvbiIsImhpZGVQYWdlcklmTm90TmVlZGVkIiwidG9nZ2xlV3JhcHBlclByb3BzIiwidG9Mb3dlckNhc2UiLCJwb3NpdGlvbkxvd2VyIiwidG9VcHBlckNhc2UiLCJwb3NpdGlvbkNhcGl0YWxpemVkIiwiY3JlYXRlUGFnZUJ1dHRvbk9wdGlvbnMiLCJwb3NpdGlvbnMiLCJBQk9WRSIsInJlbmRlckNvbnRyb2xzIiwicmVuZGVySXRlbXMiLCJCRUxPVyIsInJlbmRlclZpZXciLCJudW1iZXJPZlBhZ2VzIiwiaWRlbnRpdHkiLCJsZW4iLCJkb2N1bWVudEVsZW1lbnQiLCJhcnIxIiwiYXJyMiIsImZpbHRlciIsIm9iaiIsInZpZXdCb3giLCJ4bWxucyIsImZpbGwiLCJwb2ludHMiLCJhbGlnbiIsImFuY2hvciIsImNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeSIsInJvdW5kIiwiZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbiIsImdldE5leHREaWFsb2dZUG9zaXRpb24iLCJnZXRBbGlnbm1lbnRDb3JyZWN0aW9uSWZPdmVyZmxvd2luZyIsImR4IiwiZHkiLCJhbGlnbm1lbnRDb3JyZWN0aW9uIiwiZGlkQWxpZ25tZW50Q2hhbmdlIiwiJGNhcmV0IiwibGVmdCIsImdldE5leHRDYXJldFhQb3NpdGlvbiIsInRvcCIsImdldE5leHRDYXJldFlQb3NpdGlvbiIsImFwcGx5VHJhbnNsYXRpb24iLCJkaWFsb2ciLCJhbmNob3JYQWxpZ24iLCJwcmVzZXQiLCJhbmNob3JZQWxpZ24iLCJzZWxmWEFsaWduIiwic2VsZllBbGlnbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFuY2hvckxlZnQiLCJhbmNob3JSZWN0IiwiYW5jaG9yVG9wIiwiYW5jaG9ySGVpZ2h0IiwiYW5jaG9yV2lkdGgiLCJib2R5TGVmdCIsImJvZHlSZWN0IiwiYm9keVRvcCIsIlBvcG92ZXIiLCJNSURETEUiLCJTVEFSVCIsIkVORCIsIm5leHRYIiwiY2FyZXQiLCJjbGllbnRXaWR0aCIsIm5leHRZIiwiY2xpZW50SGVpZ2h0IiwiYW5jaG9yWSIsInkiLCJhdXRvUmVwb3NpdGlvbiIsInNjcm9sbFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwieE1heCIsImNvcnJlY3Rpb25zIiwieU1heCIsInRyYW5zZm9ybVByb3AiLCJuZXh0QWxpZ25tZW50IiwiY3VycmVudEFsaWdubWVudCIsImNvbnN0YW50IiwiZ2V0Q2xhc3NBbGlnbm1lbnRGcmFnbWVudCIsImNhcmV0Q29tcG9uZW50IiwiZ2V0RnJhZyIsIkxFRlQiLCJSSUdIVCIsInByZXNldFZhbHVlcyIsInZhbHVlcyIsIkRFRkFVTFRfQ0FSRVRfQ09NUE9ORU5UIiwid2l0aG91dCIsImV4cGFuZGVkIiwiZGlzcGF0Y2hDYWxsYmFjayIsInRvZ2dsZVByb3BzIiwibmV3UHJvcHMiLCJQcm9ncmVzc2l2ZURpc2Nsb3N1cmUiLCJiLWRpc2Nsb3N1cmUtZXhwYW5kZWQiLCJ0ZWFzZXJFeHBhbmRlZCIsInRlYXNlciIsInJlbmRlckNvbnRlbnQiLCJvbkV4cGFuZCIsIm9uSGlkZSIsIm9uQ2FuY2VsIiwiY2FuY2VsUHJvcHMiLCJwcm9ncmVzc1Byb3BzIiwiYi1wcm9ncmVzcy1pbmRldGVybWluYXRlIiwicHJvZ3Jlc3MiLCJ0d2VlblByb3BlcnR5IiwiUHJvZ3Jlc3MiLCJyZW5kZXJQcm9ncmVzcyIsInJlbmRlckNhbmNlbCIsIm9uU2VsZWN0ZWQiLCJiLXJhZGlvLXNlbGVjdGVkIiwiUmFkaW8iLCJzdHIiLCJtYXRjaE9wZXJhdG9yc1JlIiwiY29tcHV0ZU1hdGNoZXMiLCJzZWxlY3RlZEVudGl0eUluZGV4Iiwib25FbnRpdHlIaWdobGlnaHRlZCIsImVudGl0aWVzIiwidXBkYXRlSW5wdXRTdGF0ZSIsImVudGl0eU1hdGNoSW5kZXhlcyIsIm1hdGNoZXMiLCJzY3JvbGxUb3AiLCJzZXRWYWx1ZVdpdGhTZWxlY3RlZEVudGl0eSIsInRvdGFsTWF0Y2hlcyIsIm1hdGNoZXNOb2RlIiwibWF0Y2hJbmRleCIsIm1hdGNoTm9kZSIsIm9mZnNldFRvcCIsIm1hdGNoTm9kZVlTdGFydCIsIm1hdGNoTm9kZVlFbmQiLCJtYXRjaGVzTm9kZVlFbmQiLCJnZXRJbnB1dE5vZGUiLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsImVudGl0eSIsInRleHQiLCJlbnRpdHlDb250ZW50Iiwic3BsaXQiLCJlc2NhcGVyIiwiZnJhZ3MiLCJ0aHJlc2hvbGQiLCJub3JtYWxpemVkVXNlclRleHQiLCJzZWVrVmFsdWUiLCJpbmRleFN0YXJ0IiwiaW5kZXhFbmQiLCJhbGdvcml0aG0iLCJUeXBlYWhlYWQiLCJTVEFSVFNfV0lUSCIsIm1hcmtTdGFydHNXaXRoTWF0Y2hTdWJzdHJpbmciLCJtYXJrRnV6enlNYXRjaFN1YnN0cmluZyIsIm1hcmtlciIsIndhcm5lZE1hcmtlciIsImNvbnNvbGUiLCJ3YXJuIiwidXNlclRleHQiLCJub3JtYWxpemVkIiwicmVzdWx0cyIsImdldFN0YXJ0c1dpdGhNYXRjaEluZGV4ZXMiLCJnZXRGdXp6eU1hdGNoSW5kZXhlcyIsIm1hdGNoZXIiLCJ3YXJuZWRNYXRjaGVyIiwicHJvdmlkZWRFbnRpdGllcyIsImN1cnJlbnRWYWx1ZSIsImdldE1hdGNoSW5kZXhlcyIsIm9mZnNjcmVlbkNsYXNzIiwiYXJpYS1saXZlIiwiZ2V0U2VsZWN0ZWRFbnRpdHlUZXh0IiwiaGludCIsInJhdyIsInByb2Nlc3NlZCIsImhpbnRQcm9wcyIsIm1hdGNoV3JhcHBlclByb3BzIiwicmVzdCIsImItdHlwZWFoZWFkLW1hdGNoLXNlbGVjdGVkIiwiaGFuZGxlTWF0Y2hDbGljayIsIm1hcmtNYXRjaFN1YnN0cmluZyIsInJlbmRlck5vdGlmaWNhdGlvbiIsInJlbmRlckhpbnQiLCJhcmlhLWNvbnRyb2xzIiwicmVuZGVyTWF0Y2hlcyIsIkZVWlpZIiwiY2xlYXJQYXJ0aWFsSW5wdXRPblNlbGVjdGlvbiIsIm9uQ29tcGxldGUiLCJvbkVudGl0eVNlbGVjdGVkIiwicmVzZXRNYXRjaGVzIiwic2VsZWN0Iiwic2V0VmFsdWUiLCJnZXRNYXJraW5nRnVuY3Rpb24iLCJnZXRNYXRjaGluZ0Z1bmN0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiY3Vyc29yQXRFbmRPZklucHV0Iiwic2hpZnRLZXkiLCJzZWxlY3RNYXRjaCIsImFycmF5IiwidHlwZWFoZWFkIiwiYWRkIiwidG9rZW5zIiwiaGFuZGxlQWRkVG9rZW4iLCJoYW5kbGVJbnB1dENsaWNrIiwiY2xlYXJTZWxlY3Rpb24iLCJoYW5kbGVJbnB1dEZvY3VzIiwid2hpY2giLCJzZWxlY3RQcmV2aW91c1Rva2VuIiwic2VsZWN0TmV4dFRva2VuIiwidG9rZW5zU2VsZWN0ZWQiLCJyZW1vdmUiLCJtZXRhS2V5IiwiX3N1cHByZXNzTmV4dFRva2VuU2VsZWN0aW9uIiwiaGFuZGxlTmV3U2VsZWN0aW9uIiwicHJldmlvdXNTZWxlY3RlZEluZGV4ZXMiLCJjdXJyZW50U2VsZWN0ZWRJbmRleGVzIiwibGFzdCIsImlkeCIsImluZGV4ZXMiLCJoYW5kbGVSZW1vdmVUb2tlbnMiLCJhcHBlbmQiLCJmaXJzdCIsInNlbGVjdFRva2VuIiwic2VsZWN0VG9rZW5zIiwicHJldmlvdXNUb2tlbiIsIm5leHRUb2tlbiIsInRva2VuQ2xvc2VDb21wb25lbnQiLCJ0b2tlbkNsb3NlVmlzaWJsZSIsImhhbmRsZVRva2VuQ2xvc2VDbGljayIsImItdG9rZW5maWVsZC10b2tlbi1zZWxlY3RlZCIsImhhbmRsZVRva2VuS2V5RG93biIsInJlbmRlclRva2VuQ2xvc2UiLCJUb2tlbml6ZWRJbnB1dCIsInJlbmRlclRva2VucyIsIlRvb2x0aXAiLCJiLXRvb2x0aXAtcG9zaXRpb24tYWJvdmUiLCJiLXRvb2x0aXAtcG9zaXRpb24tYmVsb3ciLCJiLXRvb2x0aXAtcG9zaXRpb24tYmVmb3JlIiwiQkVGT1JFIiwiYi10b29sdGlwLXBvc2l0aW9uLWFmdGVyIiwiQUZURVIiLCJkYXRhLXRvb2x0aXAiLCJhcmlhLWxhYmVsIl0sIm1hcHBpbmdzIjoib1RBQUEseUJBQWdCQSxxQkFBeUIsOENDR1FDLHFFQUM3QyxlQUFjQyxLQUFLRCxHQUFRRSxPQUFPLFdBQThCQyxFQUFNQyxHQUNsRSxHQUFJQyxFQUFZQyxRQUFRRixNQUFVLEVBQUcsQ0FDakNELEVBQUtDLEdBQU9KLEVBQU9JLEdBR3ZCLHk1RENtREpH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
